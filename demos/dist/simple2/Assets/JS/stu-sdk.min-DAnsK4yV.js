(function(){const v=document.createElement("link").relList;if(v&&v.supports&&v.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))m(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const e of c.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&m(e)}).observe(document,{childList:!0,subtree:!0});function s(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function m(t){if(t.ep)return;t.ep=!0;const c=s(t);fetch(t.href,c)}})();var Ca=function(){var o=import.meta.url;return function(s){s=s||{};var s=typeof s<"u"?s:{},m,t;s.ready=new Promise(function(r,n){m=r,t=n});var c={},e;for(e in s)s.hasOwnProperty(e)&&(c[e]=s[e]);var a="./this.program",u=!0,d="";function g(r){return s.locateFile?s.locateFile(r,d):d+r}var P,I,T;typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),o&&(d=o),d.indexOf("blob:")!==0?d=d.substr(0,d.lastIndexOf("/")+1):d="",P=function(r){var n=new XMLHttpRequest;return n.open("GET",r,!1),n.send(null),n.responseText},I=function(r,n,i){var l=new XMLHttpRequest;l.open("GET",r,!0),l.responseType="arraybuffer",l.onload=function(){if(l.status==200||l.status==0&&l.response){n(l.response);return}i()},l.onerror=i,l.send(null)};var $=s.print||console.log.bind(console),G=s.printErr||console.warn.bind(console);for(e in c)c.hasOwnProperty(e)&&(s[e]=c[e]);c=null,s.arguments&&s.arguments,s.thisProgram&&(a=s.thisProgram),s.quit&&s.quit;function O(r,n){return Math.ceil(r/n)*n}function x(r){x.shown||(x.shown={}),x.shown[r]||(x.shown[r]=1,G(r))}var j=0,Q=function(r){j=r},fe=function(){return j},me;s.wasmBinary&&(me=s.wasmBinary),s.noExitRuntime,typeof WebAssembly!="object"&&ee("no native wasm support detected");var pe,le=!1;function J(r,n){r||ee("Assertion failed: "+n)}function ye(r){var n=s["_"+r];return J(n,"Cannot call unknown function "+r+", make sure it is exported"),n}function ue(r,n,i,l,S){var f={string:function(A){var X=0;if(A!=null&&A!==0){var K=(A.length<<2)+1;X=jt(K),we(A,X,K)}return X},array:function(A){var X=jt(A.length);return Vt(A,X),X}};function h(A){return A}var y=ye(r),w=[],E=0;if(l)for(var R=0;R<l.length;R++){var U=f[i[R]];U?(E===0&&(E=Ue()),w[R]=U(l[R])):w[R]=l[R]}var W=y.apply(null,w),k=typeof B=="object"&&B.currData,M=typeof B=="object"&&B.asyncFinalizers.length>0;return k&&!M?new Promise(function(A){B.asyncFinalizers.push(function(X){E!==0&&_e(E),A(X)})}):(W=W,E!==0&&_e(E),W)}var Ce=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ie(r,n,i){for(var l=n+i,S=n;r[S]&&!(S>=l);)++S;if(S-n>16&&r.subarray&&Ce)return Ce.decode(r.subarray(n,S));for(var f="";n<S;){var h=r[n++];if(!(h&128)){f+=String.fromCharCode(h);continue}var y=r[n++]&63;if((h&224)==192){f+=String.fromCharCode((h&31)<<6|y);continue}var w=r[n++]&63;if((h&240)==224?h=(h&15)<<12|y<<6|w:h=(h&7)<<18|y<<12|w<<6|r[n++]&63,h<65536)f+=String.fromCharCode(h);else{var E=h-65536;f+=String.fromCharCode(55296|E>>10,56320|E&1023)}}return f}function ae(r,n){return r?ie(se,r,n):""}function Ie(r,n,i,l){if(!(l>0))return 0;for(var S=i,f=i+l-1,h=0;h<r.length;++h){var y=r.charCodeAt(h);if(y>=55296&&y<=57343){var w=r.charCodeAt(++h);y=65536+((y&1023)<<10)|w&1023}if(y<=127){if(i>=f)break;n[i++]=y}else if(y<=2047){if(i+1>=f)break;n[i++]=192|y>>6,n[i++]=128|y&63}else if(y<=65535){if(i+2>=f)break;n[i++]=224|y>>12,n[i++]=128|y>>6&63,n[i++]=128|y&63}else{if(i+3>=f)break;n[i++]=240|y>>18,n[i++]=128|y>>12&63,n[i++]=128|y>>6&63,n[i++]=128|y&63}}return n[i]=0,i-S}function we(r,n,i){return Ie(r,se,n,i)}function ve(r){for(var n=0,i=0;i<r.length;++i){var l=r.charCodeAt(i);l>=55296&&l<=57343&&(l=65536+((l&1023)<<10)|r.charCodeAt(++i)&1023),l<=127?++n:l<=2047?n+=2:l<=65535?n+=3:n+=4}return n}var ze=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Ye(r,n){for(var i=r,l=i>>1,S=l+n/2;!(l>=S)&&Xe[l];)++l;if(i=l<<1,i-r>32&&ze)return ze.decode(se.subarray(r,i));for(var f="",h=0;!(h>=n/2);++h){var y=Ge[r+h*2>>1];if(y==0)break;f+=String.fromCharCode(y)}return f}function Me(r,n,i){if(i===void 0&&(i=2147483647),i<2)return 0;i-=2;for(var l=n,S=i<r.length*2?i/2:r.length,f=0;f<S;++f){var h=r.charCodeAt(f);Ge[n>>1]=h,n+=2}return Ge[n>>1]=0,n-l}function Ae(r){return r.length*2}function Or(r,n){for(var i=0,l="";!(i>=n/4);){var S=C[r+i*4>>2];if(S==0)break;if(++i,S>=65536){var f=S-65536;l+=String.fromCharCode(55296|f>>10,56320|f&1023)}else l+=String.fromCharCode(S)}return l}function Lr(r,n,i){if(i===void 0&&(i=2147483647),i<4)return 0;for(var l=n,S=l+i-4,f=0;f<r.length;++f){var h=r.charCodeAt(f);if(h>=55296&&h<=57343){var y=r.charCodeAt(++f);h=65536+((h&1023)<<10)|y&1023}if(C[n>>2]=h,n+=4,n+4>S)break}return C[n>>2]=0,n-l}function Mr(r){for(var n=0,i=0;i<r.length;++i){var l=r.charCodeAt(i);l>=55296&&l<=57343&&++i,n+=4}return n}function Et(r){var n=ve(r)+1,i=je(n);return i&&Ie(r,re,i,n),i}function Vt(r,n){re.set(r,n)}function Ar(r,n,i){for(var l=0;l<r.length;++l)re[n++>>0]=r.charCodeAt(l);re[n>>0]=0}function Br(r,n){return r%n>0&&(r+=n-r%n),r}var it,re,se,Ge,Xe,C,Pe,Kt,bt;function qt(r){it=r,s.HEAP8=re=new Int8Array(r),s.HEAP16=Ge=new Int16Array(r),s.HEAP32=C=new Int32Array(r),s.HEAPU8=se=new Uint8Array(r),s.HEAPU16=Xe=new Uint16Array(r),s.HEAPU32=Pe=new Uint32Array(r),s.HEAPF32=Kt=new Float32Array(r),s.HEAPF64=bt=new Float64Array(r)}s.INITIAL_MEMORY;var Yt=[],Xt=[],xr=[],Zt=[];Xt.push({func:function(){yr()}});function Hr(){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)Nr(s.preRun.shift());ct(Yt)}function Fr(){!s.noFSInit&&!p.init.initialized&&p.init(),ct(Xt)}function jr(){p.ignorePermissions=!1,ct(xr)}function zr(){if(s.postRun)for(typeof s.postRun=="function"&&(s.postRun=[s.postRun]);s.postRun.length;)Vr(s.postRun.shift());ct(Zt)}function Nr(r){Yt.unshift(r)}function Vr(r){Zt.unshift(r)}var Be=0,Ze=null;function Wa(r){return r}function Rt(r){Be++,s.monitorRunDependencies&&s.monitorRunDependencies(Be)}function st(r){if(Be--,s.monitorRunDependencies&&s.monitorRunDependencies(Be),Be==0&&Ze){var n=Ze;Ze=null,n()}}s.preloadedImages={},s.preloadedAudios={};function ee(r){s.onAbort&&s.onAbort(r),r+="",G(r),le=!0,r="abort("+r+"). Build with -s ASSERTIONS=1 for more info.";var n=new WebAssembly.RuntimeError(r);throw t(n),n}function Kr(r,n){return String.prototype.startsWith?r.startsWith(n):r.indexOf(n)===0}var qr="data:application/octet-stream;base64,";function Qt(r){return Kr(r,qr)}var Ee="signature-sdk.wasm";Qt(Ee)||(Ee=g(Ee));function Jt(r){try{if(r==Ee&&me)return new Uint8Array(me);if(!T)throw"both async and sync fetching of the wasm failed"}catch(n){ee(n)}}function Yr(){return!me&&u&&typeof fetch=="function"?fetch(Ee,{credentials:"same-origin"}).then(function(r){if(!r.ok)throw"failed to load wasm binary file at '"+Ee+"'";return r.arrayBuffer()}).catch(function(){return Jt(Ee)}):Promise.resolve().then(function(){return Jt(Ee)})}function Xr(){var r={a:ya};function n(h,y){var w=h.exports;w=B.instrumentWasmExports(w),s.asm=w,pe=s.asm.Ca,qt(pe.buffer),s.asm.Ea,st()}Rt();function i(h){n(h.instance)}function l(h){return Yr().then(function(y){return WebAssembly.instantiate(y,r)}).then(h,function(y){G("failed to asynchronously prepare wasm: "+y),ee(y)})}function S(){return!me&&typeof WebAssembly.instantiateStreaming=="function"&&!Qt(Ee)&&typeof fetch=="function"?fetch(Ee,{credentials:"same-origin"}).then(function(h){var y=WebAssembly.instantiateStreaming(h,r);return y.then(i,function(w){return G("wasm streaming compile failed: "+w),G("falling back to ArrayBuffer instantiation"),l(i)})}):l(i)}if(s.instantiateWasm)try{var f=s.instantiateWasm(r,n);return f=B.instrumentWasmExports(f),f}catch(h){return G("Module.instantiateWasm callback failed with error: "+h),!1}return S().catch(t),{}}var Y,de,Zr={50220:function(){p.analyzePath("/signature_sdk").exists||(p.mkdir("/signature_sdk"),p.mount(te,{},"/signature_sdk")),p.syncfs(!0,function(r){r?ue("readLicenceInternalError","v",["boolean"],!1):ue("readLicenceInternal")})},50756:function(){p.syncfs(function(r){ue(r?"writeLicenceInternalError":"writeLicenceInternal")})},66188:function(){return Math.floor(Date.now()/1e3)}};function ct(r){for(;r.length>0;){var n=r.shift();if(typeof n=="function"){n(s);continue}var i=n.func;typeof i=="number"?n.arg===void 0?function(){Ur.call(null,i)}():function(l){zt.apply(null,[i,l])}(n.arg):i(n.arg===void 0?null:n.arg)}}function Qr(r,n,i,l){ee("Assertion failed: "+ae(r)+", at: "+[n?ae(n):"unknown filename",i,l?ae(l):"unknown function"])}var ce={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function Jr(r){return je(r+ce.SIZE)+ce.SIZE}function en(r){this.excPtr=r,this.ptr=r-ce.SIZE,this.set_type=function(n){C[this.ptr+ce.TYPE_OFFSET>>2]=n},this.get_type=function(){return C[this.ptr+ce.TYPE_OFFSET>>2]},this.set_destructor=function(n){C[this.ptr+ce.DESTRUCTOR_OFFSET>>2]=n},this.get_destructor=function(){return C[this.ptr+ce.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(n){C[this.ptr+ce.REFCOUNT_OFFSET>>2]=n},this.set_caught=function(n){n=n?1:0,re[this.ptr+ce.CAUGHT_OFFSET>>0]=n},this.get_caught=function(){return re[this.ptr+ce.CAUGHT_OFFSET>>0]!=0},this.set_rethrown=function(n){n=n?1:0,re[this.ptr+ce.RETHROWN_OFFSET>>0]=n},this.get_rethrown=function(){return re[this.ptr+ce.RETHROWN_OFFSET>>0]!=0},this.init=function(n,i){this.set_type(n),this.set_destructor(i),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var n=C[this.ptr+ce.REFCOUNT_OFFSET>>2];C[this.ptr+ce.REFCOUNT_OFFSET>>2]=n+1},this.release_ref=function(){var n=C[this.ptr+ce.REFCOUNT_OFFSET>>2];return C[this.ptr+ce.REFCOUNT_OFFSET>>2]=n-1,n===1}}function tn(r,n,i){var l=new en(r);throw l.init(n,i),r}function Qe(r,n){var i=new Date(C[r>>2]*1e3);C[n>>2]=i.getUTCSeconds(),C[n+4>>2]=i.getUTCMinutes(),C[n+8>>2]=i.getUTCHours(),C[n+12>>2]=i.getUTCDate(),C[n+16>>2]=i.getUTCMonth(),C[n+20>>2]=i.getUTCFullYear()-1900,C[n+24>>2]=i.getUTCDay(),C[n+36>>2]=0,C[n+32>>2]=0;var l=Date.UTC(i.getUTCFullYear(),0,1,0,0,0,0),S=(i.getTime()-l)/(1e3*60*60*24)|0;return C[n+28>>2]=S,Qe.GMTString||(Qe.GMTString=Et("GMT")),C[n+40>>2]=Qe.GMTString,n}function rn(r,n){return Qe(r,n)}function Ut(){if(Ut.called)return;Ut.called=!0;var r=new Date().getFullYear(),n=new Date(r,0,1),i=new Date(r,6,1),l=n.getTimezoneOffset(),S=i.getTimezoneOffset(),f=Math.max(l,S);C[wr()>>2]=f*60,C[Ir()>>2]=+(l!=S);function h(U){var W=U.toTimeString().match(/\(([A-Za-z ]+)\)$/);return W?W[1]:"GMT"}var y=h(n),w=h(i),E=Et(y),R=Et(w);S<l?(C[qe()>>2]=E,C[qe()+4>>2]=R):(C[qe()>>2]=R,C[qe()+4>>2]=E)}function nn(r,n){Ut();var i=new Date(C[r>>2]*1e3);C[n>>2]=i.getSeconds(),C[n+4>>2]=i.getMinutes(),C[n+8>>2]=i.getHours(),C[n+12>>2]=i.getDate(),C[n+16>>2]=i.getMonth(),C[n+20>>2]=i.getFullYear()-1900,C[n+24>>2]=i.getDay();var l=new Date(i.getFullYear(),0,1),S=(i.getTime()-l.getTime())/(1e3*60*60*24)|0;C[n+28>>2]=S,C[n+36>>2]=-(i.getTimezoneOffset()*60);var f=new Date(i.getFullYear(),6,1).getTimezoneOffset(),h=l.getTimezoneOffset(),y=(f!=h&&i.getTimezoneOffset()==Math.min(h,f))|0;C[n+32>>2]=y;var w=C[qe()+(y?4:0)>>2];return C[n+40>>2]=w,n}function on(r,n){return nn(r,n)}function er(r){return C[vr()>>2]=r,r}var q={splitPath:function(r){var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return n.exec(r).slice(1)},normalizeArray:function(r,n){for(var i=0,l=r.length-1;l>=0;l--){var S=r[l];S==="."?r.splice(l,1):S===".."?(r.splice(l,1),i++):i&&(r.splice(l,1),i--)}if(n)for(;i;i--)r.unshift("..");return r},normalize:function(r){var n=r.charAt(0)==="/",i=r.substr(-1)==="/";return r=q.normalizeArray(r.split("/").filter(function(l){return!!l}),!n).join("/"),!r&&!n&&(r="."),r&&i&&(r+="/"),(n?"/":"")+r},dirname:function(r){var n=q.splitPath(r),i=n[0],l=n[1];return!i&&!l?".":(l&&(l=l.substr(0,l.length-1)),i+l)},basename:function(r){if(r==="/")return"/";r=q.normalize(r),r=r.replace(/\/$/,"");var n=r.lastIndexOf("/");return n===-1?r:r.substr(n+1)},extname:function(r){return q.splitPath(r)[3]},join:function(){var r=Array.prototype.slice.call(arguments,0);return q.normalize(r.join("/"))},join2:function(r,n){return q.normalize(r+"/"+n)}};function an(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var r=new Uint8Array(1);return function(){return crypto.getRandomValues(r),r[0]}}else return function(){ee("randomDevice")}}var De={resolve:function(){for(var r="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var l=i>=0?arguments[i]:p.cwd();if(typeof l!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!l)return"";r=l+"/"+r,n=l.charAt(0)==="/"}return r=q.normalizeArray(r.split("/").filter(function(S){return!!S}),!n).join("/"),(n?"/":"")+r||"."},relative:function(r,n){r=De.resolve(r).substr(1),n=De.resolve(n).substr(1);function i(E){for(var R=0;R<E.length&&E[R]==="";R++);for(var U=E.length-1;U>=0&&E[U]==="";U--);return R>U?[]:E.slice(R,U-R+1)}for(var l=i(r.split("/")),S=i(n.split("/")),f=Math.min(l.length,S.length),h=f,y=0;y<f;y++)if(l[y]!==S[y]){h=y;break}for(var w=[],y=h;y<l.length;y++)w.push("..");return w=w.concat(S.slice(h)),w.join("/")}},xe={ttys:[],init:function(){},shutdown:function(){},register:function(r,n){xe.ttys[r]={input:[],output:[],ops:n},p.registerDevice(r,xe.stream_ops)},stream_ops:{open:function(r){var n=xe.ttys[r.node.rdev];if(!n)throw new p.ErrnoError(43);r.tty=n,r.seekable=!1},close:function(r){r.tty.ops.flush(r.tty)},flush:function(r){r.tty.ops.flush(r.tty)},read:function(r,n,i,l,S){if(!r.tty||!r.tty.ops.get_char)throw new p.ErrnoError(60);for(var f=0,h=0;h<l;h++){var y;try{y=r.tty.ops.get_char(r.tty)}catch{throw new p.ErrnoError(29)}if(y===void 0&&f===0)throw new p.ErrnoError(6);if(y==null)break;f++,n[i+h]=y}return f&&(r.node.timestamp=Date.now()),f},write:function(r,n,i,l,S){if(!r.tty||!r.tty.ops.put_char)throw new p.ErrnoError(60);try{for(var f=0;f<l;f++)r.tty.ops.put_char(r.tty,n[i+f])}catch{throw new p.ErrnoError(29)}return l&&(r.node.timestamp=Date.now()),f}},default_tty_ops:{get_char:function(r){if(!r.input.length){var n=null;if(typeof window<"u"&&typeof window.prompt=="function"?(n=window.prompt("Input: "),n!==null&&(n+=`
`)):typeof readline=="function"&&(n=readline(),n!==null&&(n+=`
`)),!n)return null;r.input=_t(n,!0)}return r.input.shift()},put_char:function(r,n){n===null||n===10?($(ie(r.output,0)),r.output=[]):n!=0&&r.output.push(n)},flush:function(r){r.output&&r.output.length>0&&($(ie(r.output,0)),r.output=[])}},default_tty1_ops:{put_char:function(r,n){n===null||n===10?(G(ie(r.output,0)),r.output=[]):n!=0&&r.output.push(n)},flush:function(r){r.output&&r.output.length>0&&(G(ie(r.output,0)),r.output=[])}}};function sn(r){for(var n=O(r,16384),i=je(n);r<n;)re[i+r++]=0;return i}var H={ops_table:null,mount:function(r){return H.createNode(null,"/",16895,0)},createNode:function(r,n,i,l){if(p.isBlkdev(i)||p.isFIFO(i))throw new p.ErrnoError(63);H.ops_table||(H.ops_table={dir:{node:{getattr:H.node_ops.getattr,setattr:H.node_ops.setattr,lookup:H.node_ops.lookup,mknod:H.node_ops.mknod,rename:H.node_ops.rename,unlink:H.node_ops.unlink,rmdir:H.node_ops.rmdir,readdir:H.node_ops.readdir,symlink:H.node_ops.symlink},stream:{llseek:H.stream_ops.llseek}},file:{node:{getattr:H.node_ops.getattr,setattr:H.node_ops.setattr},stream:{llseek:H.stream_ops.llseek,read:H.stream_ops.read,write:H.stream_ops.write,allocate:H.stream_ops.allocate,mmap:H.stream_ops.mmap,msync:H.stream_ops.msync}},link:{node:{getattr:H.node_ops.getattr,setattr:H.node_ops.setattr,readlink:H.node_ops.readlink},stream:{}},chrdev:{node:{getattr:H.node_ops.getattr,setattr:H.node_ops.setattr},stream:p.chrdev_stream_ops}});var S=p.createNode(r,n,i,l);return p.isDir(S.mode)?(S.node_ops=H.ops_table.dir.node,S.stream_ops=H.ops_table.dir.stream,S.contents={}):p.isFile(S.mode)?(S.node_ops=H.ops_table.file.node,S.stream_ops=H.ops_table.file.stream,S.usedBytes=0,S.contents=null):p.isLink(S.mode)?(S.node_ops=H.ops_table.link.node,S.stream_ops=H.ops_table.link.stream):p.isChrdev(S.mode)&&(S.node_ops=H.ops_table.chrdev.node,S.stream_ops=H.ops_table.chrdev.stream),S.timestamp=Date.now(),r&&(r.contents[n]=S,r.timestamp=S.timestamp),S},getFileDataAsTypedArray:function(r){return r.contents?r.contents.subarray?r.contents.subarray(0,r.usedBytes):new Uint8Array(r.contents):new Uint8Array(0)},expandFileStorage:function(r,n){var i=r.contents?r.contents.length:0;if(!(i>=n)){var l=1024*1024;n=Math.max(n,i*(i<l?2:1.125)>>>0),i!=0&&(n=Math.max(n,256));var S=r.contents;r.contents=new Uint8Array(n),r.usedBytes>0&&r.contents.set(S.subarray(0,r.usedBytes),0)}},resizeFileStorage:function(r,n){if(r.usedBytes!=n)if(n==0)r.contents=null,r.usedBytes=0;else{var i=r.contents;r.contents=new Uint8Array(n),i&&r.contents.set(i.subarray(0,Math.min(n,r.usedBytes))),r.usedBytes=n}},node_ops:{getattr:function(r){var n={};return n.dev=p.isChrdev(r.mode)?r.id:1,n.ino=r.id,n.mode=r.mode,n.nlink=1,n.uid=0,n.gid=0,n.rdev=r.rdev,p.isDir(r.mode)?n.size=4096:p.isFile(r.mode)?n.size=r.usedBytes:p.isLink(r.mode)?n.size=r.link.length:n.size=0,n.atime=new Date(r.timestamp),n.mtime=new Date(r.timestamp),n.ctime=new Date(r.timestamp),n.blksize=4096,n.blocks=Math.ceil(n.size/n.blksize),n},setattr:function(r,n){n.mode!==void 0&&(r.mode=n.mode),n.timestamp!==void 0&&(r.timestamp=n.timestamp),n.size!==void 0&&H.resizeFileStorage(r,n.size)},lookup:function(r,n){throw p.genericErrors[44]},mknod:function(r,n,i,l){return H.createNode(r,n,i,l)},rename:function(r,n,i){if(p.isDir(r.mode)){var l;try{l=p.lookupNode(n,i)}catch{}if(l)for(var S in l.contents)throw new p.ErrnoError(55)}delete r.parent.contents[r.name],r.parent.timestamp=Date.now(),r.name=i,n.contents[i]=r,n.timestamp=r.parent.timestamp,r.parent=n},unlink:function(r,n){delete r.contents[n],r.timestamp=Date.now()},rmdir:function(r,n){var i=p.lookupNode(r,n);for(var l in i.contents)throw new p.ErrnoError(55);delete r.contents[n],r.timestamp=Date.now()},readdir:function(r){var n=[".",".."];for(var i in r.contents)r.contents.hasOwnProperty(i)&&n.push(i);return n},symlink:function(r,n,i){var l=H.createNode(r,n,41471,0);return l.link=i,l},readlink:function(r){if(!p.isLink(r.mode))throw new p.ErrnoError(28);return r.link}},stream_ops:{read:function(r,n,i,l,S){var f=r.node.contents;if(S>=r.node.usedBytes)return 0;var h=Math.min(r.node.usedBytes-S,l);if(h>8&&f.subarray)n.set(f.subarray(S,S+h),i);else for(var y=0;y<h;y++)n[i+y]=f[S+y];return h},write:function(r,n,i,l,S,f){if(n.buffer===re.buffer&&(f=!1),!l)return 0;var h=r.node;if(h.timestamp=Date.now(),n.subarray&&(!h.contents||h.contents.subarray)){if(f)return h.contents=n.subarray(i,i+l),h.usedBytes=l,l;if(h.usedBytes===0&&S===0)return h.contents=n.slice(i,i+l),h.usedBytes=l,l;if(S+l<=h.usedBytes)return h.contents.set(n.subarray(i,i+l),S),l}if(H.expandFileStorage(h,S+l),h.contents.subarray&&n.subarray)h.contents.set(n.subarray(i,i+l),S);else for(var y=0;y<l;y++)h.contents[S+y]=n[i+y];return h.usedBytes=Math.max(h.usedBytes,S+l),l},llseek:function(r,n,i){var l=n;if(i===1?l+=r.position:i===2&&p.isFile(r.node.mode)&&(l+=r.node.usedBytes),l<0)throw new p.ErrnoError(28);return l},allocate:function(r,n,i){H.expandFileStorage(r.node,n+i),r.node.usedBytes=Math.max(r.node.usedBytes,n+i)},mmap:function(r,n,i,l,S,f){if(n!==0)throw new p.ErrnoError(28);if(!p.isFile(r.node.mode))throw new p.ErrnoError(43);var h,y,w=r.node.contents;if(!(f&2)&&w.buffer===it)y=!1,h=w.byteOffset;else{if((l>0||l+i<w.length)&&(w.subarray?w=w.subarray(l,l+i):w=Array.prototype.slice.call(w,l,l+i)),y=!0,h=sn(i),!h)throw new p.ErrnoError(48);re.set(w,h)}return{ptr:h,allocated:y}},msync:function(r,n,i,l,S){if(!p.isFile(r.node.mode))throw new p.ErrnoError(43);return S&2||H.stream_ops.write(r,n,0,l,i,!1),0}}},te={dbs:{},indexedDB:function(){if(typeof indexedDB<"u")return indexedDB;var r=null;return typeof window=="object"&&(r=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),J(r,"IDBFS used, but indexedDB not supported"),r},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(r){return H.mount.apply(null,arguments)},syncfs:function(r,n,i){te.getLocalSet(r,function(l,S){if(l)return i(l);te.getRemoteSet(r,function(f,h){if(f)return i(f);var y=n?h:S,w=n?S:h;te.reconcile(y,w,i)})})},getDB:function(r,n){var i=te.dbs[r];if(i)return n(null,i);var l;try{l=te.indexedDB().open(r,te.DB_VERSION)}catch(S){return n(S)}if(!l)return n("Unable to connect to IndexedDB");l.onupgradeneeded=function(S){var f=S.target.result,h=S.target.transaction,y;f.objectStoreNames.contains(te.DB_STORE_NAME)?y=h.objectStore(te.DB_STORE_NAME):y=f.createObjectStore(te.DB_STORE_NAME),y.indexNames.contains("timestamp")||y.createIndex("timestamp","timestamp",{unique:!1})},l.onsuccess=function(){i=l.result,te.dbs[r]=i,n(null,i)},l.onerror=function(S){n(this.error),S.preventDefault()}},getLocalSet:function(r,n){var i={};function l(w){return w!=="."&&w!==".."}function S(w){return function(E){return q.join2(w,E)}}for(var f=p.readdir(r.mountpoint).filter(l).map(S(r.mountpoint));f.length;){var h=f.pop(),y;try{y=p.stat(h)}catch(w){return n(w)}p.isDir(y.mode)&&f.push.apply(f,p.readdir(h).filter(l).map(S(h))),i[h]={timestamp:y.mtime}}return n(null,{type:"local",entries:i})},getRemoteSet:function(r,n){var i={};te.getDB(r.mountpoint,function(l,S){if(l)return n(l);try{var f=S.transaction([te.DB_STORE_NAME],"readonly");f.onerror=function(w){n(this.error),w.preventDefault()};var h=f.objectStore(te.DB_STORE_NAME),y=h.index("timestamp");y.openKeyCursor().onsuccess=function(w){var E=w.target.result;if(!E)return n(null,{type:"remote",db:S,entries:i});i[E.primaryKey]={timestamp:E.key},E.continue()}}catch(w){return n(w)}})},loadLocalEntry:function(r,n){var i,l;try{var S=p.lookupPath(r);l=S.node,i=p.stat(r)}catch(f){return n(f)}return p.isDir(i.mode)?n(null,{timestamp:i.mtime,mode:i.mode}):p.isFile(i.mode)?(l.contents=H.getFileDataAsTypedArray(l),n(null,{timestamp:i.mtime,mode:i.mode,contents:l.contents})):n(new Error("node type not supported"))},storeLocalEntry:function(r,n,i){try{if(p.isDir(n.mode))p.mkdir(r,n.mode);else if(p.isFile(n.mode))p.writeFile(r,n.contents,{canOwn:!0});else return i(new Error("node type not supported"));p.chmod(r,n.mode),p.utime(r,n.timestamp,n.timestamp)}catch(l){return i(l)}i(null)},removeLocalEntry:function(r,n){try{var i=p.lookupPath(r),l=p.stat(r);p.isDir(l.mode)?p.rmdir(r):p.isFile(l.mode)&&p.unlink(r)}catch(S){return n(S)}n(null)},loadRemoteEntry:function(r,n,i){var l=r.get(n);l.onsuccess=function(S){i(null,S.target.result)},l.onerror=function(S){i(this.error),S.preventDefault()}},storeRemoteEntry:function(r,n,i,l){var S=r.put(i,n);S.onsuccess=function(){l(null)},S.onerror=function(f){l(this.error),f.preventDefault()}},removeRemoteEntry:function(r,n,i){var l=r.delete(n);l.onsuccess=function(){i(null)},l.onerror=function(S){i(this.error),S.preventDefault()}},reconcile:function(r,n,i){var l=0,S=[];Object.keys(r.entries).forEach(function(U){var W=r.entries[U],k=n.entries[U];(!k||W.timestamp.getTime()!=k.timestamp.getTime())&&(S.push(U),l++)});var f=[];if(Object.keys(n.entries).forEach(function(U){n.entries[U];var W=r.entries[U];W||(f.push(U),l++)}),!l)return i(null);var h=!1,y=r.type==="remote"?r.db:n.db,w=y.transaction([te.DB_STORE_NAME],"readwrite"),E=w.objectStore(te.DB_STORE_NAME);function R(U){if(U&&!h)return h=!0,i(U)}w.onerror=function(U){R(this.error),U.preventDefault()},w.oncomplete=function(U){h||i(null)},S.sort().forEach(function(U){n.type==="local"?te.loadRemoteEntry(E,U,function(W,k){if(W)return R(W);te.storeLocalEntry(U,k,R)}):te.loadLocalEntry(U,function(W,k){if(W)return R(W);te.storeRemoteEntry(E,U,k,R)})}),f.sort().reverse().forEach(function(U){n.type==="local"?te.removeLocalEntry(U,R):te.removeRemoteEntry(E,U,R)})}},p={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(r,n){if(r=De.resolve(p.cwd(),r),n=n||{},!r)return{path:"",node:null};var i={follow_mount:!0,recurse_count:0};for(var l in i)n[l]===void 0&&(n[l]=i[l]);if(n.recurse_count>8)throw new p.ErrnoError(32);for(var S=q.normalizeArray(r.split("/").filter(function(W){return!!W}),!1),f=p.root,h="/",y=0;y<S.length;y++){var w=y===S.length-1;if(w&&n.parent)break;if(f=p.lookupNode(f,S[y]),h=q.join2(h,S[y]),p.isMountpoint(f)&&(!w||w&&n.follow_mount)&&(f=f.mounted.root),!w||n.follow)for(var E=0;p.isLink(f.mode);){var R=p.readlink(h);h=De.resolve(q.dirname(h),R);var U=p.lookupPath(h,{recurse_count:n.recurse_count});if(f=U.node,E++>40)throw new p.ErrnoError(32)}}return{path:h,node:f}},getPath:function(r){for(var n;;){if(p.isRoot(r)){var i=r.mount.mountpoint;return n?i[i.length-1]!=="/"?i+"/"+n:i+n:i}n=n?r.name+"/"+n:r.name,r=r.parent}},hashName:function(r,n){for(var i=0,l=0;l<n.length;l++)i=(i<<5)-i+n.charCodeAt(l)|0;return(r+i>>>0)%p.nameTable.length},hashAddNode:function(r){var n=p.hashName(r.parent.id,r.name);r.name_next=p.nameTable[n],p.nameTable[n]=r},hashRemoveNode:function(r){var n=p.hashName(r.parent.id,r.name);if(p.nameTable[n]===r)p.nameTable[n]=r.name_next;else for(var i=p.nameTable[n];i;){if(i.name_next===r){i.name_next=r.name_next;break}i=i.name_next}},lookupNode:function(r,n){var i=p.mayLookup(r);if(i)throw new p.ErrnoError(i,r);for(var l=p.hashName(r.id,n),S=p.nameTable[l];S;S=S.name_next){var f=S.name;if(S.parent.id===r.id&&f===n)return S}return p.lookup(r,n)},createNode:function(r,n,i,l){var S=new p.FSNode(r,n,i,l);return p.hashAddNode(S),S},destroyNode:function(r){p.hashRemoveNode(r)},isRoot:function(r){return r===r.parent},isMountpoint:function(r){return!!r.mounted},isFile:function(r){return(r&61440)===32768},isDir:function(r){return(r&61440)===16384},isLink:function(r){return(r&61440)===40960},isChrdev:function(r){return(r&61440)===8192},isBlkdev:function(r){return(r&61440)===24576},isFIFO:function(r){return(r&61440)===4096},isSocket:function(r){return(r&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(r){var n=p.flagModes[r];if(typeof n>"u")throw new Error("Unknown file open mode: "+r);return n},flagsToPermissionString:function(r){var n=["r","w","rw"][r&3];return r&512&&(n+="w"),n},nodePermissions:function(r,n){return p.ignorePermissions?0:n.indexOf("r")!==-1&&!(r.mode&292)||n.indexOf("w")!==-1&&!(r.mode&146)||n.indexOf("x")!==-1&&!(r.mode&73)?2:0},mayLookup:function(r){var n=p.nodePermissions(r,"x");return n||(r.node_ops.lookup?0:2)},mayCreate:function(r,n){try{var i=p.lookupNode(r,n);return 20}catch{}return p.nodePermissions(r,"wx")},mayDelete:function(r,n,i){var l;try{l=p.lookupNode(r,n)}catch(f){return f.errno}var S=p.nodePermissions(r,"wx");if(S)return S;if(i){if(!p.isDir(l.mode))return 54;if(p.isRoot(l)||p.getPath(l)===p.cwd())return 10}else if(p.isDir(l.mode))return 31;return 0},mayOpen:function(r,n){return r?p.isLink(r.mode)?32:p.isDir(r.mode)&&(p.flagsToPermissionString(n)!=="r"||n&512)?31:p.nodePermissions(r,p.flagsToPermissionString(n)):44},MAX_OPEN_FDS:4096,nextfd:function(r,n){r=r||0,n=n||p.MAX_OPEN_FDS;for(var i=r;i<=n;i++)if(!p.streams[i])return i;throw new p.ErrnoError(33)},getStream:function(r){return p.streams[r]},createStream:function(r,n,i){p.FSStream||(p.FSStream=function(){},p.FSStream.prototype={object:{get:function(){return this.node},set:function(h){this.node=h}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var l=new p.FSStream;for(var S in r)l[S]=r[S];r=l;var f=p.nextfd(n,i);return r.fd=f,p.streams[f]=r,r},closeStream:function(r){p.streams[r]=null},chrdev_stream_ops:{open:function(r){var n=p.getDevice(r.node.rdev);r.stream_ops=n.stream_ops,r.stream_ops.open&&r.stream_ops.open(r)},llseek:function(){throw new p.ErrnoError(70)}},major:function(r){return r>>8},minor:function(r){return r&255},makedev:function(r,n){return r<<8|n},registerDevice:function(r,n){p.devices[r]={stream_ops:n}},getDevice:function(r){return p.devices[r]},getMounts:function(r){for(var n=[],i=[r];i.length;){var l=i.pop();n.push(l),i.push.apply(i,l.mounts)}return n},syncfs:function(r,n){typeof r=="function"&&(n=r,r=!1),p.syncFSRequests++,p.syncFSRequests>1&&G("warning: "+p.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var i=p.getMounts(p.root.mount),l=0;function S(h){return p.syncFSRequests--,n(h)}function f(h){if(h)return f.errored?void 0:(f.errored=!0,S(h));++l>=i.length&&S(null)}i.forEach(function(h){if(!h.type.syncfs)return f(null);h.type.syncfs(h,r,f)})},mount:function(r,n,i){var l=i==="/",S=!i,f;if(l&&p.root)throw new p.ErrnoError(10);if(!l&&!S){var h=p.lookupPath(i,{follow_mount:!1});if(i=h.path,f=h.node,p.isMountpoint(f))throw new p.ErrnoError(10);if(!p.isDir(f.mode))throw new p.ErrnoError(54)}var y={type:r,opts:n,mountpoint:i,mounts:[]},w=r.mount(y);return w.mount=y,y.root=w,l?p.root=w:f&&(f.mounted=y,f.mount&&f.mount.mounts.push(y)),w},unmount:function(r){var n=p.lookupPath(r,{follow_mount:!1});if(!p.isMountpoint(n.node))throw new p.ErrnoError(28);var i=n.node,l=i.mounted,S=p.getMounts(l);Object.keys(p.nameTable).forEach(function(h){for(var y=p.nameTable[h];y;){var w=y.name_next;S.indexOf(y.mount)!==-1&&p.destroyNode(y),y=w}}),i.mounted=null;var f=i.mount.mounts.indexOf(l);i.mount.mounts.splice(f,1)},lookup:function(r,n){return r.node_ops.lookup(r,n)},mknod:function(r,n,i){var l=p.lookupPath(r,{parent:!0}),S=l.node,f=q.basename(r);if(!f||f==="."||f==="..")throw new p.ErrnoError(28);var h=p.mayCreate(S,f);if(h)throw new p.ErrnoError(h);if(!S.node_ops.mknod)throw new p.ErrnoError(63);return S.node_ops.mknod(S,f,n,i)},create:function(r,n){return n=n!==void 0?n:438,n&=4095,n|=32768,p.mknod(r,n,0)},mkdir:function(r,n){return n=n!==void 0?n:511,n&=1023,n|=16384,p.mknod(r,n,0)},mkdirTree:function(r,n){for(var i=r.split("/"),l="",S=0;S<i.length;++S)if(i[S]){l+="/"+i[S];try{p.mkdir(l,n)}catch(f){if(f.errno!=20)throw f}}},mkdev:function(r,n,i){return typeof i>"u"&&(i=n,n=438),n|=8192,p.mknod(r,n,i)},symlink:function(r,n){if(!De.resolve(r))throw new p.ErrnoError(44);var i=p.lookupPath(n,{parent:!0}),l=i.node;if(!l)throw new p.ErrnoError(44);var S=q.basename(n),f=p.mayCreate(l,S);if(f)throw new p.ErrnoError(f);if(!l.node_ops.symlink)throw new p.ErrnoError(63);return l.node_ops.symlink(l,S,r)},rename:function(r,n){var i=q.dirname(r),l=q.dirname(n),S=q.basename(r),f=q.basename(n),h,y,w;if(h=p.lookupPath(r,{parent:!0}),y=h.node,h=p.lookupPath(n,{parent:!0}),w=h.node,!y||!w)throw new p.ErrnoError(44);if(y.mount!==w.mount)throw new p.ErrnoError(75);var E=p.lookupNode(y,S),R=De.relative(r,l);if(R.charAt(0)!==".")throw new p.ErrnoError(28);if(R=De.relative(n,i),R.charAt(0)!==".")throw new p.ErrnoError(55);var U;try{U=p.lookupNode(w,f)}catch{}if(E!==U){var W=p.isDir(E.mode),k=p.mayDelete(y,S,W);if(k)throw new p.ErrnoError(k);if(k=U?p.mayDelete(w,f,W):p.mayCreate(w,f),k)throw new p.ErrnoError(k);if(!y.node_ops.rename)throw new p.ErrnoError(63);if(p.isMountpoint(E)||U&&p.isMountpoint(U))throw new p.ErrnoError(10);if(w!==y&&(k=p.nodePermissions(y,"w"),k))throw new p.ErrnoError(k);try{p.trackingDelegate.willMovePath&&p.trackingDelegate.willMovePath(r,n)}catch(M){G("FS.trackingDelegate['willMovePath']('"+r+"', '"+n+"') threw an exception: "+M.message)}p.hashRemoveNode(E);try{y.node_ops.rename(E,w,f)}catch(M){throw M}finally{p.hashAddNode(E)}try{p.trackingDelegate.onMovePath&&p.trackingDelegate.onMovePath(r,n)}catch(M){G("FS.trackingDelegate['onMovePath']('"+r+"', '"+n+"') threw an exception: "+M.message)}}},rmdir:function(r){var n=p.lookupPath(r,{parent:!0}),i=n.node,l=q.basename(r),S=p.lookupNode(i,l),f=p.mayDelete(i,l,!0);if(f)throw new p.ErrnoError(f);if(!i.node_ops.rmdir)throw new p.ErrnoError(63);if(p.isMountpoint(S))throw new p.ErrnoError(10);try{p.trackingDelegate.willDeletePath&&p.trackingDelegate.willDeletePath(r)}catch(h){G("FS.trackingDelegate['willDeletePath']('"+r+"') threw an exception: "+h.message)}i.node_ops.rmdir(i,l),p.destroyNode(S);try{p.trackingDelegate.onDeletePath&&p.trackingDelegate.onDeletePath(r)}catch(h){G("FS.trackingDelegate['onDeletePath']('"+r+"') threw an exception: "+h.message)}},readdir:function(r){var n=p.lookupPath(r,{follow:!0}),i=n.node;if(!i.node_ops.readdir)throw new p.ErrnoError(54);return i.node_ops.readdir(i)},unlink:function(r){var n=p.lookupPath(r,{parent:!0}),i=n.node,l=q.basename(r),S=p.lookupNode(i,l),f=p.mayDelete(i,l,!1);if(f)throw new p.ErrnoError(f);if(!i.node_ops.unlink)throw new p.ErrnoError(63);if(p.isMountpoint(S))throw new p.ErrnoError(10);try{p.trackingDelegate.willDeletePath&&p.trackingDelegate.willDeletePath(r)}catch(h){G("FS.trackingDelegate['willDeletePath']('"+r+"') threw an exception: "+h.message)}i.node_ops.unlink(i,l),p.destroyNode(S);try{p.trackingDelegate.onDeletePath&&p.trackingDelegate.onDeletePath(r)}catch(h){G("FS.trackingDelegate['onDeletePath']('"+r+"') threw an exception: "+h.message)}},readlink:function(r){var n=p.lookupPath(r),i=n.node;if(!i)throw new p.ErrnoError(44);if(!i.node_ops.readlink)throw new p.ErrnoError(28);return De.resolve(p.getPath(i.parent),i.node_ops.readlink(i))},stat:function(r,n){var i=p.lookupPath(r,{follow:!n}),l=i.node;if(!l)throw new p.ErrnoError(44);if(!l.node_ops.getattr)throw new p.ErrnoError(63);return l.node_ops.getattr(l)},lstat:function(r){return p.stat(r,!0)},chmod:function(r,n,i){var l;if(typeof r=="string"){var S=p.lookupPath(r,{follow:!i});l=S.node}else l=r;if(!l.node_ops.setattr)throw new p.ErrnoError(63);l.node_ops.setattr(l,{mode:n&4095|l.mode&-4096,timestamp:Date.now()})},lchmod:function(r,n){p.chmod(r,n,!0)},fchmod:function(r,n){var i=p.getStream(r);if(!i)throw new p.ErrnoError(8);p.chmod(i.node,n)},chown:function(r,n,i,l){var S;if(typeof r=="string"){var f=p.lookupPath(r,{follow:!l});S=f.node}else S=r;if(!S.node_ops.setattr)throw new p.ErrnoError(63);S.node_ops.setattr(S,{timestamp:Date.now()})},lchown:function(r,n,i){p.chown(r,n,i,!0)},fchown:function(r,n,i){var l=p.getStream(r);if(!l)throw new p.ErrnoError(8);p.chown(l.node,n,i)},truncate:function(r,n){if(n<0)throw new p.ErrnoError(28);var i;if(typeof r=="string"){var l=p.lookupPath(r,{follow:!0});i=l.node}else i=r;if(!i.node_ops.setattr)throw new p.ErrnoError(63);if(p.isDir(i.mode))throw new p.ErrnoError(31);if(!p.isFile(i.mode))throw new p.ErrnoError(28);var S=p.nodePermissions(i,"w");if(S)throw new p.ErrnoError(S);i.node_ops.setattr(i,{size:n,timestamp:Date.now()})},ftruncate:function(r,n){var i=p.getStream(r);if(!i)throw new p.ErrnoError(8);if(!(i.flags&2097155))throw new p.ErrnoError(28);p.truncate(i.node,n)},utime:function(r,n,i){var l=p.lookupPath(r,{follow:!0}),S=l.node;S.node_ops.setattr(S,{timestamp:Math.max(n,i)})},open:function(r,n,i,l,S){if(r==="")throw new p.ErrnoError(44);n=typeof n=="string"?p.modeStringToFlags(n):n,i=typeof i>"u"?438:i,n&64?i=i&4095|32768:i=0;var f;if(typeof r=="object")f=r;else{r=q.normalize(r);try{var h=p.lookupPath(r,{follow:!(n&131072)});f=h.node}catch{}}var y=!1;if(n&64)if(f){if(n&128)throw new p.ErrnoError(20)}else f=p.mknod(r,i,0),y=!0;if(!f)throw new p.ErrnoError(44);if(p.isChrdev(f.mode)&&(n&=-513),n&65536&&!p.isDir(f.mode))throw new p.ErrnoError(54);if(!y){var w=p.mayOpen(f,n);if(w)throw new p.ErrnoError(w)}n&512&&p.truncate(f,0),n&=-131713;var E=p.createStream({node:f,path:p.getPath(f),flags:n,seekable:!0,position:0,stream_ops:f.stream_ops,ungotten:[],error:!1},l,S);E.stream_ops.open&&E.stream_ops.open(E),s.logReadFiles&&!(n&1)&&(p.readFiles||(p.readFiles={}),r in p.readFiles||(p.readFiles[r]=1,G("FS.trackingDelegate error on read file: "+r)));try{if(p.trackingDelegate.onOpenFile){var R=0;(n&2097155)!==1&&(R|=p.tracking.openFlags.READ),n&2097155&&(R|=p.tracking.openFlags.WRITE),p.trackingDelegate.onOpenFile(r,R)}}catch(U){G("FS.trackingDelegate['onOpenFile']('"+r+"', flags) threw an exception: "+U.message)}return E},close:function(r){if(p.isClosed(r))throw new p.ErrnoError(8);r.getdents&&(r.getdents=null);try{r.stream_ops.close&&r.stream_ops.close(r)}catch(n){throw n}finally{p.closeStream(r.fd)}r.fd=null},isClosed:function(r){return r.fd===null},llseek:function(r,n,i){if(p.isClosed(r))throw new p.ErrnoError(8);if(!r.seekable||!r.stream_ops.llseek)throw new p.ErrnoError(70);if(i!=0&&i!=1&&i!=2)throw new p.ErrnoError(28);return r.position=r.stream_ops.llseek(r,n,i),r.ungotten=[],r.position},read:function(r,n,i,l,S){if(l<0||S<0)throw new p.ErrnoError(28);if(p.isClosed(r))throw new p.ErrnoError(8);if((r.flags&2097155)===1)throw new p.ErrnoError(8);if(p.isDir(r.node.mode))throw new p.ErrnoError(31);if(!r.stream_ops.read)throw new p.ErrnoError(28);var f=typeof S<"u";if(!f)S=r.position;else if(!r.seekable)throw new p.ErrnoError(70);var h=r.stream_ops.read(r,n,i,l,S);return f||(r.position+=h),h},write:function(r,n,i,l,S,f){if(l<0||S<0)throw new p.ErrnoError(28);if(p.isClosed(r))throw new p.ErrnoError(8);if(!(r.flags&2097155))throw new p.ErrnoError(8);if(p.isDir(r.node.mode))throw new p.ErrnoError(31);if(!r.stream_ops.write)throw new p.ErrnoError(28);r.seekable&&r.flags&1024&&p.llseek(r,0,2);var h=typeof S<"u";if(!h)S=r.position;else if(!r.seekable)throw new p.ErrnoError(70);var y=r.stream_ops.write(r,n,i,l,S,f);h||(r.position+=y);try{r.path&&p.trackingDelegate.onWriteToFile&&p.trackingDelegate.onWriteToFile(r.path)}catch(w){G("FS.trackingDelegate['onWriteToFile']('"+r.path+"') threw an exception: "+w.message)}return y},allocate:function(r,n,i){if(p.isClosed(r))throw new p.ErrnoError(8);if(n<0||i<=0)throw new p.ErrnoError(28);if(!(r.flags&2097155))throw new p.ErrnoError(8);if(!p.isFile(r.node.mode)&&!p.isDir(r.node.mode))throw new p.ErrnoError(43);if(!r.stream_ops.allocate)throw new p.ErrnoError(138);r.stream_ops.allocate(r,n,i)},mmap:function(r,n,i,l,S,f){if(S&2&&!(f&2)&&(r.flags&2097155)!==2)throw new p.ErrnoError(2);if((r.flags&2097155)===1)throw new p.ErrnoError(2);if(!r.stream_ops.mmap)throw new p.ErrnoError(43);return r.stream_ops.mmap(r,n,i,l,S,f)},msync:function(r,n,i,l,S){return!r||!r.stream_ops.msync?0:r.stream_ops.msync(r,n,i,l,S)},munmap:function(r){return 0},ioctl:function(r,n,i){if(!r.stream_ops.ioctl)throw new p.ErrnoError(59);return r.stream_ops.ioctl(r,n,i)},readFile:function(r,n){if(n=n||{},n.flags=n.flags||0,n.encoding=n.encoding||"binary",n.encoding!=="utf8"&&n.encoding!=="binary")throw new Error('Invalid encoding type "'+n.encoding+'"');var i,l=p.open(r,n.flags),S=p.stat(r),f=S.size,h=new Uint8Array(f);return p.read(l,h,0,f,0),n.encoding==="utf8"?i=ie(h,0):n.encoding==="binary"&&(i=h),p.close(l),i},writeFile:function(r,n,i){i=i||{},i.flags=i.flags||577;var l=p.open(r,i.flags,i.mode);if(typeof n=="string"){var S=new Uint8Array(ve(n)+1),f=Ie(n,S,0,S.length);p.write(l,S,0,f,void 0,i.canOwn)}else if(ArrayBuffer.isView(n))p.write(l,n,0,n.byteLength,void 0,i.canOwn);else throw new Error("Unsupported data type");p.close(l)},cwd:function(){return p.currentPath},chdir:function(r){var n=p.lookupPath(r,{follow:!0});if(n.node===null)throw new p.ErrnoError(44);if(!p.isDir(n.node.mode))throw new p.ErrnoError(54);var i=p.nodePermissions(n.node,"x");if(i)throw new p.ErrnoError(i);p.currentPath=n.path},createDefaultDirectories:function(){p.mkdir("/tmp"),p.mkdir("/home"),p.mkdir("/home/web_user")},createDefaultDevices:function(){p.mkdir("/dev"),p.registerDevice(p.makedev(1,3),{read:function(){return 0},write:function(n,i,l,S,f){return S}}),p.mkdev("/dev/null",p.makedev(1,3)),xe.register(p.makedev(5,0),xe.default_tty_ops),xe.register(p.makedev(6,0),xe.default_tty1_ops),p.mkdev("/dev/tty",p.makedev(5,0)),p.mkdev("/dev/tty1",p.makedev(6,0));var r=an();p.createDevice("/dev","random",r),p.createDevice("/dev","urandom",r),p.mkdir("/dev/shm"),p.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){p.mkdir("/proc");var r=p.mkdir("/proc/self");p.mkdir("/proc/self/fd"),p.mount({mount:function(){var n=p.createNode(r,"fd",16895,73);return n.node_ops={lookup:function(i,l){var S=+l,f=p.getStream(S);if(!f)throw new p.ErrnoError(8);var h={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return f.path}}};return h.parent=h,h}},n}},{},"/proc/self/fd")},createStandardStreams:function(){s.stdin?p.createDevice("/dev","stdin",s.stdin):p.symlink("/dev/tty","/dev/stdin"),s.stdout?p.createDevice("/dev","stdout",null,s.stdout):p.symlink("/dev/tty","/dev/stdout"),s.stderr?p.createDevice("/dev","stderr",null,s.stderr):p.symlink("/dev/tty1","/dev/stderr"),p.open("/dev/stdin",0),p.open("/dev/stdout",1),p.open("/dev/stderr",1)},ensureErrnoError:function(){p.ErrnoError||(p.ErrnoError=function(n,i){this.node=i,this.setErrno=function(l){this.errno=l},this.setErrno(n),this.message="FS error"},p.ErrnoError.prototype=new Error,p.ErrnoError.prototype.constructor=p.ErrnoError,[44].forEach(function(r){p.genericErrors[r]=new p.ErrnoError(r),p.genericErrors[r].stack="<generic error, no stack>"}))},staticInit:function(){p.ensureErrnoError(),p.nameTable=new Array(4096),p.mount(H,{},"/"),p.createDefaultDirectories(),p.createDefaultDevices(),p.createSpecialDirectories(),p.filesystems={MEMFS:H,IDBFS:te}},init:function(r,n,i){p.init.initialized=!0,p.ensureErrnoError(),s.stdin=r||s.stdin,s.stdout=n||s.stdout,s.stderr=i||s.stderr,p.createStandardStreams()},quit:function(){p.init.initialized=!1;var r=s._fflush;r&&r(0);for(var n=0;n<p.streams.length;n++){var i=p.streams[n];i&&p.close(i)}},getMode:function(r,n){var i=0;return r&&(i|=365),n&&(i|=146),i},findObject:function(r,n){var i=p.analyzePath(r,n);return i.exists?i.object:null},analyzePath:function(r,n){try{var i=p.lookupPath(r,{follow:!n});r=i.path}catch{}var l={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var i=p.lookupPath(r,{parent:!0});l.parentExists=!0,l.parentPath=i.path,l.parentObject=i.node,l.name=q.basename(r),i=p.lookupPath(r,{follow:!n}),l.exists=!0,l.path=i.path,l.object=i.node,l.name=i.node.name,l.isRoot=i.path==="/"}catch(S){l.error=S.errno}return l},createPath:function(r,n,i,l){r=typeof r=="string"?r:p.getPath(r);for(var S=n.split("/").reverse();S.length;){var f=S.pop();if(f){var h=q.join2(r,f);try{p.mkdir(h)}catch{}r=h}}return h},createFile:function(r,n,i,l,S){var f=q.join2(typeof r=="string"?r:p.getPath(r),n),h=p.getMode(l,S);return p.create(f,h)},createDataFile:function(r,n,i,l,S,f){var h=n?q.join2(typeof r=="string"?r:p.getPath(r),n):r,y=p.getMode(l,S),w=p.create(h,y);if(i){if(typeof i=="string"){for(var E=new Array(i.length),R=0,U=i.length;R<U;++R)E[R]=i.charCodeAt(R);i=E}p.chmod(w,y|146);var W=p.open(w,577);p.write(W,i,0,i.length,0,f),p.close(W),p.chmod(w,y)}return w},createDevice:function(r,n,i,l){var S=q.join2(typeof r=="string"?r:p.getPath(r),n),f=p.getMode(!!i,!!l);p.createDevice.major||(p.createDevice.major=64);var h=p.makedev(p.createDevice.major++,0);return p.registerDevice(h,{open:function(y){y.seekable=!1},close:function(y){l&&l.buffer&&l.buffer.length&&l(10)},read:function(y,w,E,R,U){for(var W=0,k=0;k<R;k++){var M;try{M=i()}catch{throw new p.ErrnoError(29)}if(M===void 0&&W===0)throw new p.ErrnoError(6);if(M==null)break;W++,w[E+k]=M}return W&&(y.node.timestamp=Date.now()),W},write:function(y,w,E,R,U){for(var W=0;W<R;W++)try{l(w[E+W])}catch{throw new p.ErrnoError(29)}return R&&(y.node.timestamp=Date.now()),W}}),p.mkdev(S,f,h)},forceLoadFile:function(r){if(r.isDevice||r.isFolder||r.link||r.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(P)try{r.contents=_t(P(r.url),!0),r.usedBytes=r.contents.length}catch{throw new p.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(r,n,i,l,S){function f(){this.lengthKnown=!1,this.chunks=[]}if(f.prototype.get=function(W){if(!(W>this.length-1||W<0)){var k=W%this.chunkSize,M=W/this.chunkSize|0;return this.getter(M)[k]}},f.prototype.setDataGetter=function(W){this.getter=W},f.prototype.cacheLength=function(){var W=new XMLHttpRequest;if(W.open("HEAD",i,!1),W.send(null),!(W.status>=200&&W.status<300||W.status===304))throw new Error("Couldn't load "+i+". Status: "+W.status);var k=Number(W.getResponseHeader("Content-length")),M,A=(M=W.getResponseHeader("Accept-Ranges"))&&M==="bytes",X=(M=W.getResponseHeader("Content-Encoding"))&&M==="gzip",K=1024*1024;A||(K=k);var D=function(N,F){if(N>F)throw new Error("invalid range ("+N+", "+F+") or no bytes requested!");if(F>k-1)throw new Error("only "+k+" bytes available! programmer error!");var z=new XMLHttpRequest;if(z.open("GET",i,!1),k!==K&&z.setRequestHeader("Range","bytes="+N+"-"+F),typeof Uint8Array<"u"&&(z.responseType="arraybuffer"),z.overrideMimeType&&z.overrideMimeType("text/plain; charset=x-user-defined"),z.send(null),!(z.status>=200&&z.status<300||z.status===304))throw new Error("Couldn't load "+i+". Status: "+z.status);return z.response!==void 0?new Uint8Array(z.response||[]):_t(z.responseText||"",!0)},L=this;L.setDataGetter(function(N){var F=N*K,z=(N+1)*K-1;if(z=Math.min(z,k-1),typeof L.chunks[N]>"u"&&(L.chunks[N]=D(F,z)),typeof L.chunks[N]>"u")throw new Error("doXHR failed!");return L.chunks[N]}),(X||!k)&&(K=k=1,k=this.getter(0).length,K=k,$("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=k,this._chunkSize=K,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var h,y}else var y={isDevice:!1,url:i};var w=p.createFile(r,n,y,l,S);y.contents?w.contents=y.contents:y.url&&(w.contents=null,w.url=y.url),Object.defineProperties(w,{usedBytes:{get:function(){return this.contents.length}}});var E={},R=Object.keys(w.stream_ops);return R.forEach(function(U){var W=w.stream_ops[U];E[U]=function(){return p.forceLoadFile(w),W.apply(null,arguments)}}),E.read=function(W,k,M,A,X){p.forceLoadFile(w);var K=W.node.contents;if(X>=K.length)return 0;var D=Math.min(K.length-X,A);if(K.slice)for(var L=0;L<D;L++)k[M+L]=K[X+L];else for(var L=0;L<D;L++)k[M+L]=K.get(X+L);return D},w.stream_ops=E,w},createPreloadedFile:function(r,n,i,l,S,f,h,y,w,E){b.init();var R=n?De.resolve(q.join2(r,n)):r;function U(W){function k(A){E&&E(),y||p.createDataFile(r,n,A,l,S,w),f&&f(),st()}var M=!1;s.preloadPlugins.forEach(function(A){M||A.canHandle(R)&&(A.handle(W,R,k,function(){h&&h(),st()}),M=!0)}),M||k(W)}Rt(),typeof i=="string"?b.asyncLoad(i,function(W){U(W)},h):U(i)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(r,n,i){n=n||function(){},i=i||function(){};var l=p.indexedDB();try{var S=l.open(p.DB_NAME(),p.DB_VERSION)}catch(f){return i(f)}S.onupgradeneeded=function(){$("creating db");var h=S.result;h.createObjectStore(p.DB_STORE_NAME)},S.onsuccess=function(){var h=S.result,y=h.transaction([p.DB_STORE_NAME],"readwrite"),w=y.objectStore(p.DB_STORE_NAME),E=0,R=0,U=r.length;function W(){R==0?n():i()}r.forEach(function(k){var M=w.put(p.analyzePath(k).object.contents,k);M.onsuccess=function(){E++,E+R==U&&W()},M.onerror=function(){R++,E+R==U&&W()}}),y.onerror=i},S.onerror=i},loadFilesFromDB:function(r,n,i){n=n||function(){},i=i||function(){};var l=p.indexedDB();try{var S=l.open(p.DB_NAME(),p.DB_VERSION)}catch(f){return i(f)}S.onupgradeneeded=i,S.onsuccess=function(){var h=S.result;try{var y=h.transaction([p.DB_STORE_NAME],"readonly")}catch(k){i(k);return}var w=y.objectStore(p.DB_STORE_NAME),E=0,R=0,U=r.length;function W(){R==0?n():i()}r.forEach(function(k){var M=w.get(k);M.onsuccess=function(){p.analyzePath(k).exists&&p.unlink(k),p.createDataFile(q.dirname(k),q.basename(k),M.result,!0,!0,!0),E++,E+R==U&&W()},M.onerror=function(){R++,E+R==U&&W()}}),y.onerror=i},S.onerror=i}},Z={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(r,n,i){if(n[0]==="/")return n;var l;if(r===-100)l=p.cwd();else{var S=p.getStream(r);if(!S)throw new p.ErrnoError(8);l=S.path}if(n.length==0){if(!i)throw new p.ErrnoError(44);return l}return q.join2(l,n)},doStat:function(r,n,i){try{var l=r(n)}catch(S){if(S&&S.node&&q.normalize(n)!==q.normalize(p.getPath(S.node)))return-54;throw S}return C[i>>2]=l.dev,C[i+4>>2]=0,C[i+8>>2]=l.ino,C[i+12>>2]=l.mode,C[i+16>>2]=l.nlink,C[i+20>>2]=l.uid,C[i+24>>2]=l.gid,C[i+28>>2]=l.rdev,C[i+32>>2]=0,de=[l.size>>>0,(Y=l.size,+Math.abs(Y)>=1?Y>0?(Math.min(+Math.floor(Y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],C[i+40>>2]=de[0],C[i+44>>2]=de[1],C[i+48>>2]=4096,C[i+52>>2]=l.blocks,C[i+56>>2]=l.atime.getTime()/1e3|0,C[i+60>>2]=0,C[i+64>>2]=l.mtime.getTime()/1e3|0,C[i+68>>2]=0,C[i+72>>2]=l.ctime.getTime()/1e3|0,C[i+76>>2]=0,de=[l.ino>>>0,(Y=l.ino,+Math.abs(Y)>=1?Y>0?(Math.min(+Math.floor(Y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],C[i+80>>2]=de[0],C[i+84>>2]=de[1],0},doMsync:function(r,n,i,l,S){var f=se.slice(r,r+i);p.msync(n,f,S,i,l)},doMkdir:function(r,n){return r=q.normalize(r),r[r.length-1]==="/"&&(r=r.substr(0,r.length-1)),p.mkdir(r,n,0),0},doMknod:function(r,n,i){switch(n&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return p.mknod(r,n,i),0},doReadlink:function(r,n,i){if(i<=0)return-28;var l=p.readlink(r),S=Math.min(i,ve(l)),f=re[n+S];return we(l,n,i+1),re[n+S]=f,S},doAccess:function(r,n){if(n&-8)return-28;var i,l=p.lookupPath(r,{follow:!0});if(i=l.node,!i)return-44;var S="";return n&4&&(S+="r"),n&2&&(S+="w"),n&1&&(S+="x"),S&&p.nodePermissions(i,S)?-2:0},doDup:function(r,n,i){var l=p.getStream(i);return l&&p.close(l),p.open(r,n,0,i,i).fd},doReadv:function(r,n,i,l){for(var S=0,f=0;f<i;f++){var h=C[n+f*8>>2],y=C[n+(f*8+4)>>2],w=p.read(r,re,h,y,l);if(w<0)return-1;if(S+=w,w<y)break}return S},doWritev:function(r,n,i,l){for(var S=0,f=0;f<i;f++){var h=C[n+f*8>>2],y=C[n+(f*8+4)>>2],w=p.write(r,re,h,y,l);if(w<0)return-1;S+=w}return S},varargs:void 0,get:function(){Z.varargs+=4;var r=C[Z.varargs-4>>2];return r},getStr:function(r){var n=ae(r);return n},getStreamFromFD:function(r){var n=p.getStream(r);if(!n)throw new p.ErrnoError(8);return n},get64:function(r,n){return r}};function cn(r,n,i){Z.varargs=i;try{var l=Z.getStreamFromFD(r);switch(n){case 0:{var S=Z.get();if(S<0)return-28;var f;return f=p.open(l.path,l.flags,0,S),f.fd}case 1:case 2:return 0;case 3:return l.flags;case 4:{var S=Z.get();return l.flags|=S,0}case 12:{var S=Z.get(),h=0;return Ge[S+h>>1]=2,0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:return er(28),-1;default:return-28}}catch(y){return(typeof p>"u"||!(y instanceof p.ErrnoError))&&ee(y),-y.errno}}function ln(r,n){try{var i=Z.getStreamFromFD(r);return Z.doStat(p.stat,i.path,n)}catch(l){return(typeof p>"u"||!(l instanceof p.ErrnoError))&&ee(l),-l.errno}}function un(r,n,i){try{var l=Z.getStreamFromFD(r);l.getdents||(l.getdents=p.readdir(l.path));for(var S=280,f=0,h=p.llseek(l,0,1),y=Math.floor(h/S);y<l.getdents.length&&f+S<=i;){var w,E,R=l.getdents[y];if(R[0]===".")w=1,E=4;else{var U=p.lookupNode(l.node,R);w=U.id,E=p.isChrdev(U.mode)?2:p.isDir(U.mode)?4:p.isLink(U.mode)?10:8}de=[w>>>0,(Y=w,+Math.abs(Y)>=1?Y>0?(Math.min(+Math.floor(Y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],C[n+f>>2]=de[0],C[n+f+4>>2]=de[1],de=[(y+1)*S>>>0,(Y=(y+1)*S,+Math.abs(Y)>=1?Y>0?(Math.min(+Math.floor(Y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],C[n+f+8>>2]=de[0],C[n+f+12>>2]=de[1],Ge[n+f+16>>1]=280,re[n+f+18>>0]=E,we(R,n+f+19,256),f+=S,y+=1}return p.llseek(l,y*S,0),f}catch(W){return(typeof p>"u"||!(W instanceof p.ErrnoError))&&ee(W),-W.errno}}function lt(){return 0}function dn(){return lt()}function Sn(){return lt()}function pn(){return 42}function fn(){return lt()}function mn(r,n,i){Z.varargs=i;try{var l=Z.getStreamFromFD(r);switch(n){case 21509:case 21505:return l.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return l.tty?0:-59;case 21519:{if(!l.tty)return-59;var S=Z.get();return C[S>>2]=0,0}case 21520:return l.tty?-28:-59;case 21531:{var S=Z.get();return p.ioctl(l,n,S)}case 21523:return l.tty?0:-59;case 21524:return l.tty?0:-59;default:ee("bad ioctl syscall "+n)}}catch(f){return(typeof p>"u"||!(f instanceof p.ErrnoError))&&ee(f),-f.errno}}function hn(r,n){if((r|0)===-1||n===0)return-28;var i=Z.mappings[r];if(!i)return 0;if(n===i.len){var l=p.getStream(i.fd);l&&i.prot&2&&Z.doMsync(r,l,n,i.flags,i.offset),Z.mappings[r]=null,i.allocated&&Te(i.malloc)}return 0}function gn(r,n){try{return hn(r,n)}catch(i){return(typeof p>"u"||!(i instanceof p.ErrnoError))&&ee(i),-i.errno}}function yn(r,n,i){Z.varargs=i;try{var l=Z.getStr(r),S=i?Z.get():0,f=p.open(l,n,S);return f.fd}catch(h){return(typeof p>"u"||!(h instanceof p.ErrnoError))&&ee(h),-h.errno}}function vn(r,n){try{return r=Z.getStr(r),Z.doStat(p.stat,r,n)}catch(i){return(typeof p>"u"||!(i instanceof p.ErrnoError))&&ee(i),-i.errno}}var ut={};function dt(r){for(;r.length;){var n=r.pop(),i=r.pop();i(n)}}function Je(r){return this.fromWireType(Pe[r>>2])}var Ne={},He={},St={},Pn=48,In=57;function tr(r){if(r===void 0)return"_unknown";r=r.replace(/[^a-zA-Z0-9_]/g,"$");var n=r.charCodeAt(0);return n>=Pn&&n<=In?"_"+r:r}function Wt(r,n){return r=tr(r),function(){return n.apply(this,arguments)}}function Ct(r,n){var i=Wt(n,function(l){this.name=n,this.message=l;var S=new Error(l).stack;S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},i}var rr=void 0;function pt(r){throw new rr(r)}function Fe(r,n,i){r.forEach(function(y){St[y]=n});function l(y){var w=i(y);w.length!==r.length&&pt("Mismatched type converter count");for(var E=0;E<r.length;++E)be(r[E],w[E])}var S=new Array(n.length),f=[],h=0;n.forEach(function(y,w){He.hasOwnProperty(y)?S[w]=He[y]:(f.push(y),Ne.hasOwnProperty(y)||(Ne[y]=[]),Ne[y].push(function(){S[w]=He[y],++h,h===f.length&&l(S)}))}),f.length===0&&l(S)}function wn(r){var n=ut[r];delete ut[r];var i=n.rawConstructor,l=n.rawDestructor,S=n.fields,f=S.map(function(h){return h.getterReturnType}).concat(S.map(function(h){return h.setterArgumentType}));Fe([r],f,function(h){var y={};return S.forEach(function(w,E){var R=w.fieldName,U=h[E],W=w.getter,k=w.getterContext,M=h[E+S.length],A=w.setter,X=w.setterContext;y[R]={read:function(K){return U.fromWireType(W(k,K))},write:function(K,D){var L=[];A(X,K,M.toWireType(L,D)),dt(L)}}}),[{name:n.name,fromWireType:function(w){var E={};for(var R in y)E[R]=y[R].read(w);return l(w),E},toWireType:function(w,E){for(var R in y)if(!(R in E))throw new TypeError('Missing field:  "'+R+'"');var U=i();for(R in y)y[R].write(U,E[R]);return w!==null&&w.push(l,U),U},argPackAdvance:8,readValueFromPointer:Je,destructorFunction:l}]})}function ft(r){switch(r){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+r)}}function Tn(){for(var r=new Array(256),n=0;n<256;++n)r[n]=String.fromCharCode(n);nr=r}var nr=void 0;function ne(r){for(var n="",i=r;se[i];)n+=nr[se[i++]];return n}var Ve=void 0;function V(r){throw new Ve(r)}function be(r,n,i){if(i=i||{},!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");var l=n.name;if(r||V('type "'+l+'" must have a positive integer typeid pointer'),He.hasOwnProperty(r)){if(i.ignoreDuplicateRegistrations)return;V("Cannot register type '"+l+"' twice")}if(He[r]=n,delete St[r],Ne.hasOwnProperty(r)){var S=Ne[r];delete Ne[r],S.forEach(function(f){f()})}}function _n(r,n,i,l,S){var f=ft(i);n=ne(n),be(r,{name:n,fromWireType:function(h){return!!h},toWireType:function(h,y){return y?l:S},argPackAdvance:8,readValueFromPointer:function(h){var y;if(i===1)y=re;else if(i===2)y=Ge;else if(i===4)y=C;else throw new TypeError("Unknown boolean type size: "+n);return this.fromWireType(y[h>>f])},destructorFunction:null})}function $n(r){if(!(this instanceof Oe)||!(r instanceof Oe))return!1;for(var n=this.$$.ptrType.registeredClass,i=this.$$.ptr,l=r.$$.ptrType.registeredClass,S=r.$$.ptr;n.baseClass;)i=n.upcast(i),n=n.baseClass;for(;l.baseClass;)S=l.upcast(S),l=l.baseClass;return n===l&&i===S}function En(r){return{count:r.count,deleteScheduled:r.deleteScheduled,preservePointerOnDelete:r.preservePointerOnDelete,ptr:r.ptr,ptrType:r.ptrType,smartPtr:r.smartPtr,smartPtrType:r.smartPtrType}}function Gt(r){function n(i){return i.$$.ptrType.registeredClass.name}V(n(r)+" instance already deleted")}var Dt=!1;function or(r){}function bn(r){r.smartPtr?r.smartPtrType.rawDestructor(r.smartPtr):r.ptrType.registeredClass.rawDestructor(r.ptr)}function ar(r){r.count.value-=1;var n=r.count.value===0;n&&bn(r)}function et(r){return typeof FinalizationGroup>"u"?(et=function(n){return n},r):(Dt=new FinalizationGroup(function(n){for(var i=n.next();!i.done;i=n.next()){var l=i.value;l.ptr?ar(l):console.warn("object already deleted: "+l.ptr)}}),et=function(n){return Dt.register(n,n.$$,n.$$),n},or=function(n){Dt.unregister(n.$$)},et(r))}function Rn(){if(this.$$.ptr||Gt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var r=et(Object.create(Object.getPrototypeOf(this),{$$:{value:En(this.$$)}}));return r.$$.count.value+=1,r.$$.deleteScheduled=!1,r}function Un(){this.$$.ptr||Gt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&V("Object already scheduled for deletion"),or(this),ar(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Wn(){return!this.$$.ptr}var tt=void 0,rt=[];function kt(){for(;rt.length;){var r=rt.pop();r.$$.deleteScheduled=!1,r.delete()}}function Cn(){return this.$$.ptr||Gt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&V("Object already scheduled for deletion"),rt.push(this),rt.length===1&&tt&&tt(kt),this.$$.deleteScheduled=!0,this}function Gn(){Oe.prototype.isAliasOf=$n,Oe.prototype.clone=Rn,Oe.prototype.delete=Un,Oe.prototype.isDeleted=Wn,Oe.prototype.deleteLater=Cn}function Oe(){}var ir={};function sr(r,n,i){if(r[n].overloadTable===void 0){var l=r[n];r[n]=function(){return r[n].overloadTable.hasOwnProperty(arguments.length)||V("Function '"+i+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+r[n].overloadTable+")!"),r[n].overloadTable[arguments.length].apply(this,arguments)},r[n].overloadTable=[],r[n].overloadTable[l.argCount]=l}}function cr(r,n,i){s.hasOwnProperty(r)?(V("Cannot register public name '"+r+"' twice"),sr(s,r,r),s.hasOwnProperty(i)&&V("Cannot register multiple overloads of a function with the same number of arguments ("+i+")!"),s[r].overloadTable[i]=n):s[r]=n}function Dn(r,n,i,l,S,f,h,y){this.name=r,this.constructor=n,this.instancePrototype=i,this.rawDestructor=l,this.baseClass=S,this.getActualType=f,this.upcast=h,this.downcast=y,this.pureVirtualFunctions=[]}function Ot(r,n,i){for(;n!==i;)n.upcast||V("Expected null or instance of "+i.name+", got an instance of "+n.name),r=n.upcast(r),n=n.baseClass;return r}function kn(r,n){if(n===null)return this.isReference&&V("null is not a valid "+this.name),0;n.$$||V('Cannot pass "'+Ke(n)+'" as a '+this.name),n.$$.ptr||V("Cannot pass deleted object as a pointer of type "+this.name);var i=n.$$.ptrType.registeredClass,l=Ot(n.$$.ptr,i,this.registeredClass);return l}function On(r,n){var i;if(n===null)return this.isReference&&V("null is not a valid "+this.name),this.isSmartPointer?(i=this.rawConstructor(),r!==null&&r.push(this.rawDestructor,i),i):0;n.$$||V('Cannot pass "'+Ke(n)+'" as a '+this.name),n.$$.ptr||V("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&n.$$.ptrType.isConst&&V("Cannot convert argument of type "+(n.$$.smartPtrType?n.$$.smartPtrType.name:n.$$.ptrType.name)+" to parameter type "+this.name);var l=n.$$.ptrType.registeredClass;if(i=Ot(n.$$.ptr,l,this.registeredClass),this.isSmartPointer)switch(n.$$.smartPtr===void 0&&V("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:n.$$.smartPtrType===this?i=n.$$.smartPtr:V("Cannot convert argument of type "+(n.$$.smartPtrType?n.$$.smartPtrType.name:n.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:i=n.$$.smartPtr;break;case 2:if(n.$$.smartPtrType===this)i=n.$$.smartPtr;else{var S=n.clone();i=this.rawShare(i,Se(function(){S.delete()})),r!==null&&r.push(this.rawDestructor,i)}break;default:V("Unsupporting sharing policy")}return i}function Ln(r,n){if(n===null)return this.isReference&&V("null is not a valid "+this.name),0;n.$$||V('Cannot pass "'+Ke(n)+'" as a '+this.name),n.$$.ptr||V("Cannot pass deleted object as a pointer of type "+this.name),n.$$.ptrType.isConst&&V("Cannot convert argument of type "+n.$$.ptrType.name+" to parameter type "+this.name);var i=n.$$.ptrType.registeredClass,l=Ot(n.$$.ptr,i,this.registeredClass);return l}function Mn(r){return this.rawGetPointee&&(r=this.rawGetPointee(r)),r}function An(r){this.rawDestructor&&this.rawDestructor(r)}function Bn(r){r!==null&&r.delete()}function lr(r,n,i){if(n===i)return r;if(i.baseClass===void 0)return null;var l=lr(r,n,i.baseClass);return l===null?null:i.downcast(l)}function xn(){return Object.keys(nt).length}function Hn(){var r=[];for(var n in nt)nt.hasOwnProperty(n)&&r.push(nt[n]);return r}function Fn(r){tt=r,rt.length&&tt&&tt(kt)}function jn(){s.getInheritedInstanceCount=xn,s.getLiveInheritedInstances=Hn,s.flushPendingDeletes=kt,s.setDelayFunction=Fn}var nt={};function zn(r,n){for(n===void 0&&V("ptr should not be undefined");r.baseClass;)n=r.upcast(n),r=r.baseClass;return n}function Nn(r,n){return n=zn(r,n),nt[n]}function mt(r,n){(!n.ptrType||!n.ptr)&&pt("makeClassHandle requires ptr and ptrType");var i=!!n.smartPtrType,l=!!n.smartPtr;return i!==l&&pt("Both smartPtrType and smartPtr must be specified"),n.count={value:1},et(Object.create(r,{$$:{value:n}}))}function Vn(r){var n=this.getPointee(r);if(!n)return this.destructor(r),null;var i=Nn(this.registeredClass,n);if(i!==void 0){if(i.$$.count.value===0)return i.$$.ptr=n,i.$$.smartPtr=r,i.clone();var l=i.clone();return this.destructor(r),l}function S(){return this.isSmartPointer?mt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:n,smartPtrType:this,smartPtr:r}):mt(this.registeredClass.instancePrototype,{ptrType:this,ptr:r})}var f=this.registeredClass.getActualType(n),h=ir[f];if(!h)return S.call(this);var y;this.isConst?y=h.constPointerType:y=h.pointerType;var w=lr(n,this.registeredClass,y.registeredClass);return w===null?S.call(this):this.isSmartPointer?mt(y.registeredClass.instancePrototype,{ptrType:y,ptr:w,smartPtrType:this,smartPtr:r}):mt(y.registeredClass.instancePrototype,{ptrType:y,ptr:w})}function Kn(){ke.prototype.getPointee=Mn,ke.prototype.destructor=An,ke.prototype.argPackAdvance=8,ke.prototype.readValueFromPointer=Je,ke.prototype.deleteObject=Bn,ke.prototype.fromWireType=Vn}function ke(r,n,i,l,S,f,h,y,w,E,R){this.name=r,this.registeredClass=n,this.isReference=i,this.isConst=l,this.isSmartPointer=S,this.pointeeType=f,this.sharingPolicy=h,this.rawGetPointee=y,this.rawConstructor=w,this.rawShare=E,this.rawDestructor=R,!S&&n.baseClass===void 0?l?(this.toWireType=kn,this.destructorFunction=null):(this.toWireType=Ln,this.destructorFunction=null):this.toWireType=On}function qn(r,n,i){s.hasOwnProperty(r)||pt("Replacing nonexistant public symbol"),s[r].overloadTable!==void 0&&i!==void 0?s[r].overloadTable[i]=n:(s[r]=n,s[r].argCount=i)}function Yn(r,n,i){var l=s["dynCall_"+r];return i&&i.length?l.apply(null,[n].concat(i)):l.call(null,n)}function Xn(r,n,i){return Yn(r,n,i)}function Zn(r,n){var i=[];return function(){i.length=arguments.length;for(var l=0;l<arguments.length;l++)i[l]=arguments[l];return Xn(r,n,i)}}function Re(r,n){r=ne(r);function i(){return Zn(r,n)}var l=i();return typeof l!="function"&&V("unknown function pointer with signature "+r+": "+n),l}var ur=void 0;function dr(r){var n=Pr(r),i=ne(n);return Te(n),i}function Lt(r,n){var i=[],l={};function S(f){if(!l[f]&&!He[f]){if(St[f]){St[f].forEach(S);return}i.push(f),l[f]=!0}}throw n.forEach(S),new ur(r+": "+i.map(dr).join([", "]))}function Qn(r,n,i,l,S,f,h,y,w,E,R,U,W){R=ne(R),f=Re(S,f),y&&(y=Re(h,y)),E&&(E=Re(w,E)),W=Re(U,W);var k=tr(R);cr(k,function(){Lt("Cannot construct "+R+" due to unbound types",[l])}),Fe([r,n,i],l?[l]:[],function(M){M=M[0];var A,X;l?(A=M.registeredClass,X=A.instancePrototype):X=Oe.prototype;var K=Wt(k,function(){if(Object.getPrototypeOf(this)!==D)throw new Ve("Use 'new' to construct "+R);if(L.constructor_body===void 0)throw new Ve(R+" has no accessible constructor");var oe=L.constructor_body[arguments.length];if(oe===void 0)throw new Ve("Tried to invoke ctor of "+R+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(L.constructor_body).toString()+") parameters instead!");return oe.apply(this,arguments)}),D=Object.create(X,{constructor:{value:K}});K.prototype=D;var L=new Dn(R,K,D,W,A,f,y,E),N=new ke(R,L,!0,!1,!1),F=new ke(R+"*",L,!1,!1,!1),z=new ke(R+" const*",L,!1,!0,!1);return ir[r]={pointerType:F,constPointerType:z},qn(k,K),[N,F,z]})}function Sr(r,n){for(var i=[],l=0;l<r;l++)i.push(C[(n>>2)+l]);return i}function Jn(r,n,i,l,S,f){J(n>0);var h=Sr(n,i);S=Re(l,S);var y=[f],w=[];Fe([],[r],function(E){E=E[0];var R="constructor "+E.name;if(E.registeredClass.constructor_body===void 0&&(E.registeredClass.constructor_body=[]),E.registeredClass.constructor_body[n-1]!==void 0)throw new Ve("Cannot register multiple constructors with identical number of parameters ("+(n-1)+") for class '"+E.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return E.registeredClass.constructor_body[n-1]=function(){Lt("Cannot construct "+E.name+" due to unbound types",h)},Fe([],h,function(U){return E.registeredClass.constructor_body[n-1]=function(){arguments.length!==n-1&&V(R+" called with "+arguments.length+" arguments, expected "+(n-1)),w.length=0,y.length=n;for(var k=1;k<n;++k)y[k]=U[k].toWireType(w,arguments[k-1]);var M=S.apply(null,y);return dt(w),U[0].fromWireType(M)},[]}),[]})}function eo(r,n,i,l,S){var f=n.length;f<2&&V("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var h=n[1]!==null&&i!==null,y=!1,w=1;w<n.length;++w)if(n[w]!==null&&n[w].destructorFunction===void 0){y=!0;break}var E=n[0].name!=="void",R=f-2,U=new Array(R),W=[],k=[];return function(){arguments.length!==R&&V("function "+r+" called with "+arguments.length+" arguments, expected "+R+" args!"),k.length=0;var M;W.length=h?2:1,W[0]=S,h&&(M=n[1].toWireType(k,this),W[1]=M);for(var A=0;A<R;++A)U[A]=n[A+2].toWireType(k,arguments[A]),W.push(U[A]);var X=l.apply(null,W);if(y)dt(k);else for(var A=h?1:2;A<n.length;A++){var K=A===1?M:U[A-2];n[A].destructorFunction!==null&&n[A].destructorFunction(K)}if(E)return n[0].fromWireType(X)}}function to(r,n,i,l,S,f,h,y){var w=Sr(i,l);n=ne(n),f=Re(S,f),Fe([],[r],function(E){E=E[0];var R=E.name+"."+n;y&&E.registeredClass.pureVirtualFunctions.push(n);function U(){Lt("Cannot call "+R+" due to unbound types",w)}var W=E.registeredClass.instancePrototype,k=W[n];return k===void 0||k.overloadTable===void 0&&k.className!==E.name&&k.argCount===i-2?(U.argCount=i-2,U.className=E.name,W[n]=U):(sr(W,n,R),W[n].overloadTable[i-2]=U),Fe([],w,function(M){var A=eo(R,M,E,f,h);return W[n].overloadTable===void 0?(A.argCount=i-2,W[n]=A):W[n].overloadTable[i-2]=A,[]}),[]})}function ro(r,n,i){r=ne(r),Fe([],[n],function(l){return l=l[0],s[r]=l.fromWireType(i),[]})}var Mt=[],he=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function At(r){r>4&&--he[r].refcount===0&&(he[r]=void 0,Mt.push(r))}function no(){for(var r=0,n=5;n<he.length;++n)he[n]!==void 0&&++r;return r}function oo(){for(var r=5;r<he.length;++r)if(he[r]!==void 0)return he[r];return null}function ao(){s.count_emval_handles=no,s.get_first_emval=oo}function Se(r){switch(r){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var n=Mt.length?Mt.pop():he.length;return he[n]={refcount:1,value:r},n}}}function io(r,n){n=ne(n),be(r,{name:n,fromWireType:function(i){var l=he[i].value;return At(i),l},toWireType:function(i,l){return Se(l)},argPackAdvance:8,readValueFromPointer:Je,destructorFunction:null})}function so(r,n,i){switch(n){case 0:return function(l){var S=i?re:se;return this.fromWireType(S[l])};case 1:return function(l){var S=i?Ge:Xe;return this.fromWireType(S[l>>1])};case 2:return function(l){var S=i?C:Pe;return this.fromWireType(S[l>>2])};default:throw new TypeError("Unknown integer type: "+r)}}function co(r,n,i,l){var S=ft(i);n=ne(n);function f(){}f.values={},be(r,{name:n,constructor:f,fromWireType:function(h){return this.constructor.values[h]},toWireType:function(h,y){return y.value},argPackAdvance:8,readValueFromPointer:so(n,S,l),destructorFunction:null}),cr(n,f)}function ot(r,n){var i=He[r];return i===void 0&&V(n+" has unknown type "+dr(r)),i}function lo(r,n,i){var l=ot(r,"enum");n=ne(n);var S=l.constructor,f=Object.create(l.constructor.prototype,{value:{value:i},constructor:{value:Wt(l.name+"_"+n,function(){})}});S.values[i]=f,S[n]=f}function Ke(r){if(r===null)return"null";var n=typeof r;return n==="object"||n==="array"||n==="function"?r.toString():""+r}function uo(r,n){switch(n){case 2:return function(i){return this.fromWireType(Kt[i>>2])};case 3:return function(i){return this.fromWireType(bt[i>>3])};default:throw new TypeError("Unknown float type: "+r)}}function So(r,n,i){var l=ft(i);n=ne(n),be(r,{name:n,fromWireType:function(S){return S},toWireType:function(S,f){if(typeof f!="number"&&typeof f!="boolean")throw new TypeError('Cannot convert "'+Ke(f)+'" to '+this.name);return f},argPackAdvance:8,readValueFromPointer:uo(n,l),destructorFunction:null})}function po(r,n,i){switch(n){case 0:return i?function(S){return re[S]}:function(S){return se[S]};case 1:return i?function(S){return Ge[S>>1]}:function(S){return Xe[S>>1]};case 2:return i?function(S){return C[S>>2]}:function(S){return Pe[S>>2]};default:throw new TypeError("Unknown integer type: "+r)}}function fo(r,n,i,l,S){n=ne(n),S===-1&&(S=4294967295);var f=ft(i),h=function(E){return E};if(l===0){var y=32-8*i;h=function(E){return E<<y>>>y}}var w=n.indexOf("unsigned")!=-1;be(r,{name:n,fromWireType:h,toWireType:function(E,R){if(typeof R!="number"&&typeof R!="boolean")throw new TypeError('Cannot convert "'+Ke(R)+'" to '+this.name);if(R<l||R>S)throw new TypeError('Passing a number "'+Ke(R)+'" from JS side to C/C++ side to an argument of type "'+n+'", which is outside the valid range ['+l+", "+S+"]!");return w?R>>>0:R|0},argPackAdvance:8,readValueFromPointer:po(n,f,l!==0),destructorFunction:null})}function mo(r,n,i){var l=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],S=l[n];function f(h){h=h>>2;var y=Pe,w=y[h],E=y[h+1];return new S(it,E,w)}i=ne(i),be(r,{name:i,fromWireType:f,argPackAdvance:8,readValueFromPointer:f},{ignoreDuplicateRegistrations:!0})}function ho(r,n){n=ne(n);var i=n==="std::string";be(r,{name:n,fromWireType:function(l){var S=Pe[l>>2],f;if(i)for(var h=l+4,y=0;y<=S;++y){var w=l+4+y;if(y==S||se[w]==0){var E=w-h,R=ae(h,E);f===void 0?f=R:(f+="\0",f+=R),h=w+1}}else{for(var U=new Array(S),y=0;y<S;++y)U[y]=String.fromCharCode(se[l+4+y]);f=U.join("")}return Te(l),f},toWireType:function(l,S){S instanceof ArrayBuffer&&(S=new Uint8Array(S));var f,h=typeof S=="string";h||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int8Array||V("Cannot pass non-string to std::string"),i&&h?f=function(){return ve(S)}:f=function(){return S.length};var y=f(),w=je(4+y+1);if(Pe[w>>2]=y,i&&h)we(S,w+4,y+1);else if(h)for(var E=0;E<y;++E){var R=S.charCodeAt(E);R>255&&(Te(w),V("String has UTF-16 code units that do not fit in 8 bits")),se[w+4+E]=R}else for(var E=0;E<y;++E)se[w+4+E]=S[E];return l!==null&&l.push(Te,w),w},argPackAdvance:8,readValueFromPointer:Je,destructorFunction:function(l){Te(l)}})}function go(r,n,i){i=ne(i);var l,S,f,h,y;n===2?(l=Ye,S=Me,h=Ae,f=function(){return Xe},y=1):n===4&&(l=Or,S=Lr,h=Mr,f=function(){return Pe},y=2),be(r,{name:i,fromWireType:function(w){for(var E=Pe[w>>2],R=f(),U,W=w+4,k=0;k<=E;++k){var M=w+4+k*n;if(k==E||R[M>>y]==0){var A=M-W,X=l(W,A);U===void 0?U=X:(U+="\0",U+=X),W=M+n}}return Te(w),U},toWireType:function(w,E){typeof E!="string"&&V("Cannot pass non-string to C++ string type "+i);var R=h(E),U=je(4+R+n);return Pe[U>>2]=R>>y,S(E,U+4,R+n),w!==null&&w.push(Te,U),U},argPackAdvance:8,readValueFromPointer:Je,destructorFunction:function(w){Te(w)}})}function yo(r,n,i,l,S,f){ut[r]={name:ne(n),rawConstructor:Re(i,l),rawDestructor:Re(S,f),fields:[]}}function vo(r,n,i,l,S,f,h,y,w,E){ut[r].fields.push({fieldName:ne(n),getterReturnType:i,getter:Re(l,S),getterContext:f,setterArgumentType:h,setter:Re(y,w),setterContext:E})}function Po(r,n){n=ne(n),be(r,{isVoid:!0,name:n,argPackAdvance:0,fromWireType:function(){},toWireType:function(i,l){}})}function ge(r){return r||V("Cannot use deleted val. handle = "+r),he[r].value}function Io(r,n,i){r=ge(r),n=ot(n,"emval::as");var l=[],S=Se(l);return C[i>>2]=S,n.toWireType(l,r)}function ht(r){try{return r()}catch(n){ee(n)}}var B={State:{Normal:0,Unwinding:1,Rewinding:2},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,afterUnwind:null,asyncFinalizers:[],sleepCallbacks:[],getCallStackId:function(r){var n=B.callStackNameToId[r];return n===void 0&&(n=B.callStackId++,B.callStackNameToId[r]=n,B.callStackIdToName[n]=r),n},instrumentWasmExports:function(r){var n={};for(var i in r)(function(l){var S=r[l];typeof S=="function"?n[l]=function(){B.exportCallStack.push(l);try{return S.apply(null,arguments)}finally{if(le)return;var f=B.exportCallStack.pop();J(f===l),B.maybeStopUnwind()}}:n[l]=S})(i);return n},maybeStopUnwind:function(){B.currData&&B.state===B.State.Unwinding&&B.exportCallStack.length===0&&(B.state=B.State.Normal,ht(s._asyncify_stop_unwind),typeof Fibers<"u"&&Fibers.trampoline())},allocateData:function(){var r=je(12+B.StackSize);return B.setDataHeader(r,r+12,B.StackSize),B.setDataRewindFunc(r),r},setDataHeader:function(r,n,i){C[r>>2]=n,C[r+4>>2]=n+i},setDataRewindFunc:function(r){var n=B.exportCallStack[0],i=B.getCallStackId(n);C[r+8>>2]=i},getDataRewindFunc:function(r){var n=C[r+8>>2],i=B.callStackIdToName[n],l=s.asm[i];return l},handleSleep:function(r){if(!le){if(B.state===B.State.Normal){var n=!1,i=!1;r(function(l){if(!le&&(B.handleSleepReturnValue=l||0,n=!0,!!i)){B.state=B.State.Rewinding,ht(function(){s._asyncify_start_rewind(B.currData)}),typeof b<"u"&&b.mainLoop.func&&b.mainLoop.resume();var S=B.getDataRewindFunc(B.currData),f=S();if(!B.currData){var h=B.asyncFinalizers;B.asyncFinalizers=[],h.forEach(function(y){y(f)})}}}),i=!0,n||(B.state=B.State.Unwinding,B.currData=B.allocateData(),ht(function(){s._asyncify_start_unwind(B.currData)}),typeof b<"u"&&b.mainLoop.func&&b.mainLoop.pause())}else B.state===B.State.Rewinding?(B.state=B.State.Normal,ht(s._asyncify_stop_rewind),Te(B.currData),B.currData=null,B.sleepCallbacks.forEach(function(l){l()})):ee("invalid state: "+B.state);return B.handleSleepReturnValue}},handleAsync:function(r){return B.handleSleep(function(n){r().then(n)})}};function wo(r){return B.handleAsync(function(){return r=ge(r),r.then(Se)})}function pr(r,n){for(var i=new Array(r),l=0;l<r;++l)i[l]=ot(C[(n>>2)+l],"parameter "+l);return i}function To(r,n,i,l){r=ge(r);for(var S=pr(n,i),f=new Array(n),h=0;h<n;++h){var y=S[h];f[h]=y.readValueFromPointer(l),l+=y.argPackAdvance}var w=r.apply(void 0,f);return Se(w)}function _o(r){var n=[];return C[r>>2]=Se(n),n}var $o={};function Bt(r){var n=$o[r];return n===void 0?ne(r):n}var xt=[];function Eo(r,n,i,l,S){return r=xt[r],n=ge(n),i=Bt(i),r(n,i,_o(l),S)}function bo(r,n){return r=ge(r),n=ge(n),r==n}function fr(){if(typeof globalThis=="object")return globalThis;function r(n){n.$$$embind_global$$$=n;var i=typeof $$$embind_global$$$=="object"&&n.$$$embind_global$$$===n;return i||delete n.$$$embind_global$$$,i}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&r(global)?$$$embind_global$$$=global:typeof self=="object"&&r(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")}function Ro(r){return r===0?Se(fr()):(r=Bt(r),Se(fr()[r]))}function Uo(r){var n=xt.length;return xt.push(r),n}function Wo(r,n){var i=pr(r,n),l=i[0],S=new Array(r-1),f=function(h,y,w,E){for(var R=0,U=0;U<r-1;++U)S[U]=i[U+1].readValueFromPointer(E+R),R+=i[U+1].argPackAdvance;for(var W=h[y].apply(h,S),U=0;U<r-1;++U)i[U+1].deleteObject&&i[U+1].deleteObject(S[U]);if(!l.isVoid)return l.toWireType(w,W)};return Uo(f)}function Co(r,n){return r=ge(r),n=ge(n),Se(r[n])}function Go(r){r>4&&(he[r].refcount+=1)}function Do(r){var n=new Array(r+1);return function(i,l,S){n[0]=i;for(var f=0;f<r;++f){var h=ot(C[(l>>2)+f],"parameter "+f);n[f+1]=h.readValueFromPointer(S),S+=h.argPackAdvance}var y=new(i.bind.apply(i,n));return Se(y)}}var mr={};function ko(r,n,i,l){r=ge(r);var S=mr[n];return S||(S=Do(n),mr[n]=S),S(r,i,l)}function Oo(){return Se([])}function Lo(r){return Se(Bt(r))}function Mo(){return Se({})}function Ao(r){var n=he[r].value;dt(n),At(r)}function Bo(r,n,i){r=ge(r),n=ge(n),i=ge(i),r[n]=i}function xo(r,n){r=ot(r,"_emval_take_value");var i=r.readValueFromPointer(n);return Se(i)}function Ho(r){return r=ge(r),Se(typeof r)}function Fo(){ee()}var gt;gt=function(){return performance.now()};var jo=!0;function zo(r,n){var i;if(r===0)i=Date.now();else if((r===1||r===4)&&jo)i=gt();else return er(28),-1;return C[n>>2]=i/1e3|0,C[n+4>>2]=i%1e3*1e3*1e3|0,0}function No(r,n,i){var l=ga(n,i);return Zr[r].apply(null,l)}function Vo(r,n){if(b.mainLoop.timingMode=r,b.mainLoop.timingValue=n,!b.mainLoop.func)return 1;if(r==0)b.mainLoop.scheduler=function(){var h=Math.max(0,b.mainLoop.tickStartTime+n-gt())|0;setTimeout(b.mainLoop.runner,h)},b.mainLoop.method="timeout";else if(r==1)b.mainLoop.scheduler=function(){b.requestAnimationFrame(b.mainLoop.runner)},b.mainLoop.method="rAF";else if(r==2){if(typeof setImmediate>"u"){var i=[],l="setimmediate",S=function(f){(f.data===l||f.data.target===l)&&(f.stopPropagation(),i.shift()())};addEventListener("message",S,!0),setImmediate=function(h){i.push(h),postMessage(l,"*")}}b.mainLoop.scheduler=function(){setImmediate(b.mainLoop.runner)},b.mainLoop.method="immediate"}return 0}function Ko(r,n,i,l,S){J(!b.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),b.mainLoop.func=r,b.mainLoop.arg=l;var f=b.mainLoop.currentlyRunningMainloop;b.mainLoop.runner=function(){if(!le){if(b.mainLoop.queue.length>0){var y=Date.now(),w=b.mainLoop.queue.shift();if(w.func(w.arg),b.mainLoop.remainingBlockers){var E=b.mainLoop.remainingBlockers,R=E%1==0?E-1:Math.floor(E);w.counted?b.mainLoop.remainingBlockers=R:(R=R+.5,b.mainLoop.remainingBlockers=(8*E+R)/9)}if(console.log('main loop blocker "'+w.name+'" took '+(Date.now()-y)+" ms"),b.mainLoop.updateStatus(),f<b.mainLoop.currentlyRunningMainloop)return;setTimeout(b.mainLoop.runner,0);return}if(!(f<b.mainLoop.currentlyRunningMainloop)){if(b.mainLoop.currentFrameNumber=b.mainLoop.currentFrameNumber+1|0,b.mainLoop.timingMode==1&&b.mainLoop.timingValue>1&&b.mainLoop.currentFrameNumber%b.mainLoop.timingValue!=0){b.mainLoop.scheduler();return}else b.mainLoop.timingMode==0&&(b.mainLoop.tickStartTime=gt());b.mainLoop.runIter(r),!(f<b.mainLoop.currentlyRunningMainloop)&&(typeof SDL=="object"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),b.mainLoop.scheduler())}}}}var b={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){b.mainLoop.scheduler=null,b.mainLoop.currentlyRunningMainloop++},resume:function(){b.mainLoop.currentlyRunningMainloop++;var r=b.mainLoop.timingMode,n=b.mainLoop.timingValue,i=b.mainLoop.func;b.mainLoop.func=null,Ko(i,0,!1,b.mainLoop.arg),Vo(r,n),b.mainLoop.scheduler()},updateStatus:function(){if(s.setStatus){var r=s.statusMessage||"Please wait...",n=b.mainLoop.remainingBlockers,i=b.mainLoop.expectedBlockers;n?n<i?s.setStatus(r+" ("+(i-n)+"/"+i+")"):s.setStatus(r):s.setStatus("")}},runIter:function(r){if(!le){if(s.preMainLoop){var n=s.preMainLoop();if(n===!1)return}try{r()}catch(i){if(i instanceof ba)return;if(i=="unwind")return;throw i&&typeof i=="object"&&i.stack&&G("exception thrown: "+[i,i.stack]),i}s.postMainLoop&&s.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(s.preloadPlugins||(s.preloadPlugins=[]),b.initted)return;b.initted=!0;try{new Blob,b.hasBlobConstructor=!0}catch{b.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}b.BlobBuilder=typeof MozBlobBuilder<"u"?MozBlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:b.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),b.URLObject=typeof window<"u"?window.URL?window.URL:window.webkitURL:void 0,!s.noImageDecoding&&typeof b.URLObject>"u"&&(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),s.noImageDecoding=!0);var r={};r.canHandle=function(f){return!s.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(f)},r.handle=function(f,h,y,w){var E=null;if(b.hasBlobConstructor)try{E=new Blob([f],{type:b.getMimetype(h)}),E.size!==f.length&&(E=new Blob([new Uint8Array(f).buffer],{type:b.getMimetype(h)}))}catch(k){x("Blob constructor present but fails: "+k+"; falling back to blob builder")}if(!E){var R=new b.BlobBuilder;R.append(new Uint8Array(f).buffer),E=R.getBlob()}var U=b.URLObject.createObjectURL(E),W=new Image;W.onload=function(){J(W.complete,"Image "+h+" could not be decoded");var M=document.createElement("canvas");M.width=W.width,M.height=W.height;var A=M.getContext("2d");A.drawImage(W,0,0),s.preloadedImages[h]=M,b.URLObject.revokeObjectURL(U),y&&y(f)},W.onerror=function(M){console.log("Image "+U+" could not be decoded"),w&&w()},W.src=U},s.preloadPlugins.push(r);var n={};n.canHandle=function(f){return!s.noAudioDecoding&&f.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},n.handle=function(f,h,y,w){var E=!1;function R(A){E||(E=!0,s.preloadedAudios[h]=A,y&&y(f))}function U(){E||(E=!0,s.preloadedAudios[h]=new Audio,w&&w())}if(b.hasBlobConstructor){try{var W=new Blob([f],{type:b.getMimetype(h)})}catch{return U()}var k=b.URLObject.createObjectURL(W),M=new Audio;M.addEventListener("canplaythrough",function(){R(M)},!1),M.onerror=function(X){if(E)return;console.log("warning: browser could not fully decode audio "+h+", trying slower base64 approach");function K(D){for(var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N="=",F="",z=0,oe=0,$e=0;$e<D.length;$e++)for(z=z<<8|D[$e],oe+=8;oe>=6;){var Ra=z>>oe-6&63;oe-=6,F+=L[Ra]}return oe==2?(F+=L[(z&3)<<4],F+=N+N):oe==4&&(F+=L[(z&15)<<2],F+=N),F}M.src="data:audio/x-"+h.substr(-3)+";base64,"+K(f),R(M)},M.src=k,b.safeSetTimeout(function(){R(M)},1e4)}else return U()},s.preloadPlugins.push(n);function i(){b.pointerLock=document.pointerLockElement===s.canvas||document.mozPointerLockElement===s.canvas||document.webkitPointerLockElement===s.canvas||document.msPointerLockElement===s.canvas}var l=s.canvas;l&&(l.requestPointerLock=l.requestPointerLock||l.mozRequestPointerLock||l.webkitRequestPointerLock||l.msRequestPointerLock||function(){},l.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},l.exitPointerLock=l.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",i,!1),document.addEventListener("mozpointerlockchange",i,!1),document.addEventListener("webkitpointerlockchange",i,!1),document.addEventListener("mspointerlockchange",i,!1),s.elementPointerLock&&l.addEventListener("click",function(S){!b.pointerLock&&s.canvas.requestPointerLock&&(s.canvas.requestPointerLock(),S.preventDefault())},!1))},createContext:function(r,n,i,l){if(n&&s.ctx&&r==s.canvas)return s.ctx;var S,f;if(n){var h={antialias:!1,alpha:!1,majorVersion:1};if(l)for(var y in l)h[y]=l[y];typeof GL<"u"&&(f=GL.createContext(r,h),f&&(S=GL.getContext(f).GLctx))}else S=r.getContext("2d");return S?(i&&(n||J(typeof GLctx>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),s.ctx=S,n&&GL.makeContextCurrent(f),s.useWebGL=n,b.moduleContextCreatedCallbacks.forEach(function(w){w()}),b.init()),S):null},destroyContext:function(r,n,i){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(r,n){b.lockPointer=r,b.resizeCanvas=n,typeof b.lockPointer>"u"&&(b.lockPointer=!0),typeof b.resizeCanvas>"u"&&(b.resizeCanvas=!1);var i=s.canvas;function l(){b.isFullscreen=!1;var f=i.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===f?(i.exitFullscreen=b.exitFullscreen,b.lockPointer&&i.requestPointerLock(),b.isFullscreen=!0,b.resizeCanvas?b.setFullscreenCanvasSize():b.updateCanvasDimensions(i)):(f.parentNode.insertBefore(i,f),f.parentNode.removeChild(f),b.resizeCanvas?b.setWindowedCanvasSize():b.updateCanvasDimensions(i)),s.onFullScreen&&s.onFullScreen(b.isFullscreen),s.onFullscreen&&s.onFullscreen(b.isFullscreen)}b.fullscreenHandlersInstalled||(b.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",l,!1),document.addEventListener("mozfullscreenchange",l,!1),document.addEventListener("webkitfullscreenchange",l,!1),document.addEventListener("MSFullscreenChange",l,!1));var S=document.createElement("div");i.parentNode.insertBefore(S,i),S.appendChild(i),S.requestFullscreen=S.requestFullscreen||S.mozRequestFullScreen||S.msRequestFullscreen||(S.webkitRequestFullscreen?function(){S.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(S.webkitRequestFullScreen?function(){S.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),S.requestFullscreen()},exitFullscreen:function(){if(!b.isFullscreen)return!1;var r=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){};return r.apply(document,[]),!0},nextRAF:0,fakeRequestAnimationFrame:function(r){var n=Date.now();if(b.nextRAF===0)b.nextRAF=n+1e3/60;else for(;n+2>=b.nextRAF;)b.nextRAF+=1e3/60;var i=Math.max(b.nextRAF-n,0);setTimeout(r,i)},requestAnimationFrame:function(r){if(typeof requestAnimationFrame=="function"){requestAnimationFrame(r);return}var n=b.fakeRequestAnimationFrame;n(r)},safeRequestAnimationFrame:function(r){return b.requestAnimationFrame(function(){le||r()})},safeSetTimeout:function(r,n){return setTimeout(function(){le||r()},n)},getMimetype:function(r){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[r.substr(r.lastIndexOf(".")+1)]},getUserMedia:function(r){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(r)},getMovementX:function(r){return r.movementX||r.mozMovementX||r.webkitMovementX||0},getMovementY:function(r){return r.movementY||r.mozMovementY||r.webkitMovementY||0},getMouseWheelDelta:function(r){var n=0;switch(r.type){case"DOMMouseScroll":n=r.detail/3;break;case"mousewheel":n=r.wheelDelta/120;break;case"wheel":switch(n=r.deltaY,r.deltaMode){case 0:n/=100;break;case 1:n/=3;break;case 2:n*=80;break;default:throw"unrecognized mouse wheel delta mode: "+r.deltaMode}break;default:throw"unrecognized mouse wheel event: "+r.type}return n},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(r){if(b.pointerLock)r.type!="mousemove"&&"mozMovementX"in r?b.mouseMovementX=b.mouseMovementY=0:(b.mouseMovementX=b.getMovementX(r),b.mouseMovementY=b.getMovementY(r)),typeof SDL<"u"?(b.mouseX=SDL.mouseX+b.mouseMovementX,b.mouseY=SDL.mouseY+b.mouseMovementY):(b.mouseX+=b.mouseMovementX,b.mouseY+=b.mouseMovementY);else{var n=s.canvas.getBoundingClientRect(),i=s.canvas.width,l=s.canvas.height,S=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,f=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset;if(r.type==="touchstart"||r.type==="touchend"||r.type==="touchmove"){var h=r.touch;if(h===void 0)return;var y=h.pageX-(S+n.left),w=h.pageY-(f+n.top);y=y*(i/n.width),w=w*(l/n.height);var E={x:y,y:w};if(r.type==="touchstart")b.lastTouches[h.identifier]=E,b.touches[h.identifier]=E;else if(r.type==="touchend"||r.type==="touchmove"){var R=b.touches[h.identifier];R||(R=E),b.lastTouches[h.identifier]=R,b.touches[h.identifier]=E}return}var U=r.pageX-(S+n.left),W=r.pageY-(f+n.top);U=U*(i/n.width),W=W*(l/n.height),b.mouseMovementX=U-b.mouseX,b.mouseMovementY=W-b.mouseY,b.mouseX=U,b.mouseY=W}},asyncLoad:function(r,n,i,l){var S=l?"":"al "+r;I(r,function(f){J(f,'Loading data file "'+r+'" failed (no arrayBuffer).'),n(new Uint8Array(f)),S&&st()},function(f){if(i)i();else throw'Loading data file "'+r+'" failed.'}),S&&Rt()},resizeListeners:[],updateResizeListeners:function(){var r=s.canvas;b.resizeListeners.forEach(function(n){n(r.width,r.height)})},setCanvasSize:function(r,n,i){var l=s.canvas;b.updateCanvasDimensions(l,r,n),i||b.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL<"u"){var r=Pe[SDL.screen>>2];r=r|8388608,C[SDL.screen>>2]=r}b.updateCanvasDimensions(s.canvas),b.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL<"u"){var r=Pe[SDL.screen>>2];r=r&-8388609,C[SDL.screen>>2]=r}b.updateCanvasDimensions(s.canvas),b.updateResizeListeners()},updateCanvasDimensions:function(r,n,i){n&&i?(r.widthNative=n,r.heightNative=i):(n=r.widthNative,i=r.heightNative);var l=n,S=i;if(s.forcedAspectRatio&&s.forcedAspectRatio>0&&(l/S<s.forcedAspectRatio?l=Math.round(S*s.forcedAspectRatio):S=Math.round(l/s.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===r.parentNode&&typeof screen<"u"){var f=Math.min(screen.width/l,screen.height/S);l=Math.round(l*f),S=Math.round(S*f)}b.resizeCanvas?(r.width!=l&&(r.width=l),r.height!=S&&(r.height=S),typeof r.style<"u"&&(r.style.removeProperty("width"),r.style.removeProperty("height"))):(r.width!=n&&(r.width=n),r.height!=i&&(r.height=i),typeof r.style<"u"&&(l!=n||S!=i?(r.style.setProperty("width",l+"px","important"),r.style.setProperty("height",S+"px","important")):(r.style.removeProperty("width"),r.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var r=b.nextWgetRequestHandle;return b.nextWgetRequestHandle++,r}};function qo(r,n,i){function l(){(function(S){zt.apply(null,[r,S])})(n)}i>=0?b.safeSetTimeout(l,i):b.safeRequestAnimationFrame(l)}function Yo(r,n){throw We(r,n||1),"longjmp"}function Xo(r,n){return Yo(r,n)}function Zo(r,n,i){se.copyWithin(r,n,n+i)}function Qo(){return se.length}function Jo(r){try{return pe.grow(r-it.byteLength+65535>>>16),qt(pe.buffer),1}catch{}}function ea(r){var n=Qo(),i=2147483648;if(r>i)return!1;for(var l=1;l<=4;l*=2){var S=n*(1+.2/l);S=Math.min(S,r+100663296);var f=Math.min(i,Br(Math.max(r,S),65536)),h=Jo(f);if(h)return!0}return!1}var hr={};function ta(){return a||"./this.program"}function at(){if(!at.strings){var r=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:r,_:ta()};for(var i in hr)n[i]=hr[i];var l=[];for(var i in n)l.push(i+"="+n[i]);at.strings=l}return at.strings}function ra(r,n){try{var i=0;return at().forEach(function(l,S){var f=n+i;C[r+S*4>>2]=f,Ar(l,f),i+=l.length+1}),0}catch(l){return(typeof p>"u"||!(l instanceof p.ErrnoError))&&ee(l),l.errno}}function na(r,n){try{var i=at();C[r>>2]=i.length;var l=0;return i.forEach(function(S){l+=S.length+1}),C[n>>2]=l,0}catch(S){return(typeof p>"u"||!(S instanceof p.ErrnoError))&&ee(S),S.errno}}function oa(r){try{var n=Z.getStreamFromFD(r);return p.close(n),0}catch(i){return(typeof p>"u"||!(i instanceof p.ErrnoError))&&ee(i),i.errno}}function aa(r,n){try{var i=Z.getStreamFromFD(r),l=i.tty?2:p.isDir(i.mode)?3:p.isLink(i.mode)?7:4;return re[n>>0]=l,0}catch(S){return(typeof p>"u"||!(S instanceof p.ErrnoError))&&ee(S),S.errno}}function ia(r,n,i,l){try{var S=Z.getStreamFromFD(r),f=Z.doReadv(S,n,i);return C[l>>2]=f,0}catch(h){return(typeof p>"u"||!(h instanceof p.ErrnoError))&&ee(h),h.errno}}function sa(r,n,i,l,S){try{var f=Z.getStreamFromFD(r),h=4294967296,y=i*h+(n>>>0),w=9007199254740992;return y<=-w||y>=w?-61:(p.llseek(f,y,l),de=[f.position>>>0,(Y=f.position,+Math.abs(Y)>=1?Y>0?(Math.min(+Math.floor(Y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],C[S>>2]=de[0],C[S+4>>2]=de[1],f.getdents&&y===0&&l===0&&(f.getdents=null),0)}catch(E){return(typeof p>"u"||!(E instanceof p.ErrnoError))&&ee(E),E.errno}}function ca(r,n,i,l){try{var S=Z.getStreamFromFD(r),f=Z.doWritev(S,n,i);return C[l>>2]=f,0}catch(h){return(typeof p>"u"||!(h instanceof p.ErrnoError))&&ee(h),h.errno}}function la(){return fe()|0}function ua(r){var n=Date.now();return C[r>>2]=n/1e3|0,C[r+4>>2]=n%1e3*1e3|0,0}function da(r){Q(r|0)}function Sa(r,n,i){return 0}function pa(r,n){return 0}function yt(r){return r%4===0&&(r%100!==0||r%400===0)}function Ht(r,n){for(var i=0,l=0;l<=n;i+=r[l++]);return i}var vt=[31,29,31,30,31,30,31,31,30,31,30,31],Pt=[31,28,31,30,31,30,31,31,30,31,30,31];function It(r,n){for(var i=new Date(r.getTime());n>0;){var l=yt(i.getFullYear()),S=i.getMonth(),f=(l?vt:Pt)[S];if(n>f-i.getDate())n-=f-i.getDate()+1,i.setDate(1),S<11?i.setMonth(S+1):(i.setMonth(0),i.setFullYear(i.getFullYear()+1));else return i.setDate(i.getDate()+n),i}return i}function fa(r,n,i,l){var S=C[l+40>>2],f={tm_sec:C[l>>2],tm_min:C[l+4>>2],tm_hour:C[l+8>>2],tm_mday:C[l+12>>2],tm_mon:C[l+16>>2],tm_year:C[l+20>>2],tm_wday:C[l+24>>2],tm_yday:C[l+28>>2],tm_isdst:C[l+32>>2],tm_gmtoff:C[l+36>>2],tm_zone:S?ae(S):""},h=ae(i),y={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var w in y)h=h.replace(new RegExp(w,"g"),y[w]);var E=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],R=["January","February","March","April","May","June","July","August","September","October","November","December"];function U(D,L,N){for(var F=typeof D=="number"?D.toString():D||"";F.length<L;)F=N[0]+F;return F}function W(D,L){return U(D,L,"0")}function k(D,L){function N(z){return z<0?-1:z>0?1:0}var F;return(F=N(D.getFullYear()-L.getFullYear()))===0&&(F=N(D.getMonth()-L.getMonth()))===0&&(F=N(D.getDate()-L.getDate())),F}function M(D){switch(D.getDay()){case 0:return new Date(D.getFullYear()-1,11,29);case 1:return D;case 2:return new Date(D.getFullYear(),0,3);case 3:return new Date(D.getFullYear(),0,2);case 4:return new Date(D.getFullYear(),0,1);case 5:return new Date(D.getFullYear()-1,11,31);case 6:return new Date(D.getFullYear()-1,11,30)}}function A(D){var L=It(new Date(D.tm_year+1900,0,1),D.tm_yday),N=new Date(L.getFullYear(),0,4),F=new Date(L.getFullYear()+1,0,4),z=M(N),oe=M(F);return k(z,L)<=0?k(oe,L)<=0?L.getFullYear()+1:L.getFullYear():L.getFullYear()-1}var X={"%a":function(D){return E[D.tm_wday].substring(0,3)},"%A":function(D){return E[D.tm_wday]},"%b":function(D){return R[D.tm_mon].substring(0,3)},"%B":function(D){return R[D.tm_mon]},"%C":function(D){var L=D.tm_year+1900;return W(L/100|0,2)},"%d":function(D){return W(D.tm_mday,2)},"%e":function(D){return U(D.tm_mday,2," ")},"%g":function(D){return A(D).toString().substring(2)},"%G":function(D){return A(D)},"%H":function(D){return W(D.tm_hour,2)},"%I":function(D){var L=D.tm_hour;return L==0?L=12:L>12&&(L-=12),W(L,2)},"%j":function(D){return W(D.tm_mday+Ht(yt(D.tm_year+1900)?vt:Pt,D.tm_mon-1),3)},"%m":function(D){return W(D.tm_mon+1,2)},"%M":function(D){return W(D.tm_min,2)},"%n":function(){return`
`},"%p":function(D){return D.tm_hour>=0&&D.tm_hour<12?"AM":"PM"},"%S":function(D){return W(D.tm_sec,2)},"%t":function(){return"	"},"%u":function(D){return D.tm_wday||7},"%U":function(D){var L=new Date(D.tm_year+1900,0,1),N=L.getDay()===0?L:It(L,7-L.getDay()),F=new Date(D.tm_year+1900,D.tm_mon,D.tm_mday);if(k(N,F)<0){var z=Ht(yt(F.getFullYear())?vt:Pt,F.getMonth()-1)-31,oe=31-N.getDate(),$e=oe+z+F.getDate();return W(Math.ceil($e/7),2)}return k(N,L)===0?"01":"00"},"%V":function(D){var L=new Date(D.tm_year+1900,0,4),N=new Date(D.tm_year+1901,0,4),F=M(L),z=M(N),oe=It(new Date(D.tm_year+1900,0,1),D.tm_yday);if(k(oe,F)<0)return"53";if(k(z,oe)<=0)return"01";var $e;return F.getFullYear()<D.tm_year+1900?$e=D.tm_yday+32-F.getDate():$e=D.tm_yday+1-F.getDate(),W(Math.ceil($e/7),2)},"%w":function(D){return D.tm_wday},"%W":function(D){var L=new Date(D.tm_year,0,1),N=L.getDay()===1?L:It(L,L.getDay()===0?1:7-L.getDay()+1),F=new Date(D.tm_year+1900,D.tm_mon,D.tm_mday);if(k(N,F)<0){var z=Ht(yt(F.getFullYear())?vt:Pt,F.getMonth()-1)-31,oe=31-N.getDate(),$e=oe+z+F.getDate();return W(Math.ceil($e/7),2)}return k(N,L)===0?"01":"00"},"%y":function(D){return(D.tm_year+1900).toString().substring(2)},"%Y":function(D){return D.tm_year+1900},"%z":function(D){var L=D.tm_gmtoff,N=L>=0;return L=Math.abs(L)/60,L=L/60*100+L%60,(N?"+":"-")+("0000"+L).slice(-4)},"%Z":function(D){return D.tm_zone},"%%":function(){return"%"}};for(var w in X)h.indexOf(w)>=0&&(h=h.replace(new RegExp(w,"g"),X[w](f)));var K=_t(h,!1);return K.length>n?0:(Vt(K,r),K.length-1)}function ma(r,n,i,l){return fa(r,n,i,l)}function ha(r){var n=Date.now()/1e3|0;return r&&(C[r>>2]=n),n}var Ft=[];function ga(r,n){Ft.length=0;var i;for(n>>=2;i=se[r++];){var l=i<105;l&&n&1&&n++,Ft.push(l?bt[n++>>1]:C[n]),++n}return Ft}var gr=function(r,n,i,l){r||(r=this),this.parent=r,this.mount=r.mount,this.mounted=null,this.id=p.nextInode++,this.name=n,this.mode=i,this.node_ops={},this.stream_ops={},this.rdev=l},wt=365,Tt=146;Object.defineProperties(gr.prototype,{read:{get:function(){return(this.mode&wt)===wt},set:function(r){r?this.mode|=wt:this.mode&=~wt}},write:{get:function(){return(this.mode&Tt)===Tt},set:function(r){r?this.mode|=Tt:this.mode&=~Tt}},isFolder:{get:function(){return p.isDir(this.mode)}},isDevice:{get:function(){return p.isChrdev(this.mode)}}}),p.FSNode=gr,p.staticInit(),rr=s.InternalError=Ct(Error,"InternalError"),Tn(),Ve=s.BindingError=Ct(Error,"BindingError"),Gn(),Kn(),jn(),ur=s.UnboundTypeError=Ct(Error,"UnboundTypeError"),ao(),s.requestFullscreen=function(n,i){b.requestFullscreen(n,i)},s.requestAnimationFrame=function(n){b.requestAnimationFrame(n)},s.setCanvasSize=function(n,i,l){b.setCanvasSize(n,i,l)},s.pauseMainLoop=function(){b.mainLoop.pause()},s.resumeMainLoop=function(){b.mainLoop.resume()},s.getUserMedia=function(){b.getUserMedia()},s.createContext=function(n,i,l,S){return b.createContext(n,i,l,S)};function _t(r,n,i){var l=ve(r)+1,S=new Array(l),f=Ie(r,S,0,S.length);return n&&(S.length=f),S}var ya={j:Qr,a:Jr,b:tn,ba:rn,aa:on,L:cn,ca:ln,ja:un,ea:lt,ga:dn,ha:Sn,B:pn,fa:fn,P:mn,da:gn,M:yn,K:vn,z:wn,la:_n,k:Qn,m:Jn,d:to,ia:ro,ka:io,r:co,q:lo,Q:So,p:fo,o:mo,R:ho,E:go,A:yo,s:vo,ma:Po,w:Io,oa:wo,ya:To,h:Eo,H:At,va:bo,ta:Ro,g:Wo,U:Co,J:Go,sa:ko,pa:Oo,xa:Lo,ra:Mo,ua:Ao,D:Bo,i:xo,qa:Ho,u:Fo,F:zo,G:No,T:qo,y:Xo,W:Zo,X:ea,_:ra,$:na,C:oa,Z:aa,O:ia,V:sa,N:ca,e:la,S:ua,wa:Qe,l:Ia,t:Pa,Aa:Ta,Ba:va,v:wa,x:_a,I:Ea,za:$a,f:da,c:Sa,na:pa,Y:ma,n:ha};Xr();var yr=s.___wasm_call_ctors=function(){return(yr=s.___wasm_call_ctors=s.asm.Da).apply(null,arguments)},Te=s._free=function(){return(Te=s._free=s.asm.Fa).apply(null,arguments)},je=s._malloc=function(){return(je=s._malloc=s.asm.Ga).apply(null,arguments)},vr=s.___errno_location=function(){return(vr=s.___errno_location=s.asm.Ha).apply(null,arguments)};s._readLicenceInternalError=function(){return(s._readLicenceInternalError=s.asm.Ia).apply(null,arguments)},s._readLicenceInternal=function(){return(s._readLicenceInternal=s.asm.Ja).apply(null,arguments)},s._writeLicenceInternal=function(){return(s._writeLicenceInternal=s.asm.Ka).apply(null,arguments)},s._writeLicenceInternalError=function(){return(s._writeLicenceInternalError=s.asm.La).apply(null,arguments)},s._deleteLicenceInternal=function(){return(s._deleteLicenceInternal=s.asm.Ma).apply(null,arguments)},s._deleteLicenceInternalError=function(){return(s._deleteLicenceInternalError=s.asm.Na).apply(null,arguments)};var Pr=s.___getTypeName=function(){return(Pr=s.___getTypeName=s.asm.Oa).apply(null,arguments)};s.___embind_register_native_and_builtin_types=function(){return(s.___embind_register_native_and_builtin_types=s.asm.Pa).apply(null,arguments)};var qe=s.__get_tzname=function(){return(qe=s.__get_tzname=s.asm.Qa).apply(null,arguments)},Ir=s.__get_daylight=function(){return(Ir=s.__get_daylight=s.asm.Ra).apply(null,arguments)},wr=s.__get_timezone=function(){return(wr=s.__get_timezone=s.asm.Sa).apply(null,arguments)},Ue=s.stackSave=function(){return(Ue=s.stackSave=s.asm.Ta).apply(null,arguments)},_e=s.stackRestore=function(){return(_e=s.stackRestore=s.asm.Ua).apply(null,arguments)},jt=s.stackAlloc=function(){return(jt=s.stackAlloc=s.asm.Va).apply(null,arguments)},We=s._setThrew=function(){return(We=s._setThrew=s.asm.Wa).apply(null,arguments)},Tr=s.dynCall_iiiii=function(){return(Tr=s.dynCall_iiiii=s.asm.Xa).apply(null,arguments)},_r=s.dynCall_iii=function(){return(_r=s.dynCall_iii=s.asm.Ya).apply(null,arguments)},zt=s.dynCall_vi=function(){return(zt=s.dynCall_vi=s.asm.Za).apply(null,arguments)},$r=s.dynCall_iiii=function(){return($r=s.dynCall_iiii=s.asm._a).apply(null,arguments)},Er=s.dynCall_ii=function(){return(Er=s.dynCall_ii=s.asm.$a).apply(null,arguments)},br=s.dynCall_vii=function(){return(br=s.dynCall_vii=s.asm.ab).apply(null,arguments)};s.dynCall_viijii=function(){return(s.dynCall_viijii=s.asm.bb).apply(null,arguments)};var Rr=s.dynCall_viiii=function(){return(Rr=s.dynCall_viiii=s.asm.cb).apply(null,arguments)};s.dynCall_iifi=function(){return(s.dynCall_iifi=s.asm.db).apply(null,arguments)},s.dynCall_iiff=function(){return(s.dynCall_iiff=s.asm.eb).apply(null,arguments)};var Ur=s.dynCall_v=function(){return(Ur=s.dynCall_v=s.asm.fb).apply(null,arguments)};s.dynCall_viiiii=function(){return(s.dynCall_viiiii=s.asm.gb).apply(null,arguments)},s.dynCall_iiiff=function(){return(s.dynCall_iiiff=s.asm.hb).apply(null,arguments)};var Wr=s.dynCall_viii=function(){return(Wr=s.dynCall_viii=s.asm.ib).apply(null,arguments)};s.dynCall_iiifii=function(){return(s.dynCall_iiifii=s.asm.jb).apply(null,arguments)},s.dynCall_iiiiiiiii=function(){return(s.dynCall_iiiiiiiii=s.asm.kb).apply(null,arguments)},s.dynCall_iiiiii=function(){return(s.dynCall_iiiiii=s.asm.lb).apply(null,arguments)},s.dynCall_i=function(){return(s.dynCall_i=s.asm.mb).apply(null,arguments)},s.dynCall_viiiiiiiiiiiii=function(){return(s.dynCall_viiiiiiiiiiiii=s.asm.nb).apply(null,arguments)},s.dynCall_viiiiifiiffi=function(){return(s.dynCall_viiiiifiiffi=s.asm.ob).apply(null,arguments)},s.dynCall_viifffi=function(){return(s.dynCall_viifffi=s.asm.pb).apply(null,arguments)},s.dynCall_fii=function(){return(s.dynCall_fii=s.asm.qb).apply(null,arguments)},s.dynCall_viif=function(){return(s.dynCall_viif=s.asm.rb).apply(null,arguments)},s.dynCall_iiiiiiiiiiiiii=function(){return(s.dynCall_iiiiiiiiiiiiii=s.asm.sb).apply(null,arguments)},s.dynCall_iiiiiifiiffi=function(){return(s.dynCall_iiiiiifiiffi=s.asm.tb).apply(null,arguments)},s.dynCall_viiifffi=function(){return(s.dynCall_viiifffi=s.asm.ub).apply(null,arguments)},s.dynCall_viiiiiii=function(){return(s.dynCall_viiiiiii=s.asm.vb).apply(null,arguments)},s.dynCall_viiiiii=function(){return(s.dynCall_viiiiii=s.asm.wb).apply(null,arguments)},s.dynCall_iiiiiiii=function(){return(s.dynCall_iiiiiiii=s.asm.xb).apply(null,arguments)},s.dynCall_iiiiiii=function(){return(s.dynCall_iiiiiii=s.asm.yb).apply(null,arguments)};var Cr=s.dynCall_viiiiiiiii=function(){return(Cr=s.dynCall_viiiiiiiii=s.asm.zb).apply(null,arguments)};s.dynCall_fi=function(){return(s.dynCall_fi=s.asm.Ab).apply(null,arguments)},s.dynCall_vif=function(){return(s.dynCall_vif=s.asm.Bb).apply(null,arguments)},s.dynCall_ff=function(){return(s.dynCall_ff=s.asm.Cb).apply(null,arguments)},s.dynCall_iiiiifii=function(){return(s.dynCall_iiiiifii=s.asm.Db).apply(null,arguments)},s.dynCall_iiid=function(){return(s.dynCall_iiid=s.asm.Eb).apply(null,arguments)},s.dynCall_jiji=function(){return(s.dynCall_jiji=s.asm.Fb).apply(null,arguments)},s.dynCall_iidiiii=function(){return(s.dynCall_iidiiii=s.asm.Gb).apply(null,arguments)},s.dynCall_iiiiij=function(){return(s.dynCall_iiiiij=s.asm.Hb).apply(null,arguments)},s.dynCall_iiiiid=function(){return(s.dynCall_iiiiid=s.asm.Ib).apply(null,arguments)},s.dynCall_iiiiijj=function(){return(s.dynCall_iiiiijj=s.asm.Jb).apply(null,arguments)},s.dynCall_iiiiiijj=function(){return(s.dynCall_iiiiiijj=s.asm.Kb).apply(null,arguments)},s._asyncify_start_unwind=function(){return(s._asyncify_start_unwind=s.asm.Lb).apply(null,arguments)},s._asyncify_stop_unwind=function(){return(s._asyncify_stop_unwind=s.asm.Mb).apply(null,arguments)},s._asyncify_start_rewind=function(){return(s._asyncify_start_rewind=s.asm.Nb).apply(null,arguments)},s._asyncify_stop_rewind=function(){return(s._asyncify_stop_rewind=s.asm.Ob).apply(null,arguments)};function va(r,n,i,l,S){var f=Ue();try{return Tr(r,n,i,l,S)}catch(h){if(_e(f),h!==h+0&&h!=="longjmp")throw h;We(1,0)}}function Pa(r,n,i){var l=Ue();try{return _r(r,n,i)}catch(S){if(_e(l),S!==S+0&&S!=="longjmp")throw S;We(1,0)}}function Ia(r,n){var i=Ue();try{return Er(r,n)}catch(l){if(_e(i),l!==l+0&&l!=="longjmp")throw l;We(1,0)}}function wa(r,n,i){var l=Ue();try{br(r,n,i)}catch(S){if(_e(l),S!==S+0&&S!=="longjmp")throw S;We(1,0)}}function Ta(r,n,i,l){var S=Ue();try{return $r(r,n,i,l)}catch(f){if(_e(S),f!==f+0&&f!=="longjmp")throw f;We(1,0)}}function _a(r,n,i,l){var S=Ue();try{Wr(r,n,i,l)}catch(f){if(_e(S),f!==f+0&&f!=="longjmp")throw f;We(1,0)}}function $a(r,n,i,l,S,f,h,y,w,E){var R=Ue();try{Cr(r,n,i,l,S,f,h,y,w,E)}catch(U){if(_e(R),U!==U+0&&U!=="longjmp")throw U;We(1,0)}}function Ea(r,n,i,l,S){var f=Ue();try{Rr(r,n,i,l,S)}catch(h){if(_e(f),h!==h+0&&h!=="longjmp")throw h;We(1,0)}}var $t;function ba(r){this.name="ExitStatus",this.message="Program terminated with exit("+r+")",this.status=r}Ze=function r(){$t||Nt(),$t||(Ze=r)};function Nt(r){if(Be>0||(Hr(),Be>0))return;function n(){$t||($t=!0,s.calledRun=!0,!le&&(Fr(),jr(),m(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),zr()))}s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),n()},1)):n()}if(s.run=Nt,s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();return Nt(),s.ready}}();async function Ga(){const o={browser:{name:null,version:null},os:{name:null,version:null}},v=navigator.userAgentData;if(v){const s=await v.getHighEntropyValues(["platformVersion"]),m=["chrome","opera","safari","edge","firefox"];let t=!1;for(const c of s.brands){const e=c.brand.toLowerCase();if(m.find(u=>{if(e.includes(u))return u})){o.browser.name=c.brand,o.browser.version=c.version,t=!0;break}}t||(o.browser.name=s.brands[0].brand,o.browser.version=s.brands[0].version),o.os.name=s.platform,o.os.version=s.platformVersion}else{const s=navigator.userAgent;(s.indexOf("Trident")>=0||s.indexOf("MSIE")>=0)&&(s.indexOf("Mobile")>=0?o.browser.name="IE Mobile":o.browser.name="Internet Explorer"),s.indexOf("Firefox")>=0&&s.indexOf("Seamonkey")===-1&&(s.indexOf("Android")>=0?o.browser.name="Firefox for Android":o.browser.name="Firefox"),s.indexOf("Safari")>=0&&s.indexOf("Chrome")===-1&&s.indexOf("Chromium")===-1&&s.indexOf("Android")===-1&&(s.indexOf("CriOS")>=0?o.browser.name="Chrome for iOS":s.indexOf("FxiOS")>=0?o.browser.name="Firefox for iOS":o.browser.name="Safari"),s.indexOf("Chrome")>=0&&(s.match(/\bChrome\/[.0-9]* Mobile\b/)?s.match(/\bVersion\/\d+\.\d+\b/)||s.match(/\bwv\b/)?o.browser.name="WebView on Android":o.browser.name="Chrome for Android":o.browser.name="Chrome"),s.indexOf("Android")>=0&&s.indexOf("Chrome")===-1&&s.indexOf("Chromium")===-1&&s.indexOf("Trident")===-1&&s.indexOf("Firefox")===-1&&(o.browser.name="Android Browser"),s.indexOf("Edge")>=0&&(o.browser.name="Edge"),s.indexOf("UCBrowser")>=0&&(o.browser.name="UC Browser for Android"),s.indexOf("SamsungBrowser")>=0&&(o.browser.name="Samsung Internet"),(s.indexOf("OPR")>=0||s.indexOf("Opera")>=0)&&(s.indexOf("Opera Mini")>=0?o.browser.name="Opera Mini":s.indexOf("Opera Mobi")>=0||s.indexOf("Opera Tablet")>=0||s.indexOf("Mobile")>=0?o.browser.name="Opera Mobile":o.browser.name="Opera"),(s.indexOf("BB10")>=0||s.indexOf("PlayBook")>=0||s.indexOf("BlackBerry")>=0)&&(o.browser.name="BlackBerry"),s.indexOf("MQQBrowser")>=0&&(o.browser.name="QQ Browser");let m=null;switch(o.browser.name){case"Chrome":case"Chrome for Android":case"WebView on Android":m=s.match(/Chrome\/((\d+\.)+\d+)/);break;case"Firefox":case"Firefox for Android":m=s.match(/Firefox\/((\d+\.)+\d+)/);break;case"Firefox for iOS":m=s.match(/FxiOS\/((\d+\.)+\d+)/);break;case"Edge":case"Internet Explorer":case"IE Mobile":s.indexOf("Edge")>=0?m=s.match(/Edge\/((\d+\.)+\d+)/):s.indexOf("rv:11")>=0?m=s.match(/rv:((\d+\.)+\d+)/):s.indexOf("MSIE")>=0&&(m=s.match(/MSIE ((\d+\.)+\d+)/));break;case"Safari":m=s.match(/Version\/((\d+\.)+\d+)/);break;case"Android Browser":m=s.match(/Android ((\d+\.)+\d+)/);break;case"UC Browser for Android":m=s.match(/UCBrowser\/((\d+\.)+\d+)/);break;case"Samsung Internet":m=s.match(/SamsungBrowser\/((\d+\.)+\d+)/);break;case"Opera Mini":m=s.match(/Opera Mini\/((\d+\.)+\d+)/);break;case"Opera":s.match(/OPR/)?m=s.match(/OPR\/((\d+\.)+\d+)/):s.match(/Version/)?m=s.match(/Version\/((\d+\.)+\d+)/):m=s.match(/Opera\/((\d+\.)+\d+)/);break;case"BlackBerry":m=s.match(/Version\/((\d+\.)+\d+)/);break;case"QQ Browser":m=s.match(/MQQBrowser\/((\d+\.)+\d+)/);break;default:m=s.match(/\/((\d+\.)+\d+)$/);break}switch(m&&m[1]&&(o.browser.version=m[1]),s.indexOf("Windows")>=0&&(s.indexOf("Windows Phone")>=0?o.os.name="Windows Phone":o.os.name="Windows"),s.indexOf("OS X")>=0&&s.indexOf("Android")===-1&&(o.os.name="OS X"),s.indexOf("Linux")>=0&&(o.os.name="Linux"),s.indexOf("like Mac OS X")>=0&&(o.os.name="iOS"),(s.indexOf("Android")>=0||s.indexOf("Adr")>=0)&&s.indexOf("Windows Phone")===-1&&(o.os.name="Android"),s.indexOf("BB10")>=0&&(o.os.name="BlackBerry"),s.indexOf("RIM Tablet OS")>=0&&(o.os.name="BlackBerry Tablet OS"),s.indexOf("BlackBerry")>=0&&(o.os.name="BlackBerryOS"),s.indexOf("CrOS")>=0&&(o.os.name="Chrome OS"),s.indexOf("KAIOS")>=0&&(o.os.name="KaiOS"),m=null,o.os.name){case"Windows":case"Windows Phone":if(s.indexOf("Win16")>=0)o.os.version="3.1.1";else if(s.indexOf("Windows CE")>=0)o.os.version="CE";else if(s.indexOf("Windows 95")>=0)o.os.version="95";else if(s.indexOf("Windows 98")>=0)s.indexOf("Windows 98; Win 9x 4.90")>=0?o.os.version="Millennium Edition":o.os.version="98";else if(m=s.match(/Win(?:dows)?(?: Phone)?[ _]?(?:(?:NT|9x) )?((?:(\d+\.)*\d+)|XP|ME|CE)\b/),m&&m[1])switch(m[1]){case"6.4":m[1]="10.0";break;case"6.3":m[1]="8.1";break;case"6.2":m[1]="8";break;case"6.1":m[1]="7";break;case"6.0":m[1]="Vista";break;case"5.2":m[1]="Server 2003";break;case"5.1":m[1]="XP";break;case"5.01":m[1]="2000 SP1";break;case"5.0":m[1]="2000";break;case"4.0":m[1]="4.0";break}break;case"OS X":m=s.match(/OS X ((\d+[._])+\d+)\b/);break;case"Linux":o.os.version=null;break;case"iOS":m=s.match(/OS ((\d+[._])+\d+) like Mac OS X/);break;case"Android":m=s.match(/(?:Android|Adr) (\d+([._]\d+)*)/);break;case"BlackBerry":case"BlackBerryOS":m=s.match(/Version\/((\d+\.)+\d+)/);break;case"BlackBerry Tablet OS":m=s.match(/RIM Tablet OS ((\d+\.)+\d+)/);break;case"Chrome OS":o.os.version=o.browser.version;break;case"KaiOS":m=s.match(/KAIOS\/(\d+(\.\d+)*)/);break;default:o.os.version=null;break}if(m&&m[1]&&(m[1]=m[1].replace(/_/g,"."),o.os.version=m[1]),o.os.name==="OS X"&&o.os.version){const t=o.os.version.split(".");if(t.length>=2){const c=parseInt(t[1],10);c<=7?o.os.name="Mac OS X":c>=12?o.os.name="macOS":o.os.name="OS X"}}}return o}(function(o){(function(v){class s extends Error{constructor(t,c){if(typeof t!="string"&&t!==null||!(c!=null&&c.__classes&&c.__classes.indexOf("java.lang.Throwable")>=0||c!=null&&c instanceof Error||c===null))if(typeof t!="string"&&t!==null||c!==void 0)if((t!=null&&t.__classes&&t.__classes.indexOf("java.lang.Throwable")>=0||t!=null&&t instanceof Error||t===null)&&c===void 0){let e=arguments[0];super(e),this.message=e}else{if(t!==void 0||c!==void 0)throw new Error("invalid overload");super()}else super(t),this.message=t;else super(t),this.message=t}}v.Exception=s,s.__class="com.WacomGSS.Exception",s.__interfaces=["java.io.Serializable"]})(o.WacomGSS||(o.WacomGSS={}))})(_||(_={})),function(o){(function(v){class s extends Error{constructor(t,c){if(typeof t!="string"&&t!==null||!(c!=null&&c.__classes&&c.__classes.indexOf("java.lang.Throwable")>=0||c!=null&&c instanceof Error||c===null))if(typeof t!="string"&&t!==null||c!==void 0)if((t!=null&&t.__classes&&t.__classes.indexOf("java.lang.Throwable")>=0||t!=null&&t instanceof Error||t===null)&&c===void 0){let e=arguments[0];super(e),this.message=e}else{if(t!==void 0||c!==void 0)throw new Error("invalid overload");super()}else super(t),this.message=t;else super(t),this.message=t}}v.RuntimeException=s,s.__class="com.WacomGSS.RuntimeException",s.__interfaces=["java.io.Serializable"]})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m extends o.WacomGSS.Exception{constructor(c,e){if(typeof c!="string"&&c!==null||!(e!=null&&e.__classes&&e.__classes.indexOf("java.lang.Throwable")>=0||e!=null&&e instanceof Error||e===null))if(typeof c!="string"&&c!==null||e!==void 0)if((c!=null&&c.__classes&&c.__classes.indexOf("java.lang.Throwable")>=0||c!=null&&c instanceof Error||c===null)&&e===void 0)super(arguments[0]);else{if(c!==void 0||e!==void 0)throw new Error("invalid overload");super()}else super(c);else super(c,e)}}s.STUException=m,m.__class="com.WacomGSS.STU.STUException",m.__interfaces=["java.io.Serializable"]})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){let t;(function(e){e[e.RSA1024=0]="RSA1024",e[e.RSA1536=1]="RSA1536",e[e.RSA2048=2]="RSA2048"})(t=m.AsymmetricKeyType||(m.AsymmetricKeyType={}));class c{constructor(a,u,d){this._$ordinal=a,this._$name=u,this.value===void 0&&(this.value=0),this.value=d}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(a){return this._$ordinal-(isNaN(a)?a._$ordinal:a)}}m.AsymmetricKeyType_$WRAPPER=c,t.__class="com.WacomGSS.STU.Protocol.AsymmetricKeyType",t.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],t._$wrappers=[new c(0,"RSA1024",0),new c(1,"RSA1536",1),new c(2,"RSA2048",2)]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){let t;(function(e){e[e.None=0]="None",e[e.PKCS1=1]="PKCS1",e[e.OAEP=2]="OAEP"})(t=m.AsymmetricPaddingType||(m.AsymmetricPaddingType={}));class c{constructor(a,u,d){this._$ordinal=a,this._$name=u,this.value===void 0&&(this.value=0),this.value=d}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(a){return this._$ordinal-(isNaN(a)?a._$ordinal:a)}}m.AsymmetricPaddingType_$WRAPPER=c,t.__class="com.WacomGSS.STU.Protocol.AsymmetricPaddingType",t.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],t._$wrappers=[new c(0,"None",0),new c(1,"PKCS1",1),new c(2,"OAEP",2)]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{}t.STU500=115200,t.STU430_530=460800,m.BaudRate=t,t.__class="com.WacomGSS.STU.Protocol.BaudRate"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){let t;(function(e){e[e.Disable=0]="Disable",e[e.Enable=1]="Enable"})(t=m.BootScreenFlag||(m.BootScreenFlag={}));class c{constructor(a,u,d){this._$ordinal=a,this._$name=u,this.value===void 0&&(this.value=0),this.value=d}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(a){return this._$ordinal-(isNaN(a)?a._$ordinal:a)}}m.BootScreenFlag_$WRAPPER=c,t.__class="com.WacomGSS.STU.Protocol.BootScreenFlag",t.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],t._$wrappers=[new c(0,"Disable",0),new c(1,"Enable",1)]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a,u,d,g,P,I,T){if(typeof e!="number"&&e!==null||typeof a!="number"&&a!==null||typeof u!="number"&&u!==null||typeof d!="number"&&d!==null||typeof g!="number"&&g!==null||typeof P!="number"&&P!==null||typeof I!="number"&&I!==null||typeof T!="number"&&T!==null){if(typeof e!="number"&&e!==null||typeof a!="number"&&a!==null||typeof u!="number"&&u!==null||typeof d!="number"&&d!==null||typeof g!="number"&&g!==null||typeof P!="number"&&P!==null||typeof I!="number"&&I!==null||typeof T!="boolean"&&T!==null)throw new Error("invalid overload");{let $=arguments[7];this.tabletMaxX===void 0&&(this.tabletMaxX=0),this.tabletMaxY===void 0&&(this.tabletMaxY=0),this.tabletMaxPressure===void 0&&(this.tabletMaxPressure=0),this.screenWidth===void 0&&(this.screenWidth=0),this.screenHeight===void 0&&(this.screenHeight=0),this.maxReportRate===void 0&&(this.maxReportRate=0),this.resolution===void 0&&(this.resolution=0),this.zlibColorSupport===void 0&&(this.zlibColorSupport=!1),this.encodingFlag===void 0&&(this.encodingFlag=0),this.tabletMaxX=e,this.tabletMaxY=a,this.tabletMaxPressure=u,this.screenWidth=d,this.screenHeight=g,this.maxReportRate=P,this.resolution=I,this.zlibColorSupport=$,this.encodingFlag=$?1:0}}else this.tabletMaxX===void 0&&(this.tabletMaxX=0),this.tabletMaxY===void 0&&(this.tabletMaxY=0),this.tabletMaxPressure===void 0&&(this.tabletMaxPressure=0),this.screenWidth===void 0&&(this.screenWidth=0),this.screenHeight===void 0&&(this.screenHeight=0),this.maxReportRate===void 0&&(this.maxReportRate=0),this.resolution===void 0&&(this.resolution=0),this.zlibColorSupport===void 0&&(this.zlibColorSupport=!1),this.encodingFlag===void 0&&(this.encodingFlag=0),this.tabletMaxX=e,this.tabletMaxY=a,this.tabletMaxPressure=u,this.screenWidth=d,this.screenHeight=g,this.maxReportRate=P,this.resolution=I,this.zlibColorSupport=(1&T)!=0,this.encodingFlag=T}getTabletMaxX(){return this.tabletMaxX}getTabletMaxY(){return this.tabletMaxY}getTabletMaxPressure(){return this.tabletMaxPressure}getScreenWidth(){return this.screenWidth}getScreenHeight(){return this.screenHeight}getMaxReportRate(){return this.maxReportRate}getResolution(){return this.resolution}getZlibColorSupport(){return this.zlibColorSupport}getEncodingFlag(){return this.encodingFlag}}m.Capability=t,t.__class="com.WacomGSS.STU.Protocol.Capability"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){let t;(function(e){e[e.HID=0]="HID",e[e.Serial=1]="Serial"})(t=m.DefaultMode||(m.DefaultMode={}));class c{constructor(a,u,d){this._$ordinal=a,this._$name=u,this.value===void 0&&(this.value=0),this.value=d}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(a){return this._$ordinal-(isNaN(a)?a._$ordinal:a)}}m.DefaultMode_$WRAPPER=c,t.__class="com.WacomGSS.STU.Protocol.DefaultMode",t.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],t._$wrappers=[new c(0,"HID",1),new c(1,"Serial",2)]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a){if(!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)||typeof a!="number"&&a!==null){if(!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)||a!==void 0)throw new Error("invalid overload");if(this.value===void 0&&(this.value=null),e.length!==t.myLength)throw Object.defineProperty(new Error(t.txtError),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.value=e.slice(0)}else{if(this.value===void 0&&(this.value=null),e.length-a<t.myLength)throw Object.defineProperty(new Error(t.txtError),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.value=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(t.myLength),((u,d,g,P,I)=>{if(u!==g||P>=d+I)for(;--I>=0;)g[P++]=u[d++];else{let T=u.slice(d,d+I);for(let $=0;$<I;$++)g[P++]=T[$]}})(e,a,this.value,0,t.myLength)}}getValue(){return this.value.slice(0)}}t.txtError="invalid length",t.myLength=16,m.PublicKey=t,t.__class="com.WacomGSS.STU.Protocol.PublicKey"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t extends o.WacomGSS.STU.Protocol.PublicKey{constructor(e,a){if(!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)||typeof a!="number"&&a!==null){if(!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)||a!==void 0)throw new Error("invalid overload");super(e)}else super(e,a)}static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.DevicePublicKey_$LI$()),t.reportId}}t.reportSize=16,m.DevicePublicKey=t,t.__class="com.WacomGSS.STU.Protocol.DevicePublicKey"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a){if(!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)||typeof a!="number"&&a!==null){if(!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)||a!==void 0)throw new Error("invalid overload");if(this.value===void 0&&(this.value=null),e.length!==t.myLength)throw Object.defineProperty(new Error(t.txtError),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.value=e.slice(0)}else{if(this.value===void 0&&(this.value=null),e.length-a<t.myLength)throw Object.defineProperty(new Error(t.txtError),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.value=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(t.myLength),((u,d,g,P,I)=>{if(u!==g||P>=d+I)for(;--I>=0;)g[P++]=u[d++];else{let T=u.slice(d,d+I);for(let $=0;$<I;$++)g[P++]=T[$]}})(e,a,this.value,0,t.myLength)}}getValue(){return this.value.slice(0)}}t.txtError="invalid length",t.myLength=2,m.DHbase=t,t.__class="com.WacomGSS.STU.Protocol.DHbase"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a){if(!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)||typeof a!="number"&&a!==null){if(!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)||a!==void 0)throw new Error("invalid overload");if(this.value===void 0&&(this.value=null),e.length!==t.myLength)throw Object.defineProperty(new Error(t.txtError),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.value=e.slice(0)}else{if(this.value===void 0&&(this.value=null),e.length-a<t.myLength)throw Object.defineProperty(new Error(t.txtError),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.value=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(t.myLength),((u,d,g,P,I)=>{if(u!==g||P>=d+I)for(;--I>=0;)g[P++]=u[d++];else{let T=u.slice(d,d+I);for(let $=0;$<I;$++)g[P++]=T[$]}})(e,a,this.value,0,t.myLength)}}getValue(){return this.value.slice(0)}isEmpty(){let e=!0;for(let a=0;a<this.value.length;a++)if(this.value[a]!==0){e=!1;break}return e}}t.txtError="invalid length",t.myLength=16,m.DHprime=t,t.__class="com.WacomGSS.STU.Protocol.DHprime"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{static EncodingFlag_Zlib_$LI$(){return t.EncodingFlag_Zlib==null&&(t.EncodingFlag_Zlib=1),t.EncodingFlag_Zlib}static EncodingFlag_1bit_$LI$(){return t.EncodingFlag_1bit==null&&(t.EncodingFlag_1bit=2),t.EncodingFlag_1bit}static EncodingFlag_16bit_$LI$(){return t.EncodingFlag_16bit==null&&(t.EncodingFlag_16bit=4),t.EncodingFlag_16bit}static EncodingFlag_24bit_$LI$(){return t.EncodingFlag_24bit==null&&(t.EncodingFlag_24bit=8),t.EncodingFlag_24bit}}m.EncodingFlag=t,t.__class="com.WacomGSS.STU.Protocol.EncodingFlag"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){let t;(function(e){e[e.EncodingMode_1bit=0]="EncodingMode_1bit",e[e.EncodingMode_1bit_ZLib=1]="EncodingMode_1bit_ZLib",e[e.EncodingMode_16bit=2]="EncodingMode_16bit",e[e.EncodingMode_24bit=3]="EncodingMode_24bit",e[e.EncodingMode_1bit_Bulk=4]="EncodingMode_1bit_Bulk",e[e.EncodingMode_16bit_Bulk=5]="EncodingMode_16bit_Bulk",e[e.EncodingMode_24bit_Bulk=6]="EncodingMode_24bit_Bulk"})(t=m.EncodingMode||(m.EncodingMode={}));class c{constructor(a,u,d){this._$ordinal=a,this._$name=u,this.value===void 0&&(this.value=0),this.value=d}static EncodingMode_Raw_$LI$(){return c.EncodingMode_Raw==null&&(c.EncodingMode_Raw=0),c.EncodingMode_Raw}static EncodingMode_Zlib_$LI$(){return c.EncodingMode_Zlib==null&&(c.EncodingMode_Zlib=1),c.EncodingMode_Zlib}static EncodingMode_16bit_565_$LI$(){return c.EncodingMode_16bit_565==null&&(c.EncodingMode_16bit_565=2),c.EncodingMode_16bit_565}static EncodingMode_Bulk_$LI$(){return c.EncodingMode_Bulk==null&&(c.EncodingMode_Bulk=16),c.EncodingMode_Bulk}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(a){return this._$ordinal-(isNaN(a)?a._$ordinal:a)}}m.EncodingMode_$WRAPPER=c,t.__class="com.WacomGSS.STU.Protocol.EncodingMode",t.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],t._$wrappers=[new c(0,"EncodingMode_1bit",0),new c(1,"EncodingMode_1bit_ZLib",1),new c(2,"EncodingMode_16bit",2),new c(3,"EncodingMode_24bit",4),new c(4,"EncodingMode_1bit_Bulk",16),new c(5,"EncodingMode_16bit_Bulk",18),new c(6,"EncodingMode_24bit_Bulk",20)]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a,u,d,g,P){if(typeof e!="number"&&e!==null||typeof a!="number"&&a!==null||typeof u!="number"&&u!==null||!(d!=null&&d instanceof Array&&(d.length==0||d[0]==null||typeof d[0]=="number")||d===null)||typeof g!="number"&&g!==null||typeof P!="number"&&P!==null){if(typeof e!="number"&&e!==null||typeof a!="number"&&a!==null||typeof u!="number"&&u!==null||!(d!=null&&d instanceof Array&&(d.length==0||d[0]==null||typeof d[0]=="number")||d===null)||g!==void 0||P!==void 0)throw new Error("invalid overload");if(this.encryptionCommandNumber===void 0&&(this.encryptionCommandNumber=0),this.parameter===void 0&&(this.parameter=0),this.lengthOrIndex===void 0&&(this.lengthOrIndex=0),this.data===void 0&&(this.data=null),d!=null&&d.length>t.maxDataLength)throw Object.defineProperty(new Error(t.txtError),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.encryptionCommandNumber=o.WacomGSS.STU.Protocol.EncryptionCommandNumber._$wrappers[e].getValue(),this.parameter=a,this.lengthOrIndex=u,this.data=(I=>{let T=[];for(;I-- >0;)T.push(0);return T})(t.maxDataLength),d!=null&&((I,T,$,G,O)=>{if(I!==$||G>=T+O)for(;--O>=0;)$[G++]=I[T++];else{let x=I.slice(T,T+O);for(let j=0;j<O;j++)$[G++]=x[j]}})(d,0,this.data,0,d.length)}else{if(this.encryptionCommandNumber===void 0&&(this.encryptionCommandNumber=0),this.parameter===void 0&&(this.parameter=0),this.lengthOrIndex===void 0&&(this.lengthOrIndex=0),this.data===void 0&&(this.data=null),d==null&&P!==0)throw Object.defineProperty(new Error(t.txtError),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});if(P<0||P>t.maxDataLength||d!=null&&d.length-g<P)throw Object.defineProperty(new Error(t.txtError),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.encryptionCommandNumber=o.WacomGSS.STU.Protocol.EncryptionCommandNumber._$wrappers[e].getValue(),this.parameter=a,this.lengthOrIndex=u,this.data=(I=>{let T=[];for(;I-- >0;)T.push(0);return T})(t.maxDataLength),d!=null&&((I,T,$,G,O)=>{if(I!==$||G>=T+O)for(;--O>=0;)$[G++]=I[T++];else{let x=I.slice(T,T+O);for(let j=0;j<O;j++)$[G++]=x[j]}})(d,g,this.data,0,P)}}getEncryptionCommandNumber(){return this.encryptionCommandNumber}getParameter(){return this.parameter}getLengthOrIndex(){return this.lengthOrIndex}getData(){return this.data}}t.maxDataLength=64,t.txtError="invalid data length",m.EncryptionCommand=t,t.__class="com.WacomGSS.STU.Protocol.EncryptionCommand"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){let t;(function(e){e[e.SetEncryptionType=0]="SetEncryptionType",e[e.SetParameterBlock=1]="SetParameterBlock",e[e.GetStatusBlock=2]="GetStatusBlock",e[e.GetParameterBlock=3]="GetParameterBlock",e[e.GenerateSymmetricKey=4]="GenerateSymmetricKey"})(t=m.EncryptionCommandNumber||(m.EncryptionCommandNumber={}));class c{constructor(a,u,d){this._$ordinal=a,this._$name=u,this.value===void 0&&(this.value=0),this.value=d}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(a){return this._$ordinal-(isNaN(a)?a._$ordinal:a)}}m.EncryptionCommandNumber_$WRAPPER=c,t.__class="com.WacomGSS.STU.Protocol.EncryptionCommandNumber",t.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],t._$wrappers=[new c(0,"SetEncryptionType",1),new c(1,"SetParameterBlock",2),new c(2,"GetStatusBlock",3),new c(3,"GetParameterBlock",4),new c(4,"GenerateSymmetricKey",5)]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){let t;(function(e){e[e.RSAe=0]="RSAe",e[e.RSAn=1]="RSAn",e[e.RSAc=2]="RSAc",e[e.RSAm=3]="RSAm"})(t=m.EncryptionCommandParameterBlockIndex||(m.EncryptionCommandParameterBlockIndex={}));class c{constructor(a,u,d){this._$ordinal=a,this._$name=u,this.value===void 0&&(this.value=0),this.value=d}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(a){return this._$ordinal-(isNaN(a)?a._$ordinal:a)}}m.EncryptionCommandParameterBlockIndex_$WRAPPER=c,t.__class="com.WacomGSS.STU.Protocol.EncryptionCommandParameterBlockIndex",t.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],t._$wrappers=[new c(0,"RSAe",0),new c(1,"RSAn",1),new c(2,"RSAc",2),new c(3,"RSAm",3)]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a,u,d,g,P,I,T,$,G){this.symmetricKeyType===void 0&&(this.symmetricKeyType=0),this.asymmetricPaddingType===void 0&&(this.asymmetricPaddingType=0),this.asymmetricKeyType===void 0&&(this.asymmetricKeyType=0),this.statusCodeRSAe===void 0&&(this.statusCodeRSAe=0),this.statusCodeRSAn===void 0&&(this.statusCodeRSAn=0),this.statusCodeRSAc===void 0&&(this.statusCodeRSAc=0),this.lastResultCode===void 0&&(this.lastResultCode=0),this.rng===void 0&&(this.rng=!1),this.sha1===void 0&&(this.sha1=!1),this.aes===void 0&&(this.aes=!1),this.symmetricKeyType=e,this.asymmetricPaddingType=a,this.asymmetricKeyType=u,this.statusCodeRSAe=d,this.statusCodeRSAn=g,this.statusCodeRSAc=P,this.lastResultCode=I,this.rng=T,this.sha1=$,this.aes=G}static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.EncryptionStatus_$LI$()),t.reportId}getSymmetricKeyType(){return this.symmetricKeyType}getAsymmetricPaddingType(){return this.asymmetricPaddingType}getAsymmetricKeyType(){return this.asymmetricKeyType}getStatusCodeRSAe(){return this.statusCodeRSAe}getStatusCodeRSAn(){return this.statusCodeRSAn}getStatusCodeRSAc(){return this.statusCodeRSAc}getLastResultCode(){return this.lastResultCode}getRng(){return this.rng}getSha1(){return this.sha1}getAes(){return this.aes}}t.reportSize=16,m.EncryptionStatus=t,t.__class="com.WacomGSS.STU.Protocol.EncryptionStatus"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){let t;(function(e){e[e.Commit=0]="Commit",e[e.Abandon=1]="Abandon"})(t=m.EndImageDataFlag||(m.EndImageDataFlag={}));class c{constructor(a,u,d){this._$ordinal=a,this._$name=u,this.value===void 0&&(this.value=0),this.value=d}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(a){return this._$ordinal-(isNaN(a)?a._$ordinal:a)}}m.EndImageDataFlag_$WRAPPER=c,t.__class="com.WacomGSS.STU.Protocol.EndImageDataFlag",t.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],t._$wrappers=[new c(0,"Commit",0),new c(1,"Abandon",1)]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{static None_$LI$(){return t.None==null&&(t.None=0),t.None}static WrongReportId_$LI$(){return t.WrongReportId==null&&(t.WrongReportId=1),t.WrongReportId}static WrongState_$LI$(){return t.WrongState==null&&(t.WrongState=2),t.WrongState}static Crc_$LI$(){return t.Crc==null&&(t.Crc=3),t.Crc}static BadParameter_$LI$(){return t.BadParameter==null&&(t.BadParameter=4),t.BadParameter}static GraphicsImageTooLong_$LI$(){return t.GraphicsImageTooLong==null&&(t.GraphicsImageTooLong=17),t.GraphicsImageTooLong}static GraphicsZlibError_$LI$(){return t.GraphicsZlibError==null&&(t.GraphicsZlibError=18),t.GraphicsZlibError}static GraphicsWrongParameters_$LI$(){return t.GraphicsWrongParameters==null&&(t.GraphicsWrongParameters=21),t.GraphicsWrongParameters}static PadNotExist_$LI$(){return t.PadNotExist==null&&(t.PadNotExist=32),t.PadNotExist}static RomSizeOverflow_$LI$(){return t.RomSizeOverflow==null&&(t.RomSizeOverflow=51),t.RomSizeOverflow}static RomInvalidParameter_$LI$(){return t.RomInvalidParameter==null&&(t.RomInvalidParameter=52),t.RomInvalidParameter}static RomErrorCRC_$LI$(){return t.RomErrorCRC==null&&(t.RomErrorCRC=53),t.RomErrorCRC}}m.ErrorCode=t,t.__class="com.WacomGSS.STU.Protocol.ErrorCode"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{static None_$LI$(){return t.None==null&&(t.None=0),t.None}static BadParameter_$LI$(){return t.BadParameter==null&&(t.BadParameter=1),t.BadParameter}static ParameterTooLong_$LI$(){return t.ParameterTooLong==null&&(t.ParameterTooLong=2),t.ParameterTooLong}static PublicKeyNotReady_$LI$(){return t.PublicKeyNotReady==null&&(t.PublicKeyNotReady=3),t.PublicKeyNotReady}static PublicExponentNotReady_$LI$(){return t.PublicExponentNotReady==null&&(t.PublicExponentNotReady=4),t.PublicExponentNotReady}static SpecifiedKeyInUse_$LI$(){return t.SpecifiedKeyInUse==null&&(t.SpecifiedKeyInUse=5),t.SpecifiedKeyInUse}static SpecifiedKeyNotInUse_$LI$(){return t.SpecifiedKeyNotInUse==null&&(t.SpecifiedKeyNotInUse=6),t.SpecifiedKeyNotInUse}static BadCommandCode_$LI$(){return t.BadCommandCode==null&&(t.BadCommandCode=7),t.BadCommandCode}static CommandPending_$LI$(){return t.CommandPending==null&&(t.CommandPending=8),t.CommandPending}static SpecifiedKeyExists_$LI$(){return t.SpecifiedKeyExists==null&&(t.SpecifiedKeyExists=9),t.SpecifiedKeyExists}static SpecifiedKeyNotExist_$LI$(){return t.SpecifiedKeyNotExist==null&&(t.SpecifiedKeyNotExist=10),t.SpecifiedKeyNotExist}static NotInitialized_$LI$(){return t.NotInitialized==null&&(t.NotInitialized=11),t.NotInitialized}}m.ErrorCodeRSA=t,t.__class="com.WacomGSS.STU.Protocol.ErrorCodeRSA"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.EventData_$LI$()),t.reportId}}t.reportSize=9,m.EventData=t,t.__class="com.WacomGSS.STU.Protocol.EventData"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.EventDataEncrypted_$LI$()),t.reportId}}t.reportSize=16,t.encryptedSize=16,m.EventDataEncrypted=t,t.__class="com.WacomGSS.STU.Protocol.EventDataEncrypted"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a){if(!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)||typeof a!="number"&&a!==null){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.EventDataKeyPad||e===null)||a!==void 0)throw new Error("invalid overload");{let u=arguments[0];this.screenSelected===void 0&&(this.screenSelected=0),this.keyNumber===void 0&&(this.keyNumber=0),this.screenSelected=u.screenSelected,this.keyNumber=u.keyNumber}}else{if(this.screenSelected===void 0&&(this.screenSelected=0),this.keyNumber===void 0&&(this.keyNumber=0),e[a]!==t.operationModeType_$LI$())throw new o.WacomGSS.RuntimeException("Attempt to intialize EventDataKeyPad with wrong EventData");++a,this.screenSelected=e[a+0],this.keyNumber=e[a+1]}}static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.EventData_$LI$()),t.reportId}static operationModeType_$LI$(){return t.operationModeType==null&&(t.operationModeType=o.WacomGSS.STU.Protocol.OperationModeType.KeyPad_$LI$()),t.operationModeType}getScreenSelected(){return this.screenSelected}getKeyNumber(){return this.keyNumber}}t.reportSize=9,m.EventDataKeyPad=t,t.__class="com.WacomGSS.STU.Protocol.EventDataKeyPad"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t extends o.WacomGSS.STU.Protocol.EventDataKeyPad{constructor(e,a){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.EventDataKeyPad||e===null)||typeof a!="number"&&a!==null){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.EventDataKeyPadEncrypted||e===null)||a!==void 0)throw new Error("invalid overload");super(e),this.sessionId===void 0&&(this.sessionId=0),this.sessionId=e.sessionId}else super(e),this.sessionId===void 0&&(this.sessionId=0),this.sessionId=a}static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.EventDataEncrypted_$LI$()),t.reportId}getSessionId(){return this.sessionId}}t.reportSize=16,t.encryptedSize=16,m.EventDataKeyPadEncrypted=t,t.__class="com.WacomGSS.STU.Protocol.EventDataKeyPadEncrypted"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a){if(!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)||typeof a!="number"&&a!==null){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.EventDataPinPad||e===null)||a!==void 0)throw new Error("invalid overload");{let u=arguments[0];this.keyInput===void 0&&(this.keyInput=0),this.pin=(d=>{let g=[];for(;d-- >0;)g.push(0);return g})(13),this.keyInput=u.keyInput,((d,g,P,I,T)=>{if(d!==P||I>=g+T)for(;--T>=0;)P[I++]=d[g++];else{let $=d.slice(g,g+T);for(let G=0;G<T;G++)P[I++]=$[G]}})(u.pin,0,this.pin,0,u.pin.length)}}else{if(this.keyInput===void 0&&(this.keyInput=0),this.pin=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(13),e[a]!==t.operationModeType_$LI$())throw new o.WacomGSS.RuntimeException("Attempt to intialize EventDataPinPad with wrong EventData");++a,this.keyInput=e[a+0],this.pin[0]=e[a+1]>>4&15|0,this.pin[1]=15&e[a+1]|0,this.pin[2]=e[a+2]>>4&15|0,this.pin[3]=15&e[a+2]|0,this.pin[4]=e[a+3]>>4&15|0,this.pin[5]=15&e[a+3]|0,this.pin[6]=e[a+4]>>4&15|0,this.pin[7]=15&e[a+4]|0,this.pin[8]=e[a+5]>>4&15|0,this.pin[9]=15&e[a+5]|0,this.pin[10]=e[a+6]>>4&15|0,this.pin[11]=15&e[a+6]|0,this.pin[12]=e[a+7]>>4&15|0}}static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.EventData_$LI$()),t.reportId}static operationModeType_$LI$(){return t.operationModeType==null&&(t.operationModeType=o.WacomGSS.STU.Protocol.OperationModeType.PinPad_$LI$()),t.operationModeType}getKeyInput(){return this.keyInput}getPIN(){const e={str:"",toString:function(){return this.str}};for(let u=0;u<this.pin.length;++u)switch(this.pin[u]){case 15:u=this.pin.length;break;case 10:(a=e).str=a.str.concat("*");break;case 11:(d=>{d.str=d.str.concat("#")})(e);break;case 12:(d=>{d.str=d.str.concat(".")})(e);break;default:0<=this.pin[u]&&this.pin[u]<=9&&(d=>{d.str=d.str.concat(String.fromCharCode(48+this.pin[u]))})(e)}var a;return e.str}}t.reportSize=9,m.EventDataPinPad=t,t.__class="com.WacomGSS.STU.Protocol.EventDataPinPad"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t extends o.WacomGSS.STU.Protocol.EventDataPinPad{constructor(e,a){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.EventDataPinPad||e===null)||typeof a!="number"&&a!==null){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.EventDataPinPadEncrypted||e===null)||a!==void 0)throw new Error("invalid overload");super(e),this.sessionId===void 0&&(this.sessionId=0),this.sessionId=e.sessionId}else super(e),this.sessionId===void 0&&(this.sessionId=0),this.sessionId=a}static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.EventDataEncrypted_$LI$()),t.reportId}getSessionId(){return this.sessionId}}t.reportSize=16,t.encryptedSize=16,m.EventDataPinPadEncrypted=t,t.__class="com.WacomGSS.STU.Protocol.EventDataPinPadEncrypted"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a){if(!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)||typeof a!="number"&&a!==null){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.EventDataSignature||e===null)||a!==void 0)throw new Error("invalid overload");{let u=arguments[0];this.keyValue===void 0&&(this.keyValue=0),this.keyValue=u.keyValue}}else{if(this.keyValue===void 0&&(this.keyValue=0),e[a]!==t.operationModeType_$LI$())throw new o.WacomGSS.RuntimeException("Attempt to intialize EventDataSignature with wrong EventData");++a,this.keyValue=e[a+0]}}static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.EventData_$LI$()),t.reportId}static operationModeType_$LI$(){return t.operationModeType==null&&(t.operationModeType=o.WacomGSS.STU.Protocol.OperationModeType.Signature_$LI$()),t.operationModeType}getKeyValue(){return this.keyValue}}t.reportSize=9,m.EventDataSignature=t,t.__class="com.WacomGSS.STU.Protocol.EventDataSignature"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t extends o.WacomGSS.STU.Protocol.EventDataSignature{constructor(e,a){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.EventDataSignature||e===null)||typeof a!="number"&&a!==null){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.EventDataSignatureEncrypted||e===null)||a!==void 0)throw new Error("invalid overload");super(e),this.sessionId===void 0&&(this.sessionId=0),this.sessionId=e.sessionId}else super(e),this.sessionId===void 0&&(this.sessionId=0),this.sessionId=a}static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.EventDataEncrypted_$LI$()),t.reportId}getSessionId(){return this.sessionId}}t.reportSize=16,t.encryptedSize=16,m.EventDataSignatureEncrypted=t,t.__class="com.WacomGSS.STU.Protocol.EventDataSignatureEncrypted"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a,u,d){this.upperLeftXpixel===void 0&&(this.upperLeftXpixel=0),this.upperLeftYpixel===void 0&&(this.upperLeftYpixel=0),this.lowerRightXpixel===void 0&&(this.lowerRightXpixel=0),this.lowerRightYpixel===void 0&&(this.lowerRightYpixel=0),this.upperLeftXpixel=e,this.upperLeftYpixel=a,this.lowerRightXpixel=u,this.lowerRightYpixel=d}getUpperLeftXpixel(){return this.upperLeftXpixel}getUpperLeftYpixel(){return this.upperLeftYpixel}getLowerRightXpixel(){return this.lowerRightXpixel}getLowerRightYpixel(){return this.lowerRightYpixel}}m.Rectangle=t,t.__class="com.WacomGSS.STU.Protocol.Rectangle"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t extends o.WacomGSS.STU.Protocol.Rectangle{constructor(e,a,u,d){super(e,a,u,d)}}m.HandwritingDisplayArea=t,t.__class="com.WacomGSS.STU.Protocol.HandwritingDisplayArea"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a){this.penColor===void 0&&(this.penColor=0),this.penThickness===void 0&&(this.penThickness=0),this.penColor=e,this.penThickness=a}getPenColor(){return this.penColor}getPenThickness(){return this.penThickness}}m.HandwritingThicknessColor=t,t.__class="com.WacomGSS.STU.Protocol.HandwritingThicknessColor"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a){this.penColor===void 0&&(this.penColor=0),this.penThickness===void 0&&(this.penThickness=0),this.penColor=e,this.penThickness=a}getPenColor(){return this.penColor}getPenThickness(){return this.penThickness}}m.HandwritingThicknessColor24=t,t.__class="com.WacomGSS.STU.Protocol.HandwritingThicknessColor24"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a,u){this.idVendor===void 0&&(this.idVendor=0),this.idProduct===void 0&&(this.idProduct=0),this.bcdDevice===void 0&&(this.bcdDevice=0),this.idVendor=e,this.idProduct=a,this.bcdDevice=u}getIdVendor(){return this.idVendor}getIdProduct(){return this.idProduct}getBcdDevice(){return this.bcdDevice}}m.HidInformation=t,t.__class="com.WacomGSS.STU.Protocol.HidInformation"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a,u){if(!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)||typeof a!="number"&&a!==null||typeof u!="number"&&u!==null){if(!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)||a!==void 0||u!==void 0)throw new Error("invalid overload");if(this.data===void 0&&(this.data=null),e.length>t.maxLength_$LI$())throw Object.defineProperty(new Error(t.txtError),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.data=e.slice(0)}else{if(this.data===void 0&&(this.data=null),u<0||u>t.maxLength_$LI$()||e.length-a<u)throw Object.defineProperty(new Error(t.txtError),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.data=(d=>{let g=[];for(;d-- >0;)g.push(0);return g})(u),((d,g,P,I,T)=>{if(d!==P||I>=g+T)for(;--T>=0;)P[I++]=d[g++];else{let $=d.slice(g,g+T);for(let G=0;G<T;G++)P[I++]=$[G]}})(e,a,this.data,0,u)}}static maxLength_$LI$(){return t.maxLength==null&&(t.maxLength=t.maxLengthSerial),t.maxLength}getData(){return this.data.slice(0)}}t.txtError="invalid length",t.maxLengthHID=253,t.maxLengthSerial=2557,m.ImageDataBlock=t,t.__class="com.WacomGSS.STU.Protocol.ImageDataBlock"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a,u,d,g){this.modelName===void 0&&(this.modelName=null),this.firmwareMajorVersion===void 0&&(this.firmwareMajorVersion=0),this.firmwareMinorVersion===void 0&&(this.firmwareMinorVersion=0),this.secureIc===void 0&&(this.secureIc=0),this.secureIcVersion===void 0&&(this.secureIcVersion=null),this.modelName=e,this.firmwareMajorVersion=a,this.firmwareMinorVersion=u,this.secureIc=d,this.secureIcVersion=g.slice(0)}getModelName(){return this.modelName}getFirmwareMajorVersion(){return this.firmwareMajorVersion}getFirmwareMinorVersion(){return this.firmwareMinorVersion}getSecureIc(){return this.secureIc}getSecureIcVersion(){return this.secureIcVersion}}m.Information=t,t.__class="com.WacomGSS.STU.Protocol.Information"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){let t;(function(e){e[e.Off=0]="Off",e[e.On=1]="On"})(t=m.InkingMode||(m.InkingMode={}));class c{constructor(a,u,d){this._$ordinal=a,this._$name=u,this.value===void 0&&(this.value=0),this.value=d}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(a){return this._$ordinal-(isNaN(a)?a._$ordinal:a)}}m.InkingMode_$WRAPPER=c,t.__class="com.WacomGSS.STU.Protocol.InkingMode",t.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],t._$wrappers=[new c(0,"Off",0),new c(1,"On",1)]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(){this.inkThreshold===void 0&&(this.inkThreshold=null),this.inkState===void 0&&(this.inkState=null),this.inkThreshold=new o.WacomGSS.STU.Protocol.InkThreshold(o.WacomGSS.STU.Protocol.ProtocolHelper.k_factoryDefaultInkThreshold_$LI$()),this.inkState=o.WacomGSS.STU.Protocol.InkState.InkState_Up}setInkThreshold(e){this.inkThreshold=new o.WacomGSS.STU.Protocol.InkThreshold(e)}getInkThreshold(){return new o.WacomGSS.STU.Protocol.InkThreshold(this.inkThreshold)}setInkState(e){this.inkState=e}clear(){this.inkState=o.WacomGSS.STU.Protocol.InkState.InkState_Up}currentState(){return this.inkState}nextState(e,a){return this.inkState=o.WacomGSS.STU.Protocol.ProtocolHelper.getNextInkState(this.inkState,e,a,this.inkThreshold),this.inkState}}m.InkingState=t,t.__class="com.WacomGSS.STU.Protocol.InkingState"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){let t;(function(e){e[e.InkState_isOff=0]="InkState_isOff",e[e.InkState_isOn=1]="InkState_isOn",e[e.InkState_isInk=2]="InkState_isInk",e[e.InkState_isFirst=3]="InkState_isFirst",e[e.InkState_isLast=4]="InkState_isLast",e[e.InkState_Up=5]="InkState_Up",e[e.InkState_Down=6]="InkState_Down",e[e.InkState_Inking=7]="InkState_Inking",e[e.InkState_First=8]="InkState_First",e[e.InkState_Last=9]="InkState_Last"})(t=m.InkState||(m.InkState={}));class c{constructor(a,u,d){this._$ordinal=a,this._$name=u,this.value===void 0&&(this.value=0),this.value=d}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(a){return this._$ordinal-(isNaN(a)?a._$ordinal:a)}}m.InkState_$WRAPPER=c,t.__class="com.WacomGSS.STU.Protocol.InkState",t.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],t._$wrappers=[new c(0,"InkState_isOff",1),new c(1,"InkState_isOn",2),new c(2,"InkState_isInk",4),new c(3,"InkState_isFirst",8),new c(4,"InkState_isLast",16),new c(5,"InkState_Up",1),new c(6,"InkState_Down",2),new c(7,"InkState_Inking",6),new c(8,"InkState_First",14),new c(9,"InkState_Last",17)]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a){if(typeof e!="number"&&e!==null||typeof a!="number"&&a!==null){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.InkThreshold||e===null)||a!==void 0)throw new Error("invalid overload");{let u=arguments[0];this.onPressureMark===void 0&&(this.onPressureMark=0),this.offPressureMark===void 0&&(this.offPressureMark=0),this.onPressureMark=u.onPressureMark,this.offPressureMark=u.offPressureMark}}else this.onPressureMark===void 0&&(this.onPressureMark=0),this.offPressureMark===void 0&&(this.offPressureMark=0),this.onPressureMark=e,this.offPressureMark=a}getOnPressureMark(){return this.onPressureMark}getOffPressureMark(){return this.offPressureMark}}m.InkThreshold=t,t.__class="com.WacomGSS.STU.Protocol.InkThreshold"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a){this.screenSelect===void 0&&(this.screenSelect=0),this.idAfterSelect===void 0&&(this.idAfterSelect=0),this.screenSelect=e,this.idAfterSelect=a}getScreenSelect(){return this.screenSelect}getIdAfterSelect(){return this.idAfterSelect}}m.OperationMode_KeyPad=t,t.__class="com.WacomGSS.STU.Protocol.OperationMode_KeyPad"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a,u,d,g,P,I){this.screenSelect===void 0&&(this.screenSelect=0),this.pinBypass===void 0&&(this.pinBypass=0),this.minDigit===void 0&&(this.minDigit=0),this.maxDigit===void 0&&(this.maxDigit=0),this.numberHiddenMode===void 0&&(this.numberHiddenMode=0),this.idAfterEnter===void 0&&(this.idAfterEnter=0),this.idAfterCancel===void 0&&(this.idAfterCancel=0),this.screenSelect=e,this.pinBypass=a,this.minDigit=u,this.maxDigit=d,this.numberHiddenMode=g,this.idAfterEnter=P,this.idAfterCancel=I}getScreenSelect(){return this.screenSelect}getPinBypass(){return this.pinBypass}getMinDigit(){return this.minDigit}getMaxDigit(){return this.maxDigit}getNumberHiddenMode(){return this.numberHiddenMode}getIdAfterEnter(){return this.idAfterEnter}getIdAfterCancel(){return this.idAfterCancel}}m.OperationMode_PinPad=t,t.__class="com.WacomGSS.STU.Protocol.OperationMode_PinPad"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a,u,d){if(this.numberOfKeys=3,this.signatureScreen===void 0&&(this.signatureScreen=0),this.keyDefinition===void 0&&(this.keyDefinition=null),this.idAfterEnter===void 0&&(this.idAfterEnter=0),this.idAfterCancel===void 0&&(this.idAfterCancel=0),a==null||a.length!==this.numberOfKeys)throw Object.defineProperty(new Error("invalid keyDefinition"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.signatureScreen=e,this.keyDefinition=(g=>{let P=[];for(;g-- >0;)P.push(0);return P})(this.numberOfKeys),this.idAfterEnter=u,this.idAfterCancel=d,((g,P,I,T,$)=>{if(g!==I||T>=P+$)for(;--$>=0;)I[T++]=g[P++];else{let G=g.slice(P,P+$);for(let O=0;O<$;O++)I[T++]=G[O]}})(a,0,this.keyDefinition,0,this.numberOfKeys)}getSignatureScreen(){return this.signatureScreen}getKeyDefinition(){return this.keyDefinition}getIdAfterEnter(){return this.idAfterEnter}getIdAfterCancel(){return this.idAfterCancel}}m.OperationMode_Signature=t,t.__class="com.WacomGSS.STU.Protocol.OperationMode_Signature"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a,u,d){if(this.maxNumberOfSlides=10,this.workingMode===void 0&&(this.workingMode=0),this.numberOfSlides===void 0&&(this.numberOfSlides=0),this.slideNumber===void 0&&(this.slideNumber=null),this.interval===void 0&&(this.interval=0),u==null||u.length>this.maxNumberOfSlides)throw Object.defineProperty(new Error("invalid slideNumber"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.workingMode=e,this.slideNumber=(g=>{let P=[];for(;g-- >0;)P.push(0);return P})(this.maxNumberOfSlides),this.numberOfSlides=a,this.interval=d,((g,P,I,T,$)=>{if(g!==I||T>=P+$)for(;--$>=0;)I[T++]=g[P++];else{let G=g.slice(P,P+$);for(let O=0;O<$;O++)I[T++]=G[O]}})(u,0,this.slideNumber,0,u.length)}getWorkingMode(){return this.workingMode}getSlideNumber(){return this.slideNumber}getNumberOfSlides(){return this.numberOfSlides}getInterval(){return this.interval}}m.OperationMode_SlideShow=t,t.__class="com.WacomGSS.STU.Protocol.OperationMode_SlideShow"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e){if(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null){if(this.operationModeType===void 0&&(this.operationModeType=0),this.data===void 0&&(this.data=null),e==null||e.length!==t.dataBytes+2||e[0]!==o.WacomGSS.STU.Protocol.ReportId.OperationMode_$LI$())throw Object.defineProperty(new Error("invalid raw"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.operationModeType=e[1],this.data=(a=>{let u=[];for(;a-- >0;)u.push(0);return u})(t.dataBytes),((a,u,d,g,P)=>{if(a!==d||g>=u+P)for(;--P>=0;)d[g++]=a[u++];else{let I=a.slice(u,u+P);for(let T=0;T<P;T++)d[g++]=I[T]}})(e,2,this.data,0,t.dataBytes)}else if(e!=null&&e instanceof o.WacomGSS.STU.Protocol.OperationMode||e===null){let a=arguments[0];{let u=a.operationModeType;this.operationModeType===void 0&&(this.operationModeType=0),this.data===void 0&&(this.data=null),this.operationModeType=u,this.data=(d=>{let g=[];for(;d-- >0;)g.push(0);return g})(t.dataBytes)}this.operationModeType===void 0&&(this.operationModeType=0),this.data===void 0&&(this.data=null),((u,d,g,P,I)=>{if(u!==g||P>=d+I)for(;--I>=0;)g[P++]=u[d++];else{let T=u.slice(d,d+I);for(let $=0;$<I;$++)g[P++]=T[$]}})(a.data,0,this.data,0,a.data.length)}else if(e!=null&&e instanceof o.WacomGSS.STU.Protocol.OperationMode_PinPad||e===null){let a=arguments[0];{let u=o.WacomGSS.STU.Protocol.OperationModeType.PinPad_$LI$();this.operationModeType===void 0&&(this.operationModeType=0),this.data===void 0&&(this.data=null),this.operationModeType=u,this.data=(d=>{let g=[];for(;d-- >0;)g.push(0);return g})(t.dataBytes)}this.operationModeType===void 0&&(this.operationModeType=0),this.data===void 0&&(this.data=null),this.data[0]=a.getScreenSelect(),this.data[1]=a.getPinBypass(),this.data[2]=a.getMinDigit(),this.data[3]=a.getMaxDigit(),this.data[4]=a.getNumberHiddenMode(),this.data[5]=a.getIdAfterEnter(),this.data[6]=a.getIdAfterCancel()}else if(e!=null&&e instanceof o.WacomGSS.STU.Protocol.OperationMode_KeyPad||e===null){let a=arguments[0];{let u=o.WacomGSS.STU.Protocol.OperationModeType.KeyPad_$LI$();this.operationModeType===void 0&&(this.operationModeType=0),this.data===void 0&&(this.data=null),this.operationModeType=u,this.data=(d=>{let g=[];for(;d-- >0;)g.push(0);return g})(t.dataBytes)}this.operationModeType===void 0&&(this.operationModeType=0),this.data===void 0&&(this.data=null),this.data[0]=a.getScreenSelect(),this.data[1]=a.getIdAfterSelect()}else if(e!=null&&e instanceof o.WacomGSS.STU.Protocol.OperationMode_Signature||e===null){let a=arguments[0];{let u=o.WacomGSS.STU.Protocol.OperationModeType.Signature_$LI$();this.operationModeType===void 0&&(this.operationModeType=0),this.data===void 0&&(this.data=null),this.operationModeType=u,this.data=(d=>{let g=[];for(;d-- >0;)g.push(0);return g})(t.dataBytes)}this.operationModeType===void 0&&(this.operationModeType=0),this.data===void 0&&(this.data=null),this.data[0]=a.getSignatureScreen(),this.data[1]=a.getKeyDefinition()[0],this.data[2]=a.getKeyDefinition()[1],this.data[3]=a.getKeyDefinition()[2],this.data[4]=a.getIdAfterEnter(),this.data[5]=a.getIdAfterCancel()}else if(e!=null&&e instanceof o.WacomGSS.STU.Protocol.OperationMode_SlideShow||e===null){let a=arguments[0];{let u=o.WacomGSS.STU.Protocol.OperationModeType.SlideShow_$LI$();this.operationModeType===void 0&&(this.operationModeType=0),this.data===void 0&&(this.data=null),this.operationModeType=u,this.data=(d=>{let g=[];for(;d-- >0;)g.push(0);return g})(t.dataBytes)}this.operationModeType===void 0&&(this.operationModeType=0),this.data===void 0&&(this.data=null),(()=>{const u=a.getSlideNumber();this.data[0]=a.getWorkingMode(),this.data[1]=a.getNumberOfSlides(),this.data[2]=(15&u[0])<<4|15&u[1]|0,this.data[3]=(15&u[2])<<4|15&u[3]|0,this.data[4]=(15&u[4])<<4|15&u[5]|0,this.data[5]=(15&u[6])<<4|15&u[7]|0,this.data[6]=(15&u[8])<<4|15&u[9]|0,this.data[7]=a.getInterval()>>24&255|0,this.data[8]=a.getInterval()>>16&255|0,this.data[9]=a.getInterval()>>8&255|0,this.data[10]=255&a.getInterval()|0})()}else{if(typeof e!="number"&&e!==null)throw new Error("invalid overload");{let a=arguments[0];this.operationModeType===void 0&&(this.operationModeType=0),this.data===void 0&&(this.data=null),this.operationModeType=a,this.data=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(t.dataBytes)}}}getOperationModeType(){return this.operationModeType}getData(){return this.data}static initializeNormal(){return new t(o.WacomGSS.STU.Protocol.OperationModeType.Normal_$LI$())}static initializePinPad(e){return new t(e)}static initializeKeyPad(e){return new t(e)}static initializeSignature(e){return new t(e)}static initializeSlideShow(e){return new t(e)}}t.dataBytes=11,m.OperationMode=t,t.__class="com.WacomGSS.STU.Protocol.OperationMode"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{static Normal_$LI$(){return t.Normal==null&&(t.Normal=0),t.Normal}static PinPad_$LI$(){return t.PinPad==null&&(t.PinPad=1),t.PinPad}static SlideShow_$LI$(){return t.SlideShow==null&&(t.SlideShow=2),t.SlideShow}static KeyPad_$LI$(){return t.KeyPad==null&&(t.KeyPad=3),t.KeyPad}static Signature_$LI$(){return t.Signature==null&&(t.Signature=4),t.Signature}static MessageBox_$LI$(){return t.MessageBox==null&&(t.MessageBox=5),t.MessageBox}}m.OperationModeType=t,t.__class="com.WacomGSS.STU.Protocol.OperationModeType"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a,u,d,g){if(typeof e!="number"&&e!==null||typeof a!="number"&&a!==null||typeof u!="number"&&u!==null||typeof d!="number"&&d!==null||typeof g!="number"&&g!==null){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.PenData||e===null)||a!==void 0||u!==void 0||d!==void 0||g!==void 0)throw new Error("invalid overload");{let P=arguments[0];{let I=P.getRdy(),T=P.getSw(),$=P.getPressure(),G=P.getX(),O=P.getY();this.rdy===void 0&&(this.rdy=0),this.sw===void 0&&(this.sw=0),this.pressure===void 0&&(this.pressure=0),this.x===void 0&&(this.x=0),this.y===void 0&&(this.y=0),this.rdy=I,this.sw=T,this.pressure=$,this.x=G,this.y=O}this.rdy===void 0&&(this.rdy=0),this.sw===void 0&&(this.sw=0),this.pressure===void 0&&(this.pressure=0),this.x===void 0&&(this.x=0),this.y===void 0&&(this.y=0)}}else this.rdy===void 0&&(this.rdy=0),this.sw===void 0&&(this.sw=0),this.pressure===void 0&&(this.pressure=0),this.x===void 0&&(this.x=0),this.y===void 0&&(this.y=0),this.rdy=e,this.sw=a,this.pressure=u,this.x=d,this.y=g}static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.PenData_$LI$()),t.reportId}getRdy(){return this.rdy}getSw(){return this.sw}getPressure(){return this.pressure}getX(){return this.x}getY(){return this.y}}t.reportSize=6,m.PenData=t,t.__class="com.WacomGSS.STU.Protocol.PenData"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a,u){if((typeof e=="number"||e===null)&&(a!=null&&a instanceof o.WacomGSS.STU.Protocol.PenData||a===null)&&(u!=null&&u instanceof o.WacomGSS.STU.Protocol.PenData||u===null))this.sessionId===void 0&&(this.sessionId=0),this.penData1===void 0&&(this.penData1=null),this.penData2===void 0&&(this.penData2=null),this.sessionId=e,this.penData1=a,this.penData2=u;else{if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.PenDataEncrypted||e===null)||a!==void 0||u!==void 0)throw new Error("invalid overload");{let d=arguments[0];{let g=d.getSessionId(),P=d.getPenData1(),I=d.getPenData2();this.sessionId===void 0&&(this.sessionId=0),this.penData1===void 0&&(this.penData1=null),this.penData2===void 0&&(this.penData2=null),this.sessionId=g,this.penData1=P,this.penData2=I}this.sessionId===void 0&&(this.sessionId=0),this.penData1===void 0&&(this.penData1=null),this.penData2===void 0&&(this.penData2=null)}}}static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.PenDataEncrypted_$LI$()),t.reportId}getSessionId(){return this.sessionId}getPenData1(){return this.penData1}getPenData2(){return this.penData2}}t.reportSize=16,t.encryptedSize=16,m.PenDataEncrypted=t,t.__class="com.WacomGSS.STU.Protocol.PenDataEncrypted"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t extends o.WacomGSS.STU.Protocol.PenDataEncrypted{constructor(e,a,u){super(e),this.option1===void 0&&(this.option1=0),this.option2===void 0&&(this.option2=0),this.option1=a,this.option2=u}static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.PenDataEncryptedOption_$LI$()),t.reportId}getOption1(){return this.option1}getOption2(){return this.option2}getPenDataOption1(){return new o.WacomGSS.STU.Protocol.PenDataOption(this.getPenData1(),this.getOption1())}getPenDataOption2(){return new o.WacomGSS.STU.Protocol.PenDataOption(this.getPenData2(),this.getOption2())}}t.reportSize=20,m.PenDataEncryptedOption=t,t.__class="com.WacomGSS.STU.Protocol.PenDataEncryptedOption"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t extends o.WacomGSS.STU.Protocol.PenData{constructor(e,a){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.PenData||e===null)||typeof a!="number"&&a!==null){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.PenDataOption||e===null)||a!==void 0)throw new Error("invalid overload");{let u=arguments[0];super(u),this.option===void 0&&(this.option=0),this.option=u.getOption()}}else super(e),this.option===void 0&&(this.option=0),this.option=a}static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.PenDataOption_$LI$()),t.reportId}getOption(){return this.option}}t.reportSize=8,m.PenDataOption=t,t.__class="com.WacomGSS.STU.Protocol.PenDataOption"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){let t;(function(e){e[e.None=0]="None",e[e.TimeCount=1]="TimeCount",e[e.SequenceNumber=2]="SequenceNumber",e[e.TimeCountSequence=3]="TimeCountSequence"})(t=m.PenDataOptionMode||(m.PenDataOptionMode={}));class c{constructor(a,u,d){this._$ordinal=a,this._$name=u,this.value===void 0&&(this.value=0),this.value=d}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(a){return this._$ordinal-(isNaN(a)?a._$ordinal:a)}}m.PenDataOptionMode_$WRAPPER=c,t.__class="com.WacomGSS.STU.Protocol.PenDataOptionMode",t.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],t._$wrappers=[new c(0,"None",0),new c(1,"TimeCount",1),new c(2,"SequenceNumber",2),new c(3,"TimeCountSequence",3)]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t extends o.WacomGSS.STU.Protocol.PenData{constructor(e,a,u){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.PenData||e===null)||typeof a!="number"&&a!==null||typeof u!="number"&&u!==null){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.PenDataTimeCountSequence||e===null)||a!==void 0||u!==void 0)throw new Error("invalid overload");super(e),this.timeCount===void 0&&(this.timeCount=0),this.sequence===void 0&&(this.sequence=0),this.timeCount=e.getTimeCount(),this.sequence=e.getSequence()}else super(e),this.timeCount===void 0&&(this.timeCount=0),this.sequence===void 0&&(this.sequence=0),this.timeCount=a,this.sequence=u}static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.PenDataTimeCountSequence_$LI$()),t.reportId}getTimeCount(){return this.timeCount}getSequence(){return this.sequence}}t.reportSize=10,m.PenDataTimeCountSequence=t,t.__class="com.WacomGSS.STU.Protocol.PenDataTimeCountSequence"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t extends o.WacomGSS.STU.Protocol.PenDataTimeCountSequence{constructor(e,a){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.PenDataTimeCountSequence||e===null)||typeof a!="number"&&a!==null){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.PenDataTimeCountSequenceEncrypted||e===null)||a!==void 0)throw new Error("invalid overload");super(e),this.sessionId===void 0&&(this.sessionId=0),this.sessionId=e.getSessionId()}else super(e),this.sessionId===void 0&&(this.sessionId=0),this.sessionId=a}static reportId_$LI$(){return t.reportId==null&&(t.reportId=o.WacomGSS.STU.Protocol.ReportId.PenDataTimeCountSequenceEncrypted_$LI$()),t.reportId}getSessionId(){return this.sessionId}}t.reportSize=16,t.encryptedSize=16,m.PenDataTimeCountSequenceEncrypted=t,t.__class="com.WacomGSS.STU.Protocol.PenDataTimeCountSequenceEncrypted"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e){this.intf===void 0&&(this.intf=null),this.intf=e}static B0(e){return 255&e|0}static B1(e){return e>>8&255|0}static B2(e){return e>>16&255|0}static B3(e){return e>>24&255|0}static I$byte(e){return 255&e}static I$byte$byte(e,a){return t.I$byte(e)<<8|t.I$byte(a)}static I$byte$byte$byte$byte(e,a,u,d){return t.I$byte(e)<<24|t.I$byte(a)<<16|t.I$byte(u)<<8|t.I$byte(d)}static I(e,a,u,d){if(typeof e!="number"&&e!==null||typeof a!="number"&&a!==null||typeof u!="number"&&u!==null||typeof d!="number"&&d!==null){if(typeof e!="number"&&e!==null||typeof a!="number"&&a!==null||u!==void 0||d!==void 0){if(typeof e!="number"&&e!==null||a!==void 0||u!==void 0||d!==void 0)throw new Error("invalid overload");return o.WacomGSS.STU.Protocol.Protocol.I$byte(e)}return o.WacomGSS.STU.Protocol.Protocol.I$byte$byte(e,a)}return o.WacomGSS.STU.Protocol.Protocol.I$byte$byte$byte$byte(e,a,u,d)}static S(e,a){return 65535&t.I$byte$byte(e,a)|0}getInterface(){return this.intf}setInterface(e){this.intf=e}async getStatus(){let e=[o.WacomGSS.STU.Protocol.ReportId.Status_$LI$(),0,0,0,0],a=await this.intf.get(e);return new o.WacomGSS.STU.Protocol.Status(a[1],a[2],t.S(a[3],a[4]))}async setReset(e){const a=[o.WacomGSS.STU.Protocol.ReportId.Reset_$LI$(),o.WacomGSS.STU.Protocol.ResetFlag._$wrappers[e].getValue()];await this.intf.set(a)}async getHidInformation(){let e=[o.WacomGSS.STU.Protocol.ReportId.HidInformation_$LI$(),0,0,0,0,0,0,0,0];return e=await this.intf.get(e),new o.WacomGSS.STU.Protocol.HidInformation(t.S(e[1],e[2]),t.S(e[3],e[4]),t.S(e[5],e[6]))}async getDefaultMode(){let e=[o.WacomGSS.STU.Protocol.ReportId.DefaultMode_$LI$(),0,0];return e=await this.intf.get(e),e[1]}async setDefaultMode(e){const a=[o.WacomGSS.STU.Protocol.ReportId.DefaultMode_$LI$(),o.WacomGSS.STU.Protocol.DefaultMode._$wrappers[e].getValue(),0];await this.intf.set(a)}async getInformation(){let e=[o.WacomGSS.STU.Protocol.ReportId.Information_$LI$(),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];e=await this.intf.get(e);const a={str:"",toString:function(){return this.str}};for(let d=0;d<9&&e[1+d]!==0;++d)(u=a).str=u.str.concat(String.fromCharCode(t.I$byte(e[1+d])));var u;return new o.WacomGSS.STU.Protocol.Information(a.str,t.I$byte(e[10]),t.I$byte(e[11]),e[12],[t.I$byte(e[13]),t.I$byte(e[14]),t.I$byte(e[15]),t.I$byte(e[16])])}async getCapability(){let e=[o.WacomGSS.STU.Protocol.ReportId.Capability_$LI$(),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return e=await this.intf.get(e),e.length>11?new o.WacomGSS.STU.Protocol.Capability(t.I$byte$byte(e[1],e[2]),t.I$byte$byte(e[3],e[4]),t.I$byte$byte(e[5],e[6]),t.I$byte$byte(e[7],e[8]),t.I$byte$byte(e[9],e[10]),t.I$byte(e[11]),t.I$byte$byte(e[12],e[13]),e[14]):new o.WacomGSS.STU.Protocol.Capability(t.I$byte$byte(e[1],e[2]),t.I$byte$byte(e[3],e[4]),t.I$byte$byte(e[5],e[6]),t.I$byte$byte(e[7],e[8]),t.I$byte$byte(e[9],e[10]),0,0,0)}async getUid(){let e=[o.WacomGSS.STU.Protocol.ReportId.Uid_$LI$(),0,0,0,0];return e=await this.intf.get(e),t.I$byte$byte$byte$byte(e[1],e[2],e[3],e[4])}async setUid(e){const a=[o.WacomGSS.STU.Protocol.ReportId.Uid_$LI$(),t.B3(e),t.B2(e),t.B1(e),t.B0(e)];await this.intf.set(a)}async getUid2(){let e=[o.WacomGSS.STU.Protocol.ReportId.Uid2_$LI$(),0,0,0,0,0,0,0,0,0,0];e=await this.intf.get(e);const a={str:"",toString:function(){return this.str}};for(let d=0;d<10&&e[1+d]!==0;++d)(u=a).str=u.str.concat(String.fromCharCode(t.I$byte(e[1+d])));var u;return a.str}async getEserial(){let e=(d=>{let g=[];for(;d-- >0;)g.push(0);return g})(14);e[0]=o.WacomGSS.STU.Protocol.ReportId.Eserial_$LI$(),e=await this.intf.get(e);const a={str:"",toString:function(){return this.str}};for(let d=0;d<13&&e[1+d]!==0;++d)(u=a).str=u.str.concat(String.fromCharCode(t.I$byte(e[1+d])));var u;return a.str}async getHostPublicKey(){let e=[o.WacomGSS.STU.Protocol.ReportId.HostPublicKey_$LI$(),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return e=await this.intf.get(e),new o.WacomGSS.STU.Protocol.PublicKey(e,1)}async setHostPublicKey(e){const a=e.getValue(),u=[o.WacomGSS.STU.Protocol.ReportId.HostPublicKey_$LI$(),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]];await this.intf.set(u)}async getDevicePublicKey(){let e=[o.WacomGSS.STU.Protocol.ReportId.DevicePublicKey_$LI$(),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return e=await this.intf.get(e),new o.WacomGSS.STU.Protocol.DevicePublicKey(e,1)}async setStartCapture(e){const a=[o.WacomGSS.STU.Protocol.ReportId.StartCapture_$LI$(),t.B3(e),t.B2(e),t.B1(e),t.B0(e)];await this.intf.set(a)}async setEndCapture(){const e=[o.WacomGSS.STU.Protocol.ReportId.EndCapture_$LI$(),0];await this.intf.set(e)}async getDHprime(){const e=[o.WacomGSS.STU.Protocol.ReportId.DHprime_$LI$(),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let a=await this.intf.get(e);return new o.WacomGSS.STU.Protocol.DHprime(a,1)}async setDHprime(e){const a=e.getValue(),u=[o.WacomGSS.STU.Protocol.ReportId.DHprime_$LI$(),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]];await this.intf.set(u)}async getDHbase(){let e=[o.WacomGSS.STU.Protocol.ReportId.DHbase_$LI$(),0,0];return e=await this.intf.get(e),new o.WacomGSS.STU.Protocol.DHbase(e,1)}async setDHbase(e){const a=e.getValue(),u=[o.WacomGSS.STU.Protocol.ReportId.DHbase_$LI$(),a[0],a[1]];await this.intf.set(u)}async setClearScreen(){const e=[o.WacomGSS.STU.Protocol.ReportId.ClearScreen_$LI$(),0];await this.intf.set(e)}async setClearScreenArea(e){const a=[o.WacomGSS.STU.Protocol.ReportId.ClearScreenArea_$LI$(),0,1,t.B0(e.getUpperLeftXpixel()),t.B1(e.getUpperLeftXpixel()),t.B0(e.getUpperLeftYpixel()),t.B1(e.getUpperLeftYpixel()),t.B0(e.getLowerRightXpixel()),t.B1(e.getLowerRightXpixel()),t.B0(e.getLowerRightYpixel()),t.B1(e.getLowerRightYpixel())];await this.intf.set(a)}async getInkingMode(){let e=[o.WacomGSS.STU.Protocol.ReportId.InkingMode_$LI$(),0];return e=await this.intf.get(e),e[1]}async setInkingMode(e){const a=[o.WacomGSS.STU.Protocol.ReportId.InkingMode_$LI$(),o.WacomGSS.STU.Protocol.InkingMode._$wrappers[e].getValue()];await this.intf.set(a)}async getInkThreshold(){let e=[o.WacomGSS.STU.Protocol.ReportId.InkThreshold_$LI$(),0,0,0,0];return e=await this.intf.get(e),new o.WacomGSS.STU.Protocol.InkThreshold(t.I$byte$byte(e[2],e[1]),t.I$byte$byte(e[4],e[3]))}async setInkThreshold(e){const a=[o.WacomGSS.STU.Protocol.ReportId.InkThreshold_$LI$(),t.B0(e.getOnPressureMark()),t.B1(e.getOnPressureMark()),t.B0(e.getOffPressureMark()),t.B1(e.getOffPressureMark())];await this.intf.set(a)}async setStartImageData$com_WacomGSS_STU_Protocol_EncodingMode(e){const a=[o.WacomGSS.STU.Protocol.ReportId.StartImageData_$LI$(),o.WacomGSS.STU.Protocol.EncodingMode._$wrappers[e].getValue()];await this.intf.set(a)}async setStartImageData(e){if(typeof e=="number"||e===null)return await this.setStartImageData$com_WacomGSS_STU_Protocol_EncodingMode(e);if(typeof e=="number"||e===null)return await this.setStartImageData$int(e);throw new Error("invalid overload")}async setStartImageData$int(e){const a=[o.WacomGSS.STU.Protocol.ReportId.StartImageData_$LI$(),t.B0(e)];await this.intf.set(a)}async setStartImageDataArea(e,a){const u=[o.WacomGSS.STU.Protocol.ReportId.StartImageDataArea_$LI$(),o.WacomGSS.STU.Protocol.EncodingMode._$wrappers[e].getValue(),1,t.B0(a.getUpperLeftXpixel()),t.B1(a.getUpperLeftXpixel()),t.B0(a.getUpperLeftYpixel()),t.B1(a.getUpperLeftYpixel()),t.B0(a.getLowerRightXpixel()),t.B1(a.getLowerRightXpixel()),t.B0(a.getLowerRightYpixel()),t.B1(a.getLowerRightYpixel())];await this.intf.set(u)}async setImageDataBlock(e){const a=(d=>{let g=[];for(;d-- >0;)g.push(0);return g})(e.getData().length>o.WacomGSS.STU.Protocol.ImageDataBlock.maxLengthHID?2560:256),u=e.getData();a[0]=o.WacomGSS.STU.Protocol.ReportId.ImageDataBlock_$LI$(),a[1]=t.B0(u.length),a[2]=t.B1(u.length);for(let d=0;d<u.length;d++)a[d+3]=u[d];await this.intf.set(a)}async setEndImageData$com_WacomGSS_STU_Protocol_EndImageDataFlag(e){const a=[o.WacomGSS.STU.Protocol.ReportId.EndImageData_$LI$(),o.WacomGSS.STU.Protocol.EndImageDataFlag._$wrappers[e].getValue()];await this.intf.set(a)}async setEndImageData(e){if(typeof e=="number"||e===null)return await this.setEndImageData$com_WacomGSS_STU_Protocol_EndImageDataFlag(e);if(e===void 0)return await this.setEndImageData$();throw new Error("invalid overload")}async setEndImageData$(){await this.setEndImageData$com_WacomGSS_STU_Protocol_EndImageDataFlag(o.WacomGSS.STU.Protocol.EndImageDataFlag.Commit)}async getHandwritingThicknessColor(){let e=[o.WacomGSS.STU.Protocol.ReportId.HandwritingThicknessColor_$LI$(),0,0,0];return e=await this.intf.get(e),new o.WacomGSS.STU.Protocol.HandwritingThicknessColor(t.I$byte$byte(e[2],e[1]),t.I$byte(e[3]))}async setHandwritingThicknessColor(e){const a=[o.WacomGSS.STU.Protocol.ReportId.HandwritingThicknessColor_$LI$(),t.B0(e.getPenColor()),t.B1(e.getPenColor()),t.B0(e.getPenThickness())];await this.intf.set(a)}async getHandwritingThicknessColor24(){let e=[o.WacomGSS.STU.Protocol.ReportId.HandwritingThicknessColor24_$LI$(),0,0,0,0];return e=await this.intf.get(e),new o.WacomGSS.STU.Protocol.HandwritingThicknessColor24(t.I$byte$byte$byte$byte(0,e[3],e[2],e[1]),t.I$byte(e[4]))}async setHandwritingThicknessColor24(e){const a=[o.WacomGSS.STU.Protocol.ReportId.HandwritingThicknessColor24_$LI$(),t.B0(e.getPenColor()),t.B1(e.getPenColor()),t.B2(e.getPenColor()),t.B0(e.getPenThickness())];await this.intf.set(a)}async getBackgroundColor(){let e=[o.WacomGSS.STU.Protocol.ReportId.BackgroundColor_$LI$(),0,0];return e=await this.intf.get(e),t.I$byte$byte(e[2],e[1])}async setBackgroundColor(e){const a=[o.WacomGSS.STU.Protocol.ReportId.BackgroundColor_$LI$(),t.B0(e),t.B1(e)];await this.intf.set(a)}async getBackgroundColor24(){let e=[o.WacomGSS.STU.Protocol.ReportId.BackgroundColor24_$LI$(),0,0,0];return e=await this.intf.get(e),t.I$byte$byte$byte$byte(0,e[3],e[2],e[1])}async setBackgroundColor24(e){const a=[o.WacomGSS.STU.Protocol.ReportId.BackgroundColor24_$LI$(),t.B0(e),t.B1(e),t.B2(e)];await this.intf.set(a)}async getScreenContrast(){let e=[o.WacomGSS.STU.Protocol.ReportId.ScreenContrast_$LI$(),0,0];return e=await this.intf.get(e),t.I$byte$byte(e[2],e[1])}async setScreenContrast(e){const a=[o.WacomGSS.STU.Protocol.ReportId.ScreenContrast_$LI$(),t.B0(e),t.B1(e)];await this.intf.set(a)}async getHandwritingDisplayArea(){let e=[o.WacomGSS.STU.Protocol.ReportId.HandwritingDisplayArea_$LI$(),0,0,0,0,0,0,0,0];return e=await this.intf.get(e),new o.WacomGSS.STU.Protocol.Rectangle(t.I$byte$byte(e[2],e[1]),t.I$byte$byte(e[4],e[3]),t.I$byte$byte(e[6],e[5]),t.I$byte$byte(e[8],e[7]))}async setHandwritingDisplayArea(e){const a=[o.WacomGSS.STU.Protocol.ReportId.HandwritingDisplayArea_$LI$(),t.B0(e.getUpperLeftXpixel()),t.B1(e.getUpperLeftXpixel()),t.B0(e.getUpperLeftYpixel()),t.B1(e.getUpperLeftYpixel()),t.B0(e.getLowerRightXpixel()),t.B1(e.getLowerRightXpixel()),t.B0(e.getLowerRightYpixel()),t.B1(e.getLowerRightYpixel())];await this.intf.set(a)}async getBacklightBrightness(){let e=[o.WacomGSS.STU.Protocol.ReportId.BacklightBrightness_$LI$(),0,0];return e=await this.intf.get(e),t.I$byte$byte(e[2],e[1])}async setBacklightBrightness(e){const a=[o.WacomGSS.STU.Protocol.ReportId.BacklightBrightness_$LI$(),t.B0(e),t.B1(e)];await this.intf.set(a)}async getPenDataOptionMode(){let e=[o.WacomGSS.STU.Protocol.ReportId.PenDataOptionMode_$LI$(),0];return e=await this.intf.get(e),e[1]}async setPenDataOptionMode(e){const a=[o.WacomGSS.STU.Protocol.ReportId.PenDataOptionMode_$LI$(),o.WacomGSS.STU.Protocol.PenDataOptionMode._$wrappers[e].getValue()];await this.intf.set(a)}async getEncryptionStatus(){let e=[o.WacomGSS.STU.Protocol.ReportId.EncryptionStatus_$LI$(),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return e=await this.intf.get(e),new o.WacomGSS.STU.Protocol.EncryptionStatus(e[1],e[2]>>6&3|0,63&e[2]|0,e[4],e[5],e[6],e[7],(4&e[8])!=0,(2&e[8])!=0,(1&e[8])!=0)}async getEncryptionCommand(e){let a=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(68);return a[0]=o.WacomGSS.STU.Protocol.ReportId.EncryptionCommand_$LI$(),a[1]=o.WacomGSS.STU.Protocol.EncryptionCommandNumber._$wrappers[e].getValue(),a=await this.intf.get(a),new o.WacomGSS.STU.Protocol.EncryptionCommand(e,a[2],a[3],a,4,o.WacomGSS.STU.Protocol.EncryptionCommand.maxDataLength)}async setEncryptionCommand(e){const a=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(68);a[0]=o.WacomGSS.STU.Protocol.ReportId.EncryptionCommand_$LI$(),a[1]=e.getEncryptionCommandNumber(),a[2]=e.getParameter(),a[3]=e.getLengthOrIndex(),((u,d,g,P,I)=>{if(u!==g||P>=d+I)for(;--I>=0;)g[P++]=u[d++];else{let T=u.slice(d,d+I);for(let $=0;$<I;$++)g[P++]=T[$]}})(e.getData(),0,a,4,o.WacomGSS.STU.Protocol.EncryptionCommand.maxDataLength),await this.intf.set(a)}static initializeSetEncryptionType(e,a,u){const d=(3&o.WacomGSS.STU.Protocol.AsymmetricPaddingType._$wrappers[a].getValue())<<6|3&o.WacomGSS.STU.Protocol.AsymmetricKeyType._$wrappers[u].getValue()|0;return new o.WacomGSS.STU.Protocol.EncryptionCommand(o.WacomGSS.STU.Protocol.EncryptionCommandNumber.SetEncryptionType,o.WacomGSS.STU.Protocol.SymmetricKeyType._$wrappers[e].getValue(),d,null)}static initializeSetParameterBlock(e,a){return new o.WacomGSS.STU.Protocol.EncryptionCommand(o.WacomGSS.STU.Protocol.EncryptionCommandNumber.SetParameterBlock,o.WacomGSS.STU.Protocol.EncryptionCommandParameterBlockIndex._$wrappers[e].getValue(),255&a.length|0,a)}static initializeGenerateSymmetricKey(){return new o.WacomGSS.STU.Protocol.EncryptionCommand(o.WacomGSS.STU.Protocol.EncryptionCommandNumber.GenerateSymmetricKey,0,0,null)}static initializeGetParameterBlock(e,a){if(a<0||a>255)throw Object.defineProperty(new Error("offset out of range"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});return new o.WacomGSS.STU.Protocol.EncryptionCommand(o.WacomGSS.STU.Protocol.EncryptionCommandNumber.GetParameterBlock,o.WacomGSS.STU.Protocol.EncryptionCommandParameterBlockIndex._$wrappers[e].getValue(),255&a|0,null)}static decodePenData(e,a){return new o.WacomGSS.STU.Protocol.PenData(e[a+0]>>7&1,e[a+0]>>4&7,(15&e[a+0])<<8|t.I$byte(e[a+1]),t.I$byte$byte(e[a+2],e[a+3]),t.I$byte$byte(e[a+4],e[a+5]))}static decodePenDataOption(e,a){return new o.WacomGSS.STU.Protocol.PenDataOption(t.decodePenData(e,a),t.I$byte$byte(e[a+6],e[a+7]))}static decodeDevicePublicKey(e,a){return new o.WacomGSS.STU.Protocol.DevicePublicKey(e,a)}static decodePenDataEncrypted(e,a){const u=t.I$byte$byte$byte$byte(e[a+0],e[a+1],e[a+2],e[a+3]),d=t.decodePenData(e,a+4),g=t.decodePenData(e,a+10);return new o.WacomGSS.STU.Protocol.PenDataEncrypted(u,d,g)}static decodePenDataEncryptedOption(e,a){const u=t.I$byte$byte(e[a+16],e[a+17]),d=t.I$byte$byte(e[a+18],e[a+19]);return new o.WacomGSS.STU.Protocol.PenDataEncryptedOption(t.decodePenDataEncrypted(e,a),u,d)}static decodePenDataTimeCountSequence(e,a){return new o.WacomGSS.STU.Protocol.PenDataTimeCountSequence(t.decodePenData(e,a),t.I$byte$byte(e[a+6],e[a+7]),t.I$byte$byte(e[a+8],e[a+9]))}static decodePenDataTimeCountSequenceEncrypted(e,a){return new o.WacomGSS.STU.Protocol.PenDataTimeCountSequenceEncrypted(t.decodePenDataTimeCountSequence(e,a),t.I$byte$byte$byte$byte(e[a+12],e[a+13],e[a+14],e[a+15]))}static decodeEncryptionStatus(e,a){return new o.WacomGSS.STU.Protocol.EncryptionStatus(e[a+0],e[a+1]>>6&3|0,63&e[a+1]|0,e[a+3],e[a+4],e[a+5],e[a+6],(4&e[a+7])!=0,(2&e[a+7])!=0,(1&e[a+7])!=0)}static decodeEventDataPinPad(e,a){return new o.WacomGSS.STU.Protocol.EventDataPinPad(e,a)}static decodeEventDataKeyPad(e,a){return new o.WacomGSS.STU.Protocol.EventDataKeyPad(e,a)}static decodeEventDataSignature(e,a){return new o.WacomGSS.STU.Protocol.EventDataSignature(e,a)}static decodeEventDataPinPadEncrypted(e,a){const u=t.I$byte$byte$byte$byte(e[a+1],e[a+2],e[a+3],e[a+4]);return new o.WacomGSS.STU.Protocol.EventDataPinPadEncrypted(t.decodeEventDataPinPad(e,a+7),u)}static decodeEventDataKeyPadEncrypted(e,a){const u=t.I$byte$byte$byte$byte(e[a+1],e[a+2],e[a+3],e[a+4]);return new o.WacomGSS.STU.Protocol.EventDataKeyPadEncrypted(t.decodeEventDataKeyPad(e,a+7),u)}static decodeEventDataSignatureEncrypted(e,a){const u=t.I$byte$byte$byte$byte(e[a+1],e[a+2],e[a+3],e[a+4]);return new o.WacomGSS.STU.Protocol.EventDataSignatureEncrypted(t.decodeEventDataSignature(e,a+4),u)}async getReportSizeCollection(){let e=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(512);e[0]=o.WacomGSS.STU.Protocol.ReportId.ReportSizeCollection_$LI$(),e=await this.intf.get(e);const a=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(256);a[0]=0;for(let u=1;u<=255;++u)a[u]=t.I$byte$byte(e[0+2*u],e[1+2*u]);return a}async getReportRate(){let e=[o.WacomGSS.STU.Protocol.ReportId.ReportRate_$LI$(),0];return e=await this.intf.get(e),t.I$byte(e[1])}async setReportRate(e){const a=[o.WacomGSS.STU.Protocol.ReportId.DefaultMode_$LI$(),t.B0(e)];await this.intf.set(a)}async getRenderingMode(){return o.WacomGSS.STU.Protocol.ReportId.RenderingMode_$LI$(),cmd=await this.intf.get(cmd),cmd[1]}async setRenderingMode(e){const a=[o.WacomGSS.STU.Protocol.ReportId.RenderingMode_$LI$(),o.WacomGSS.STU.Protocol.RenderingMode._$wrappers[e].getValue()];await this.intf.set(a)}async getBootScreen(){let e=[o.WacomGSS.STU.Protocol.ReportId.BootScreen_$LI$(),0];return e=await this.intf.get(e),e[1]}async setBootScreen(e){const a=[o.WacomGSS.STU.Protocol.ReportId.BootScreen_$LI$(),o.WacomGSS.STU.Protocol.BootScreenFlag._$wrappers[e].getValue()];await this.intf.set(a)}async getOperationMode(){let e=(a=>{let u=[];for(;a-- >0;)u.push(0);return u})(o.WacomGSS.STU.Protocol.OperationMode.dataBytes+2);return e[0]=o.WacomGSS.STU.Protocol.ReportId.OperationMode_$LI$(),e=await this.intf.get(e),new o.WacomGSS.STU.Protocol.OperationMode(e)}async setOperationMode(e){const a=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(o.WacomGSS.STU.Protocol.OperationMode.dataBytes+2);a[0]=o.WacomGSS.STU.Protocol.ReportId.OperationMode_$LI$(),a[1]=e.getOperationModeType(),((u,d,g,P,I)=>{if(u!==g||P>=d+I)for(;--I>=0;)g[P++]=u[d++];else{let T=u.slice(d,d+I);for(let $=0;$<I;$++)g[P++]=T[$]}})(e.getData(),0,a,2,o.WacomGSS.STU.Protocol.OperationMode.dataBytes),await this.intf.set(a)}async setRomStartImageData(e){const a=[0,0,0,0,0,0,0];a[0]=o.WacomGSS.STU.Protocol.ReportId.RomStartImageData_$LI$(),a[1]=o.WacomGSS.STU.Protocol.EncodingMode._$wrappers[e.getEncodingMode()].getValue(),a[2]=e.getOperationModeType(),a[3]=(e.getImageType()?128:0)|127&e.getImageNumber()|0,((u,d,g,P,I)=>{if(u!==g||P>=d+I)for(;--I>=0;)g[P++]=u[d++];else{let T=u.slice(d,d+I);for(let $=0;$<I;$++)g[P++]=T[$]}})(e.getData(),0,a,4,o.WacomGSS.STU.Protocol.RomStartImageData.dataBytes),await this.intf.set(a)}async getRomImageHash(){let e=(P=>{let I=[];for(;P-- >0;)I.push(0);return I})(o.WacomGSS.STU.Protocol.RomImageHash.myLength_$LI$());e[0]=o.WacomGSS.STU.Protocol.ReportId.RomImageHash_$LI$(),e=await this.intf.get(e);const a=e[1],u=(128&e[2])!=0,d=127&e[2]|0,g=e[3];return new o.WacomGSS.STU.Protocol.RomImageHash(a,u,d,g,e,4)}async setRomImageHash(e,a,u){const d=(g=>{let P=[];for(;g-- >0;)P.push(0);return P})(o.WacomGSS.STU.Protocol.RomImageHash.myLength_$LI$());d[0]=o.WacomGSS.STU.Protocol.ReportId.RomImageHash_$LI$(),d[1]=e,d[2]=(a?128:0)|127&u|0,await this.intf.set(d)}async setRomImageDelete(e,a,u){const d=[o.WacomGSS.STU.Protocol.ReportId.RomImageDelete_$LI$(),e,(a?128:0)|127&u|0];await this.intf.set(d)}async getCurrentImageArea(){const e=[0,0,0,0,0,0,0,0,0];return e[0]=o.WacomGSS.STU.Protocol.ReportId.CurrentImageArea_$LI$(),await this.intf.get(e),new o.WacomGSS.STU.Protocol.Rectangle(e[1]|e[2]<<8,e[3]|e[4]<<8,e[5]|e[6]<<8,e[7]|e[8]<<8)}async setRomImageDisplay(e,a,u){const d=[o.WacomGSS.STU.Protocol.ReportId.RomImageDisplay_$LI$(),e,(a?128:0)|127&u|0];await this.intf.set(d)}}m.Protocol=t,t.__class="com.WacomGSS.STU.Protocol.Protocol"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{static I(e){return 255&e}static B0(e){return 255&e|0}static B1(e){return e>>8&255|0}static B2(e){return e>>16&255|0}static sendTable_$LI$(){return t.sendTable==null&&(t.sendTable=[new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.Status_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot|t.OpStatus_RomBusy),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.Reset_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot|t.OpStatus_RomBusy),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.Information_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot|t.OpStatus_RomBusy),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.HidInformation_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot|t.OpStatus_RomBusy),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.Capability_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot|t.OpStatus_RomBusy),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.Uid_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot|t.OpStatus_RomBusy),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.Uid_$LI$()),t.OpStatus_Ready),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.Uid2_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.DefaultMode_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot|t.OpStatus_RomBusy),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.DefaultMode_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot|t.OpStatus_RomBusy),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.ReportRate_$LI$()),t.OpStatus_Ready|t.OpStatus_RomBusy),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.ReportRate_$LI$()),t.OpStatus_Ready|t.OpStatus_RomBusy),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.RenderingMode_$LI$()),t.OpStatus_Ready|t.OpStatus_Capture|t.OpStatus_RomBusy),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.RenderingMode_$LI$()),t.OpStatus_Ready|t.OpStatus_Capture|t.OpStatus_RomBusy),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.Eserial_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot|t.OpStatus_RomBusy),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.HostPublicKey_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.HostPublicKey_$LI$()),t.OpStatus_Ready),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.DevicePublicKey_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.StartCapture_$LI$()),t.OpStatus_Ready),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.EndCapture_$LI$()),t.OpStatus_Capture),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.DHprime_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.DHprime_$LI$()),t.OpStatus_Ready),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.DHbase_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.DHbase_$LI$()),t.OpStatus_Ready),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.ClearScreen_$LI$()),t.OpStatus_Ready),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.InkingMode_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.InkingMode_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.InkThreshold_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.InkThreshold_$LI$()),t.OpStatus_Ready),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.ClearScreenArea_$LI$()),t.OpStatus_Ready),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.StartImageDataArea_$LI$()),t.OpStatus_Ready),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.StartImageData_$LI$()),t.OpStatus_Ready),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.ImageDataBlock_$LI$()),t.OpStatus_Image),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.EndImageData_$LI$()),t.OpStatus_Image),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.HandwritingThicknessColor_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.HandwritingThicknessColor_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.BackgroundColor_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.BackgroundColor_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.HandwritingDisplayArea_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.HandwritingDisplayArea_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.BacklightBrightness_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.BacklightBrightness_$LI$()),t.OpStatus_Ready|t.OpStatus_Capture),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.ScreenContrast_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.ScreenContrast_$LI$()),t.OpStatus_Ready|t.OpStatus_Capture),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.HandwritingThicknessColor24_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.HandwritingThicknessColor24_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.BackgroundColor24_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.BackgroundColor24_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.BootScreen_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.BootScreen_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.PenDataOptionMode_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.PenDataOptionMode_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.EncryptionCommand_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.EncryptionCommand_$LI$()),t.OpStatus_Ready),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.EncryptionStatus_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.GetReport_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.PinOperationMode_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot|t.OpStatus_RomBusy),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.PinOperationMode_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot|t.OpStatus_RomBusy),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.OperationMode_$LI$()),t.OpStatus_Ready|t.OpStatus_Capture),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.OperationMode_$LI$()),t.OpStatus_Ready|t.OpStatus_Capture),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.RomStartImageData_$LI$()),t.OpStatus_Ready),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.RomImageOccupancy_$LI$()),t.OpStatus_Ready|t.OpStatus_Capture),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.RomImageOccupancy_$LI$()),t.OpStatus_Ready|t.OpStatus_Capture),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.RomImageHash_$LI$()),t.OpStatus_Ready|t.OpStatus_Capture),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.RomImageHash_$LI$()),t.OpStatus_Ready|t.OpStatus_Capture),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.RomImageDelete_$LI$()),t.OpStatus_Ready|t.OpStatus_Capture),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.RomImageDelete_$LI$()),t.OpStatus_Ready|t.OpStatus_Capture),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.CurrentImageArea_$LI$()),t.OpStatus_Ready|t.OpStatus_Capture),new t.SendEntry(t.OpDirection_Set|t.I(o.WacomGSS.STU.Protocol.ReportId.RomImageDisplay_$LI$()),t.OpStatus_Ready|t.OpStatus_Capture),new t.SendEntry(t.OpDirection_Get|t.I(o.WacomGSS.STU.Protocol.ReportId.ReportSizeCollection_$LI$()),t.OpStatus_Ready|t.OpStatus_Image|t.OpStatus_Capture|t.OpStatus_Calculation|t.OpStatus_Image_Boot|t.OpStatus_RomBusy)]),t.sendTable}static opStatus_from_StatusCode(e){let a;switch(e){case o.WacomGSS.STU.Protocol.StatusCode.Ready_$LI$():a=t.OpStatus_Ready;break;case o.WacomGSS.STU.Protocol.StatusCode.Image_$LI$():a=t.OpStatus_Image;break;case o.WacomGSS.STU.Protocol.StatusCode.Capture_$LI$():a=t.OpStatus_Capture;break;case o.WacomGSS.STU.Protocol.StatusCode.Calculation_$LI$():a=t.OpStatus_Calculation;break;case o.WacomGSS.STU.Protocol.StatusCode.Image_Boot_$LI$():a=t.OpStatus_Image_Boot;break;case o.WacomGSS.STU.Protocol.StatusCode.RomBusy_$LI$():a=t.OpStatus_RomBusy;break;case o.WacomGSS.STU.Protocol.StatusCode.SystemReset_$LI$():a=t.OpStatus_SystemReset;break;default:throw Object.defineProperty(new Error("Invalid status value"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]})}return a}static opBitsFromReport(e,a){const u=t.I(e)|a;for(let d=0;d<t.sendTable_$LI$().length;++d)if(t.sendTable_$LI$()[d].first===u)return t.sendTable_$LI$()[d].second;throw Object.defineProperty(new Error("combination of reportId and opDirection is invalid"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]})}static statusCanSend(e,a,u){const d=t.opBitsFromReport(a,u);return(t.opStatus_from_StatusCode(e)&d)!=0}static async delay(e){return new Promise(a=>setTimeout(a,e))}static async waitForStatusToSend(e,a,u,d,g){const P=t.opBitsFromReport(a,u);for(;;){const I=await e.getStatus();if(t.opStatus_from_StatusCode(I.getStatusCode())&P)break;if(d===0)throw new o.WacomGSS.STU.TimeoutException("Time out waiting for tablet to accept ReportId="+a+" opDirection="+u);--d,await this.delay(g)}}static async waitForStatus(e,a,u,d){for(;await(await e.getStatus()).getStatusCode()!==a;){if(u===0)throw new o.WacomGSS.STU.TimeoutException("Time out waiting for tablet status "+a);--u,await this.delay(d)}}static supportsEncryption$com_WacomGSS_STU_Protocol_DHprime(e){return!e.isEmpty()}static async supportsEncryption(e){if(e!=null&&e instanceof o.WacomGSS.STU.Protocol.DHprime||e===null)return o.WacomGSS.STU.Protocol.ProtocolHelper.supportsEncryption$com_WacomGSS_STU_Protocol_DHprime(e);if(e!=null&&e instanceof o.WacomGSS.STU.Protocol.Protocol||e===null)return o.WacomGSS.STU.Protocol.ProtocolHelper.supportsEncryption$com_WacomGSS_STU_Protocol_Protocol(e);throw new Error("invalid overload")}static async supportsEncryption$com_WacomGSS_STU_Protocol_Protocol(e){const a=await e.getDHprime();return t.supportsEncryption$com_WacomGSS_STU_Protocol_DHprime(a)}static async setHostPublicKeyAndPollForDevicePublicKey(e,a,u,d){return await e.setHostPublicKey(a),await t.waitForStatusToSend(e,o.WacomGSS.STU.Protocol.ReportId.DevicePublicKey_$LI$(),t.OpDirection_Get,u,d),e.getDevicePublicKey()}static async generateSymmetricKeyAndWaitForEncryptionStatus(e,a,u,d){await t.waitForStatusToSend(e,o.WacomGSS.STU.Protocol.ReportId.EncryptionCommand_$LI$(),t.OpDirection_Set,a,u);const g=e.getInterface().interfaceQueue();await e.setEncryptionCommand(o.WacomGSS.STU.Protocol.Protocol.initializeGenerateSymmetricKey());{const I=await e.getEncryptionStatus();if(I.getLastResultCode()!==o.WacomGSS.STU.Protocol.ErrorCodeRSA.None_$LI$())return I}let P;for(;(P=await g.wait_until_getReport(d))!=null;)if(P.length>=o.WacomGSS.STU.Protocol.EncryptionStatus.reportSize&&P[0]===o.WacomGSS.STU.Protocol.ReportId.EncryptionStatus_$LI$())return await o.WacomGSS.STU.Protocol.Protocol.decodeEncryptionStatus(P,1);throw new o.WacomGSS.STU.TimeoutException("Time out waiting for report EncryptionStatus")}static simulateEncodingFlag(e,a){if(!(a&(o.WacomGSS.STU.Protocol.EncodingFlag.EncodingFlag_24bit_$LI$()|o.WacomGSS.STU.Protocol.EncodingFlag.EncodingFlag_16bit_$LI$()|o.WacomGSS.STU.Protocol.EncodingFlag.EncodingFlag_1bit_$LI$())))switch(e){case o.WacomGSS.STU.UsbDevice.ProductId_540_$LI$():case o.WacomGSS.STU.UsbDevice.ProductId_530V_$LI$():case o.WacomGSS.STU.UsbDevice.ProductId_530_$LI$():a=o.WacomGSS.STU.Protocol.EncodingFlag.EncodingFlag_24bit_$LI$()|o.WacomGSS.STU.Protocol.EncodingFlag.EncodingFlag_16bit_$LI$()|o.WacomGSS.STU.Protocol.EncodingFlag.EncodingFlag_1bit_$LI$()|o.WacomGSS.STU.Protocol.EncodingFlag.EncodingFlag_Zlib_$LI$();break;case o.WacomGSS.STU.UsbDevice.ProductId_520A_$LI$():a=o.WacomGSS.STU.Protocol.EncodingFlag.EncodingFlag_16bit_$LI$()|o.WacomGSS.STU.Protocol.EncodingFlag.EncodingFlag_1bit_$LI$();break;case o.WacomGSS.STU.UsbDevice.ProductId_500_$LI$():a=o.WacomGSS.STU.Protocol.EncodingFlag.EncodingFlag_1bit_$LI$();break;case o.WacomGSS.STU.UsbDevice.ProductId_430V_$LI$():case o.WacomGSS.STU.UsbDevice.ProductId_430_$LI$():case o.WacomGSS.STU.UsbDevice.ProductId_300_$LI$():a=o.WacomGSS.STU.Protocol.EncodingFlag.EncodingFlag_1bit_$LI$();break;default:a=o.WacomGSS.STU.Protocol.EncodingFlag.EncodingFlag_1bit_$LI$()}return a}static encodingFlagSupportsColor(e){return(e&(o.WacomGSS.STU.Protocol.EncodingFlag.EncodingFlag_24bit_$LI$()|o.WacomGSS.STU.Protocol.EncodingFlag.EncodingFlag_16bit_$LI$()))!=0}static resizeAndFlatten(e,a,u,d,g,P,I,T,$,G,O,x){let j=null;if(d!==P||g!==I){let J,ye,ue,Ce,ie,ae,Ie,we;switch($){case o.WacomGSS.STU.Protocol.ProtocolHelper.Scale.Stretch:J=0,ye=0,ue=P,Ce=I,ie=0,ae=0,Ie=d,we=g;break;case o.WacomGSS.STU.Protocol.ProtocolHelper.Scale.Clip:if(d>P){switch(15&O){default:case 0:ie=0;break;case 1:ie=(d-P)/2|0;break;case 2:ie=d-P-1}Ie=ie+P,J=0,ue=P}else ie=0,Ie=d,J=(P-d)/2|0,ue=J+d;if(g>I){switch(O>>4&15){default:case 0:ae=0;break;case 1:ae=(g-I)/2|0;break;case 2:ae=g-I-1}we=ae+I,ye=0,Ce=I}else ae=0,we=g,ye=(I-g)/2|0,Ce=ye+g;break;default:case o.WacomGSS.STU.Protocol.ProtocolHelper.Scale.Fit:{const Ye=Math.fround(d/g);let Me,Ae;Ye>Math.fround(P/I)?(Me=P,Ae=Math.round(Math.fround(Me/Ye))):(Ae=I,Me=Math.round(Math.fround(Ae*Ye))),J=(P-Me)/2|0,ye=(I-Ae)/2|0,ue=J+Me,Ce=ye+Ae,ie=0,ae=0,Ie=d,we=g}}ie+=a,ae+=u,Ie+=a,we+=u,a=u=0;let ve=document.createElement("canvas");ve.width=ue+J,ve.height=Ce+ye;let ze=ve.getContext("2d");G&&(ze.fillStyle=G,ze.fillRect(0,0,ve.width,ve.height)),ze.drawImage(e,ie,ae,Ie,we,J,ye,ue,Ce),j=ve}else j=e;switch(T){case o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_1bit:case o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_1bit_ZLib:case o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_1bit_Bulk:}let Q=j.getContext("2d").getImageData(0,0,j.width,j.height);!x||T!=o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_1bit&&T!=o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_1bit_ZLib&&T!=o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_1bit_Bulk||(Q=Ua(Q,220));let fe=Q.data,me=[];for(var pe=0;pe<fe.byteLength;pe+=4)me.push([fe[pe],fe[pe+1],fe[pe+2]]);const le=me.map(function(J){return J[0]<<16|J[1]<<8|J[2]});return t.flatten(le,0,0,P,I,T)}static flatten(e,a,u,d,g,P){switch(P){case o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_1bit:case o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_1bit_ZLib:case o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_1bit_Bulk:return t.flattenMonochrome(e,d,g,d);case o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_16bit:case o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_16bit_Bulk:return t.flattenColor16_565(e,d,g,d);case o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_24bit:case o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_24bit_Bulk:return t.flattenColor24(e,d,g,d)}}static flattenMonochrome(e,a,u,d){if(d<a)throw Object.defineProperty(new Error("stride must be bigger than screenWidth"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});if(e.length!==d*u)throw Object.defineProperty(new Error("rgb incorrect length"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});const g=(T=>{let $=[];for(;T-- >0;)$.push(0);return $})((((-8&a)+(7&a?8:0))/8|0)*u);((T,$)=>{for(let G=0;G<T.length;G++)T[G]=255})(g);let P=0,I=0;for(let T=0;T<u;++T){let $=0;for(let G=0;G<a;++G){const O=e[P+G],x=t.isInk(O);g[I]&=0|~(x<<7-$%8),$++%8==7&&++I}P+=d,7&$&&++I}return g}static rgb16_565(e){return e>>8&63488|e>>5&2016|e>>3&31}static flattenColor16_565(e,a,u,d){if(d<a)throw Object.defineProperty(new Error("stride must be bigger than screenWidth"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});if(e.length!==d*u)throw Object.defineProperty(new Error("rgb incorrect length"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});const g=(P=>{let I=[];for(;P-- >0;)I.push(0);return I})(2*a*u);for(let P=0,I=0,T=0;T<u;++T,P+=d)for(let $=0;$<a;++$){const G=e[P+$],O=t.rgb16_565(G);g[I++]=t.B1(O),g[I++]=t.B0(O)}return g}static flattenColor24(e,a,u,d,g){return t.flattenColor24(null,d,g,d)}static flattenColor24(e,a,u,d){if(d<a)throw Object.defineProperty(new Error("stride must be bigger than screenWidth"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});if(e.length!==d*u)throw Object.defineProperty(new Error("rgb incorrect length"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});const g=(P=>{let I=[];for(;P-- >0;)I.push(0);return I})(3*a*u);for(let P=0,I=0,T=0;T<u;++T,P+=d)for(let $=0;$<a;++$){const G=e[P+$];g[I++]=t.B0(G),g[I++]=t.B1(G),g[I++]=t.B2(G)}return g}static async writeImageCommon(e,a,u,d,g,P){if(await t.waitForStatusToSend(e,o.WacomGSS.STU.Protocol.ReportId.ImageDataBlock_$LI$(),t.OpDirection_Set,g,P),a===o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_1bit_Bulk||a===o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_16bit_Bulk||a===o.WacomGSS.STU.Protocol.EncodingMode.EncodingMode_24bit_Bulk)await e.getInterface().write(d);else{let I=0,T=d.length;for(;T!==0;){const $=T>u?u:T,G=new o.WacomGSS.STU.Protocol.ImageDataBlock(d,I,$);await e.setImageDataBlock(G),I+=$,T-=$}}await e.setEndImageData$com_WacomGSS_STU_Protocol_EndImageDataFlag(o.WacomGSS.STU.Protocol.EndImageDataFlag.Commit)}static async writeImage$com_WacomGSS_STU_Protocol_Protocol$com_WacomGSS_STU_Protocol_EncodingMode$int$byte_A$int$long(e,a,u,d,g,P){await t.waitForStatusToSend(e,await o.WacomGSS.STU.Protocol.ReportId.StartImageData_$LI$(),t.OpDirection_Set,g,P),await e.setStartImageData$com_WacomGSS_STU_Protocol_EncodingMode(a),await t.writeImageCommon(e,a,u,d,g,P)}static async writeImage(e,a,u,d,g,P){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.Protocol||e===null)||typeof a!="number"&&a!==null||typeof u!="number"&&u!==null||!(d!=null&&d instanceof Array&&(d.length==0||d[0]==null||typeof d[0]=="number")||d===null)||typeof g!="number"&&g!==null||typeof P!="number"&&P!==null){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.Protocol||e===null)||typeof a!="number"&&a!==null||!(u!=null&&u instanceof Array&&(u.length==0||u[0]==null||typeof u[0]=="number")||u===null)||typeof d!="number"&&d!==null||typeof g!="number"&&g!==null||P!==void 0){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.Protocol||e===null)||typeof a!="number"&&a!==null||!(u!=null&&u instanceof Array&&(u.length==0||u[0]==null||typeof u[0]=="number")||u===null)||typeof d!="number"&&d!==null||typeof g!="number"&&g!==null||P!==void 0)throw new Error("invalid overload");return await o.WacomGSS.STU.Protocol.ProtocolHelper.writeImage$com_WacomGSS_STU_Protocol_Protocol$int$byte_A$int$long(e,a,u,d,g)}return await o.WacomGSS.STU.Protocol.ProtocolHelper.writeImage$com_WacomGSS_STU_Protocol_Protocol$com_WacomGSS_STU_Protocol_EncodingMode$byte_A$int$long(e,a,u,d,g)}return await o.WacomGSS.STU.Protocol.ProtocolHelper.writeImage$com_WacomGSS_STU_Protocol_Protocol$com_WacomGSS_STU_Protocol_EncodingMode$int$byte_A$int$long(e,a,u,d,g,P)}static async writeImage$com_WacomGSS_STU_Protocol_Protocol$com_WacomGSS_STU_Protocol_EncodingMode$byte_A$int$long(e,a,u,d,g){await t.writeImage$com_WacomGSS_STU_Protocol_Protocol$com_WacomGSS_STU_Protocol_EncodingMode$int$byte_A$int$long(e,a,o.WacomGSS.STU.Protocol.ImageDataBlock.maxLengthHID,u,d,g)}static async writeImageArea$com_WacomGSS_STU_Protocol_Protocol$com_WacomGSS_STU_Protocol_EncodingMode$com_WacomGSS_STU_Protocol_Rectangle$int$byte_A$int$long(e,a,u,d,g,P,I){await t.waitForStatusToSend(e,o.WacomGSS.STU.Protocol.ReportId.StartImageData_$LI$(),t.OpDirection_Set,P,I),await e.setStartImageDataArea(a,u),await t.writeImageCommon(e,a,d,g,P,I)}static async writeImageArea(e,a,u,d,g,P,I){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.Protocol||e===null)||typeof a!="number"&&a!==null||!(u!=null&&u instanceof o.WacomGSS.STU.Protocol.Rectangle||u===null)||typeof d!="number"&&d!==null||!(g!=null&&g instanceof Array&&(g.length==0||g[0]==null||typeof g[0]=="number")||g===null)||typeof P!="number"&&P!==null||typeof I!="number"&&I!==null){if(!(e!=null&&e instanceof o.WacomGSS.STU.Protocol.Protocol||e===null)||typeof a!="number"&&a!==null||!(u!=null&&u instanceof o.WacomGSS.STU.Protocol.Rectangle||u===null)||!(d!=null&&d instanceof Array&&(d.length==0||d[0]==null||typeof d[0]=="number")||d===null)||typeof g!="number"&&g!==null||typeof P!="number"&&P!==null||I!==void 0)throw new Error("invalid overload");return await o.WacomGSS.STU.Protocol.ProtocolHelper.writeImageArea$com_WacomGSS_STU_Protocol_Protocol$com_WacomGSS_STU_Protocol_EncodingMode$com_WacomGSS_STU_Protocol_Rectangle$byte_A$int$long(e,a,u,d,g,P)}return await o.WacomGSS.STU.Protocol.ProtocolHelper.writeImageArea$com_WacomGSS_STU_Protocol_Protocol$com_WacomGSS_STU_Protocol_EncodingMode$com_WacomGSS_STU_Protocol_Rectangle$int$byte_A$int$long(e,a,u,d,g,P,I)}static async writeImageArea$com_WacomGSS_STU_Protocol_Protocol$com_WacomGSS_STU_Protocol_EncodingMode$com_WacomGSS_STU_Protocol_Rectangle$byte_A$int$long(e,a,u,d,g,P){await t.writeImageArea$com_WacomGSS_STU_Protocol_Protocol$com_WacomGSS_STU_Protocol_EncodingMode$com_WacomGSS_STU_Protocol_Rectangle$int$byte_A$int$long(e,a,u,o.WacomGSS.STU.Protocol.ImageDataBlock.maxLengthHID,d,g,P)}static async writeImage$com_WacomGSS_STU_Protocol_Protocol$int$byte_A$int$long(e,a,u,d,g){if(await t.waitForStatusToSend(e,o.WacomGSS.STU.Protocol.ReportId.StartImageData_$LI$(),t.OpDirection_Set,d,g),await e.setStartImageData$int(a),await t.waitForStatusToSend(e,o.WacomGSS.STU.Protocol.ReportId.ImageDataBlock_$LI$(),t.OpDirection_Set,d,g),(a&o.WacomGSS.STU.Protocol.EncodingMode._$wrappers[o.WacomGSS.STU.Protocol.EncodingMode].EncodingMode_Bulk)!=0)await e.getInterface().write(u);else{let P=0,I=u.length;for(;I!==0;){const T=I>o.WacomGSS.STU.Protocol.ImageDataBlock.maxLengthHID?o.WacomGSS.STU.Protocol.ImageDataBlock.maxLengthHID:I,$=new o.WacomGSS.STU.Protocol.ImageDataBlock(u,P,T);await e.setImageDataBlock($),P+=T,I-=T}}await e.setEndImageData$com_WacomGSS_STU_Protocol_EndImageDataFlag(o.WacomGSS.STU.Protocol.EndImageDataFlag.Commit)}static isInk(e){return e<=14211289?1:0}static clamp(e){return Math.min(Math.max(Math.round(e),0),255)}static rgb16_565(e){return e>>8&63488|e>>5&2016|e>>3&31}static flattenColor16_565(e,a,u,d){if(d<a)throw Object.defineProperty(new Error("stride must be bigger than screenWidth"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});if(e.length!==d*u)throw Object.defineProperty(new Error("rgb incorrect length"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});const g=(P=>{let I=[];for(;P-- >0;)I.push(0);return I})(2*a*u);for(let P=0,I=0,T=0;T<u;++T,P+=d)for(let $=0;$<a;++$){const G=e[P+$],O=t.rgb16_565(G);g[I++]=t.B1(O),g[I++]=t.B0(O)}return g}static flattenColor24(e,a,u,d){if(d<a)throw Object.defineProperty(new Error("stride must be bigger than screenWidth"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});if(e.length!==d*u)throw Object.defineProperty(new Error("rgb incorrect length"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});const g=(P=>{let I=[];for(;P-- >0;)I.push(0);return I})(3*a*u);for(let P=0,I=0,T=0;T<u;++T,P+=d)for(let $=0;$<a;++$){const G=e[P+$];g[I++]=t.B0(G),g[I++]=t.B1(G),g[I++]=t.B2(G)}return g}static k_factoryDefaultInkThreshold_$LI$(){return t.k_factoryDefaultInkThreshold==null&&(t.k_factoryDefaultInkThreshold=new o.WacomGSS.STU.Protocol.InkThreshold(21,17)),t.k_factoryDefaultInkThreshold}static getNextInkState(e,a,u,d){return a===0||!(o.WacomGSS.STU.Protocol.InkState._$wrappers[e].getValue()&o.WacomGSS.STU.Protocol.InkState._$wrappers[o.WacomGSS.STU.Protocol.InkState.InkState_isOff].getValue())&&u<d.getOffPressureMark()||o.WacomGSS.STU.Protocol.InkState._$wrappers[e].getValue()&o.WacomGSS.STU.Protocol.InkState._$wrappers[o.WacomGSS.STU.Protocol.InkState.InkState_isOff].getValue()&&u<d.getOnPressureMark()?o.WacomGSS.STU.Protocol.InkState._$wrappers[e].getValue()&o.WacomGSS.STU.Protocol.InkState._$wrappers[o.WacomGSS.STU.Protocol.InkState.InkState_isInk].getValue()?o.WacomGSS.STU.Protocol.InkState.InkState_Last:o.WacomGSS.STU.Protocol.InkState.InkState_Up:e!==o.WacomGSS.STU.Protocol.InkState.InkState_Up?e===o.WacomGSS.STU.Protocol.InkState.InkState_Down?o.WacomGSS.STU.Protocol.InkState.InkState_First:o.WacomGSS.STU.Protocol.InkState.InkState_Inking:o.WacomGSS.STU.Protocol.InkState.InkState_Down}static async writeRomImage(e,a,u,d,g,P){await t.waitForStatusToSend(e,o.WacomGSS.STU.Protocol.ReportId.RomStartImageData_$LI$(),t.OpDirection_Set,g,P),await e.setRomStartImageData(a),await t.writeImageCommon(e,a.getEncodingMode(),u,d,g,P)}static makeLegacyGetReport(e){const a=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(o.WacomGSS.STU.Protocol.TlsProtocol.PACKET_HEADER_SIZE+1);return o.WacomGSS.STU.Protocol.TlsProtocol.setPacketHeader(a,o.WacomGSS.STU.Protocol.TlsProtocol.PacketId.Legacy_GetFeature_$LI$()),a[6]=e,a}static makeLegacySetReport(e){const a=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(o.WacomGSS.STU.Protocol.TlsProtocol.PACKET_HEADER_SIZE+e.length);return o.WacomGSS.STU.Protocol.TlsProtocol.setPacketHeader(a,o.WacomGSS.STU.Protocol.TlsProtocol.PacketId.Legacy_SetFeature_$LI$()),((u,d,g,P,I)=>{if(u!==g||P>=d+I)for(;--I>=0;)g[P++]=u[d++];else{let T=u.slice(d,d+I);for(let $=0;$<I;$++)g[P++]=T[$]}})(e,0,a,o.WacomGSS.STU.Protocol.TlsProtocol.PACKET_HEADER_SIZE,e.length),a}static makeLegacyWrite(e){const a=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(o.WacomGSS.STU.Protocol.TlsProtocol.PACKET_HEADER_SIZE+e.length);return o.WacomGSS.STU.Protocol.TlsProtocol.setPacketHeader(a,o.WacomGSS.STU.Protocol.TlsProtocol.PacketId.Legacy_Write_$LI$()),((u,d,g,P,I)=>{if(u!==g||P>=d+I)for(;--I>=0;)g[P++]=u[d++];else{let T=u.slice(d,d+I);for(let $=0;$<I;$++)g[P++]=T[$]}})(e,0,a,o.WacomGSS.STU.Protocol.TlsProtocol.PACKET_HEADER_SIZE,e.length),a}static waitForReturn(e,a,u){for(;;){const d=e.wait_until_getReport(a);if(d==null)break;const g=o.WacomGSS.STU.Protocol.TlsProtocol.decodeReport_ReturnValue(d);if(g.getPacketId()===o.WacomGSS.STU.Protocol.TlsProtocol.PacketId.ReturnValue_$LI$()){if(!(g.getReturnValueStatus()&o.WacomGSS.STU.Protocol.TlsProtocol.ReturnValueStatus.Error_$LI$()))return d;throw new o.WacomGSS.STU.Protocol.SendException(g.getReturnValueStatus(),u)}}throw new o.WacomGSS.STU.TimeoutException("Time out waiting for tablet")}static checkReturnValueStatus(e){const a=o.WacomGSS.STU.Protocol.TlsProtocol.decodeReport_returnValueStatus(e);if(a!==o.WacomGSS.STU.Protocol.TlsProtocol.ReturnValueStatus.Success_$LI$())throw new o.WacomGSS.STU.Protocol.SendException(a,new o.WacomGSS.STU.Protocol.SendHint)}}t.OpDirection_Get=256,t.OpDirection_Set=512,t.OpStatus_Ready=1,t.OpStatus_Image=2,t.OpStatus_Capture=4,t.OpStatus_Calculation=8,t.OpStatus_Image_Boot=16,t.OpStatus_RomBusy=32,t.OpStatus_SystemReset=128,m.ProtocolHelper=t,t.__class="com.WacomGSS.STU.Protocol.ProtocolHelper",function(c){class e{constructor(d,g){this.first===void 0&&(this.first=0),this.second===void 0&&(this.second=0),this.first=d,this.second=g}}c.SendEntry=e,e.__class="com.WacomGSS.STU.Protocol.ProtocolHelper.SendEntry",function(u){u[u.Stretch=0]="Stretch",u[u.Fit=1]="Fit",u[u.Clip=2]="Clip"}(c.Scale||(c.Scale={}));class a{constructor(){}}a.Left=0,a.Center=1,a.Right=2,a.Top=0,a.Middle=16,a.Bottom=32,c.Clip=a,a.__class="com.WacomGSS.STU.Protocol.ProtocolHelper.Clip"}(t=m.ProtocolHelper||(m.ProtocolHelper={}))})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={}));for(var _,Da=[[15,135,45,165],[195,75,225,105],[60,180,30,150],[240,120,210,90]],Gr=[],Dr=[],kr=[],Le=0;Le<256;Le++)Gr[Le]=.299*Le,Dr[Le]=.587*Le,kr[Le]=.114*Le;function Ua(o,v,s){for(var m=o.data.length,t=0;t<=m;t+=4)o.data[t]=Math.floor(Gr[o.data[t]]+Dr[o.data[t+1]]+kr[o.data[t+2]]);for(var c,e,a=o.width,u=0;u<=m;u+=4)o.data[u]=o.data[u]<v?0:255,o.data[u+1]=o.data[u+2]=o.data[u];return o}(function(o){(function(v){(function(s){(function(m){let t;(function(e){e[e.Legacy=0]="Legacy",e[e.WILL=1]="WILL"})(t=m.RenderingMode||(m.RenderingMode={}));class c{constructor(a,u,d){this._$ordinal=a,this._$name=u,this.value===void 0&&(this.value=0),this.value=d}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(a){return this._$ordinal-(isNaN(a)?a._$ordinal:a)}}m.RenderingMode_$WRAPPER=c,t.__class="com.WacomGSS.STU.Protocol.RenderingMode",t.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],t._$wrappers=[new c(0,"Legacy",0),new c(1,"WILL",1)]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))})(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(){this.handlers===void 0&&(this.handlers=null),this.handlers=[]}addReportHandler(e){this.handlers.push(e)}removeReportHandler(e){(a=>{let u=a.indexOf(e);u>=0&&a.splice(u,1)})(this.handlers)}static copy(e,a,u){const d=(g=>{let P=[];for(;g-- >0;)P.push(0);return P})(u);return((g,P,I,T,$)=>{if(g!==I||T>=P+$)for(;--$>=0;)I[T++]=g[P++];else{let G=g.slice(P,P+$);for(let O=0;O<$;O++)I[T++]=G[O]}})(e,a,d,0,u),d}decodeTls(e,a,u){const d=new t.decodeTls_RetVal(u),g=a.length-u;if(g>=6){const P=t.copy(a,u,6),I=o.WacomGSS.STU.Protocol.TlsProtocol.decodeReport_size(P);if(g>=I)switch(o.WacomGSS.STU.Protocol.TlsProtocol.decodeReport_packetId(P)){case o.WacomGSS.STU.Protocol.TlsProtocol.PacketId.Legacy_PenData_$LI$():try{e.onPenData(o.WacomGSS.STU.Protocol.Protocol.decodePenData(a,u+6)),d.success=!0,d.offset=u+6+8}catch{}d.success=!0,d.offset=u+I;break;case o.WacomGSS.STU.Protocol.TlsProtocol.PacketId.Legacy_EventData_$LI$():try{switch(a[u+6]){case o.WacomGSS.STU.Protocol.OperationModeType.PinPad_$LI$():e.onEventDataPinPad(o.WacomGSS.STU.Protocol.Protocol.decodeEventDataPinPad(a,u+6));break;case o.WacomGSS.STU.Protocol.OperationModeType.KeyPad_$LI$():e.onEventDataKeyPad(o.WacomGSS.STU.Protocol.Protocol.decodeEventDataKeyPad(a,u+6));break;case o.WacomGSS.STU.Protocol.OperationModeType.Signature_$LI$():e.onEventDataSignature(o.WacomGSS.STU.Protocol.Protocol.decodeEventDataSignature(a,u+6))}}catch{}d.success=!0,d.offset=u+I}}return d}handleReport(e,a,u){let d=0;for(let g=0;g<this.handlers.length;g++){let P=this.handlers[g];d=0;e:for(;d<e.length;)if(u){const I=this.decodeTls(P,e,d);if(!I.success)break;d=I.offset}else switch(e[d]){case o.WacomGSS.STU.Protocol.ReportId.PenData_$LI$():if(d+o.WacomGSS.STU.Protocol.PenData.reportSize>e.length)break e;++d;try{P.onPenData(o.WacomGSS.STU.Protocol.Protocol.decodePenData(e,d),a)}catch{}d+=o.WacomGSS.STU.Protocol.PenData.reportSize;break;case o.WacomGSS.STU.Protocol.ReportId.PenDataOption_$LI$():if(d+o.WacomGSS.STU.Protocol.PenDataOption.reportSize>e.length)break e;++d;try{P.onPenDataOption(o.WacomGSS.STU.Protocol.Protocol.decodePenDataOption(e,d),a)}catch{}d+=o.WacomGSS.STU.Protocol.PenDataOption.reportSize;break;case o.WacomGSS.STU.Protocol.ReportId.PenDataEncrypted_$LI$():{if(d+o.WacomGSS.STU.Protocol.PenDataEncrypted.reportSize>e.length)break e;++d;const I=t.copy(e,d,o.WacomGSS.STU.Protocol.PenDataEncrypted.reportSize);let T=t.copy(I,0,o.WacomGSS.STU.Protocol.PenDataEncrypted.encryptedSize);try{T=P.onDecrypt(T)}catch{}if(T!=null&&T.length===o.WacomGSS.STU.Protocol.PenDataEncrypted.encryptedSize){for(let $=0;$<T.length;++$)I[$]=T[$];try{P.onPenDataEncrypted(o.WacomGSS.STU.Protocol.Protocol.decodePenDataEncrypted(I,0),a)}catch{}}d+=o.WacomGSS.STU.Protocol.PenDataEncrypted.reportSize}break;case o.WacomGSS.STU.Protocol.ReportId.PenDataEncryptedOption_$LI$():{if(d+o.WacomGSS.STU.Protocol.PenDataEncryptedOption.reportSize>e.length)break e;++d;const I=t.copy(e,d,o.WacomGSS.STU.Protocol.PenDataEncryptedOption.reportSize);let T=t.copy(I,0,o.WacomGSS.STU.Protocol.PenDataEncrypted.encryptedSize);try{T=P.onDecrypt(T)}catch{}if(T!=null&&T.length===o.WacomGSS.STU.Protocol.PenDataEncrypted.encryptedSize){for(let $=0;$<T.length;++$)I[$]=T[$];try{P.onPenDataEncryptedOption(o.WacomGSS.STU.Protocol.Protocol.decodePenDataEncryptedOption(I,0),a)}catch{}}d+=o.WacomGSS.STU.Protocol.PenDataEncryptedOption.reportSize}break;case o.WacomGSS.STU.Protocol.ReportId.EncryptionStatus_$LI$():if(d+o.WacomGSS.STU.Protocol.EncryptionStatus.reportSize>e.length)break e;++d;try{P.onEncryptionStatus(o.WacomGSS.STU.Protocol.Protocol.decodeEncryptionStatus(e,d))}catch{}d+=o.WacomGSS.STU.Protocol.EncryptionStatus.reportSize;break;case o.WacomGSS.STU.Protocol.ReportId.DevicePublicKey_$LI$():if(d+o.WacomGSS.STU.Protocol.DevicePublicKey.reportSize>e.length)break e;++d;try{P.onDevicePublicKey(o.WacomGSS.STU.Protocol.Protocol.decodeDevicePublicKey(e,d))}catch{}d+=o.WacomGSS.STU.Protocol.DevicePublicKey.reportSize;break;case o.WacomGSS.STU.Protocol.ReportId.PenDataTimeCountSequence_$LI$():if(d+o.WacomGSS.STU.Protocol.PenDataTimeCountSequence.reportSize>e.length)break e;++d;try{P.onPenDataTimeCountSequence(o.WacomGSS.STU.Protocol.Protocol.decodePenDataTimeCountSequence(e,d),a)}catch{}d+=o.WacomGSS.STU.Protocol.PenDataTimeCountSequence.reportSize;break;case o.WacomGSS.STU.Protocol.ReportId.PenDataTimeCountSequenceEncrypted_$LI$():{if(d+o.WacomGSS.STU.Protocol.PenDataTimeCountSequenceEncrypted.reportSize>e.length)break e;++d;const I=t.copy(e,d,o.WacomGSS.STU.Protocol.PenDataTimeCountSequenceEncrypted.reportSize);let T=t.copy(I,0,o.WacomGSS.STU.Protocol.PenDataTimeCountSequenceEncrypted.encryptedSize);try{T=P.onDecrypt(T)}catch{}if(T!=null&&T.length===o.WacomGSS.STU.Protocol.PenDataTimeCountSequenceEncrypted.encryptedSize){for(let $=0;$<T.length;++$)I[$]=T[$];try{P.onPenDataTimeCountSequenceEncrypted(o.WacomGSS.STU.Protocol.Protocol.decodePenDataTimeCountSequenceEncrypted(I,0),a)}catch{}}d+=o.WacomGSS.STU.Protocol.PenDataTimeCountSequenceEncrypted.reportSize}break;case o.WacomGSS.STU.Protocol.ReportId.EventData_$LI$():if(d+o.WacomGSS.STU.Protocol.EventData.reportSize>e.length)break e;++d;try{switch(e[d]){case o.WacomGSS.STU.Protocol.OperationModeType.PinPad_$LI$():P.onEventDataPinPad(o.WacomGSS.STU.Protocol.Protocol.decodeEventDataPinPad(e,d));break;case o.WacomGSS.STU.Protocol.OperationModeType.KeyPad_$LI$():P.onEventDataKeyPad(o.WacomGSS.STU.Protocol.Protocol.decodeEventDataKeyPad(e,d));break;case o.WacomGSS.STU.Protocol.OperationModeType.Signature_$LI$():P.onEventDataSignature(o.WacomGSS.STU.Protocol.Protocol.decodeEventDataSignature(e,d))}}catch{}d+=o.WacomGSS.STU.Protocol.EventData.reportSize;break;case o.WacomGSS.STU.Protocol.ReportId.EventDataEncrypted_$LI$():{if(d+o.WacomGSS.STU.Protocol.EventDataEncrypted.reportSize>e.length)break e;++d;const I=t.copy(e,d,o.WacomGSS.STU.Protocol.EventDataEncrypted.reportSize);let T=t.copy(I,0,o.WacomGSS.STU.Protocol.EventDataEncrypted.encryptedSize);try{T=P.onDecrypt(T)}catch{}if(T!=null&&T.length===o.WacomGSS.STU.Protocol.EventDataEncrypted.encryptedSize){for(let $=0;$<T.length;++$)I[$]=T[$];try{switch(I[4]){case o.WacomGSS.STU.Protocol.OperationModeType.PinPad_$LI$():P.onEventDataPinPadEncrypted(o.WacomGSS.STU.Protocol.Protocol.decodeEventDataPinPadEncrypted(I,0));break;case o.WacomGSS.STU.Protocol.OperationModeType.KeyPad_$LI$():P.onEventDataKeyPadEncrypted(o.WacomGSS.STU.Protocol.Protocol.decodeEventDataKeyPadEncrypted(I,0));break;case o.WacomGSS.STU.Protocol.OperationModeType.Signature_$LI$():P.onEventDataSignatureEncrypted(o.WacomGSS.STU.Protocol.Protocol.decodeEventDataSignatureEncrypted(I,0))}}catch{}}d+=o.WacomGSS.STU.Protocol.EventDataEncrypted.reportSize}break;default:break e}}return d!==e.length?t.copy(e,d,e.length-d):null}}m.ReportHandler=t,t.__class="com.WacomGSS.STU.Protocol.ReportHandler",function(c){class e{constructor(u){this.success===void 0&&(this.success=!1),this.offset===void 0&&(this.offset=0),this.success=!1,this.offset=u}}c.decodeTls_RetVal=e,e.__class="com.WacomGSS.STU.Protocol.ReportHandler.decodeTls_RetVal"}(t=m.ReportHandler||(m.ReportHandler={}))})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{static PenData_$LI$(){return t.PenData==null&&(t.PenData=1),t.PenData}static Status_$LI$(){return t.Status==null&&(t.Status=3),t.Status}static Reset_$LI$(){return t.Reset==null&&(t.Reset=4),t.Reset}static HidInformation_$LI$(){return t.HidInformation==null&&(t.HidInformation=6),t.HidInformation}static Information_$LI$(){return t.Information==null&&(t.Information=8),t.Information}static Capability_$LI$(){return t.Capability==null&&(t.Capability=9),t.Capability}static Uid_$LI$(){return t.Uid==null&&(t.Uid=10),t.Uid}static Uid2_$LI$(){return t.Uid2==null&&(t.Uid2=11),t.Uid2}static DefaultMode_$LI$(){return t.DefaultMode==null&&(t.DefaultMode=12),t.DefaultMode}static ReportRate_$LI$(){return t.ReportRate==null&&(t.ReportRate=13),t.ReportRate}static RenderingMode_$LI$(){return t.RenderingMode==null&&(t.RenderingMode=14),t.RenderingMode}static Eserial_$LI$(){return t.Eserial==null&&(t.Eserial=15),t.Eserial}static PenDataEncrypted_$LI$(){return t.PenDataEncrypted==null&&(t.PenDataEncrypted=16),t.PenDataEncrypted}static HostPublicKey_$LI$(){return t.HostPublicKey==null&&(t.HostPublicKey=19),t.HostPublicKey}static DevicePublicKey_$LI$(){return t.DevicePublicKey==null&&(t.DevicePublicKey=20),t.DevicePublicKey}static StartCapture_$LI$(){return t.StartCapture==null&&(t.StartCapture=21),t.StartCapture}static EndCapture_$LI$(){return t.EndCapture==null&&(t.EndCapture=22),t.EndCapture}static DHprime_$LI$(){return t.DHprime==null&&(t.DHprime=26),t.DHprime}static DHbase_$LI$(){return t.DHbase==null&&(t.DHbase=27),t.DHbase}static ClearScreen_$LI$(){return t.ClearScreen==null&&(t.ClearScreen=32),t.ClearScreen}static InkingMode_$LI$(){return t.InkingMode==null&&(t.InkingMode=33),t.InkingMode}static InkThreshold_$LI$(){return t.InkThreshold==null&&(t.InkThreshold=34),t.InkThreshold}static ClearScreenArea_$LI$(){return t.ClearScreenArea==null&&(t.ClearScreenArea=35),t.ClearScreenArea}static StartImageDataArea_$LI$(){return t.StartImageDataArea==null&&(t.StartImageDataArea=36),t.StartImageDataArea}static StartImageData_$LI$(){return t.StartImageData==null&&(t.StartImageData=37),t.StartImageData}static ImageDataBlock_$LI$(){return t.ImageDataBlock==null&&(t.ImageDataBlock=38),t.ImageDataBlock}static EndImageData_$LI$(){return t.EndImageData==null&&(t.EndImageData=39),t.EndImageData}static HandwritingThicknessColor_$LI$(){return t.HandwritingThicknessColor==null&&(t.HandwritingThicknessColor=40),t.HandwritingThicknessColor}static BackgroundColor_$LI$(){return t.BackgroundColor==null&&(t.BackgroundColor=41),t.BackgroundColor}static HandwritingDisplayArea_$LI$(){return t.HandwritingDisplayArea==null&&(t.HandwritingDisplayArea=42),t.HandwritingDisplayArea}static BacklightBrightness_$LI$(){return t.BacklightBrightness==null&&(t.BacklightBrightness=43),t.BacklightBrightness}static ScreenContrast_$LI$(){return t.ScreenContrast==null&&(t.ScreenContrast=44),t.ScreenContrast}static HandwritingThicknessColor24_$LI$(){return t.HandwritingThicknessColor24==null&&(t.HandwritingThicknessColor24=45),t.HandwritingThicknessColor24}static BackgroundColor24_$LI$(){return t.BackgroundColor24==null&&(t.BackgroundColor24=46),t.BackgroundColor24}static BootScreen_$LI$(){return t.BootScreen==null&&(t.BootScreen=47),t.BootScreen}static PenDataOption_$LI$(){return t.PenDataOption==null&&(t.PenDataOption=48),t.PenDataOption}static PenDataEncryptedOption_$LI$(){return t.PenDataEncryptedOption==null&&(t.PenDataEncryptedOption=49),t.PenDataEncryptedOption}static PenDataOptionMode_$LI$(){return t.PenDataOptionMode==null&&(t.PenDataOptionMode=50),t.PenDataOptionMode}static PenDataTimeCountSequenceEncrypted_$LI$(){return t.PenDataTimeCountSequenceEncrypted==null&&(t.PenDataTimeCountSequenceEncrypted=51),t.PenDataTimeCountSequenceEncrypted}static PenDataTimeCountSequence_$LI$(){return t.PenDataTimeCountSequence==null&&(t.PenDataTimeCountSequence=52),t.PenDataTimeCountSequence}static EncryptionCommand_$LI$(){return t.EncryptionCommand==null&&(t.EncryptionCommand=64),t.EncryptionCommand}static EncryptionStatus_$LI$(){return t.EncryptionStatus==null&&(t.EncryptionStatus=80),t.EncryptionStatus}static GetReport_$LI$(){return t.GetReport==null&&(t.GetReport=128),t.GetReport}static SetResult_$LI$(){return t.SetResult==null&&(t.SetResult=129),t.SetResult}static PinPadData_$LI$(){return t.PinPadData==null&&(t.PinPadData=144),t.PinPadData}static PinPadDataEncrypted_$LI$(){return t.PinPadDataEncrypted==null&&(t.PinPadDataEncrypted=145),t.PinPadDataEncrypted}static PinOperationMode_$LI$(){return t.PinOperationMode==null&&(t.PinOperationMode=146),t.PinOperationMode}static OperationMode_$LI$(){return t.OperationMode==null&&(t.OperationMode=147),t.OperationMode}static RomStartImageData_$LI$(){return t.RomStartImageData==null&&(t.RomStartImageData=148),t.RomStartImageData}static RomImageOccupancy_$LI$(){return t.RomImageOccupancy==null&&(t.RomImageOccupancy=149),t.RomImageOccupancy}static RomImageHash_$LI$(){return t.RomImageHash==null&&(t.RomImageHash=150),t.RomImageHash}static RomImageDelete_$LI$(){return t.RomImageDelete==null&&(t.RomImageDelete=151),t.RomImageDelete}static CurrentImageArea_$LI$(){return t.CurrentImageArea==null&&(t.CurrentImageArea=152),t.CurrentImageArea}static EventData_$LI$(){return t.EventData==null&&(t.EventData=153),t.EventData}static EventDataEncrypted_$LI$(){return t.EventDataEncrypted==null&&(t.EventDataEncrypted=154),t.EventDataEncrypted}static RomImageDisplay_$LI$(){return t.RomImageDisplay==null&&(t.RomImageDisplay=155),t.RomImageDisplay}static ReportSizeCollection_$LI$(){return t.ReportSizeCollection==null&&(t.ReportSizeCollection=255),t.ReportSizeCollection}}m.ReportId=t,t.__class="com.WacomGSS.STU.Protocol.ReportId"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){let t;(function(e){e[e.Software=0]="Software",e[e.Hardware=1]="Hardware"})(t=m.ResetFlag||(m.ResetFlag={}));class c{constructor(a,u,d){this._$ordinal=a,this._$name=u,this.value===void 0&&(this.value=0),this.value=d}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(a){return this._$ordinal-(isNaN(a)?a._$ordinal:a)}}m.ResetFlag_$WRAPPER=c,t.__class="com.WacomGSS.STU.Protocol.ResetFlag",t.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],t._$wrappers=[new c(0,"Software",0),new c(1,"Hardware",1)]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{static All_$LI$(){return t.All==null&&(t.All=0),t.All}static PinPad_All_$LI$(){return t.PinPad_All==null&&(t.PinPad_All=1),t.PinPad_All}static SlideShow_All_$LI$(){return t.SlideShow_All==null&&(t.SlideShow_All=2),t.SlideShow_All}static KeyPad_All_$LI$(){return t.KeyPad_All==null&&(t.KeyPad_All=3),t.KeyPad_All}static Signature_All_$LI$(){return t.Signature_All==null&&(t.Signature_All=4),t.Signature_All}static MessageBox_All_$LI$(){return t.MessageBox_All==null&&(t.MessageBox_All=5),t.MessageBox_All}static PinPad_Number_$LI$(){return t.PinPad_Number==null&&(t.PinPad_Number=6),t.PinPad_Number}static SlideShow_Number_$LI$(){return t.SlideShow_Number==null&&(t.SlideShow_Number=7),t.SlideShow_Number}static KeyPad_Number_$LI$(){return t.KeyPad_Number==null&&(t.KeyPad_Number=8),t.KeyPad_Number}static Signature_Number_$LI$(){return t.Signature_Number==null&&(t.Signature_Number=9),t.Signature_Number}static MessageBox_Number_$LI$(){return t.MessageBox_Number==null&&(t.MessageBox_Number=10),t.MessageBox_Number}}m.RomImageDeleteMode=t,t.__class="com.WacomGSS.STU.Protocol.RomImageDeleteMode"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a,u,d,g,P){if(this.operationModeType===void 0&&(this.operationModeType=0),this.imageType===void 0&&(this.imageType=!1),this.imageNumber===void 0&&(this.imageNumber=0),this.result===void 0&&(this.result=0),this.hash===void 0&&(this.hash=null),g==null||g.length!==t.myLength_$LI$()||P+t.hashSize>t.myLength_$LI$())throw Object.defineProperty(new Error("invalid RomImageHash"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.hash=(I=>{let T=[];for(;I-- >0;)T.push(0);return T})(t.hashSize),this.operationModeType=e,this.imageType=a,this.imageNumber=u,this.result=d,((I,T,$,G,O)=>{if(I!==$||G>=T+O)for(;--O>=0;)$[G++]=I[T++];else{let x=I.slice(T,T+O);for(let j=0;j<O;j++)$[G++]=x[j]}})(g,P,this.hash,0,t.hashSize)}static myLength_$LI$(){return t.myLength==null&&(t.myLength=t.hashSize+4),t.myLength}getOperationModeType(){return this.operationModeType}getImageType(){return this.imageType}getImageNumber(){return this.imageNumber}getResult(){return this.result}getHash(){return this.hash}}t.hashSize=16,m.RomImageHash=t,t.__class="com.WacomGSS.STU.Protocol.RomImageHash"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a,u,d,g,P,I){this.encodingMode===void 0&&(this.encodingMode=null),this.operationModeType===void 0&&(this.operationModeType=0),this.imageType===void 0&&(this.imageType=!1),this.imageNumber===void 0&&(this.imageNumber=0),this.data===void 0&&(this.data=null),this.encodingMode=e,this.operationModeType=a,this.imageType=u,this.imageNumber=d,this.data=[g,P,I]}getEncodingMode(){return this.encodingMode}getOperationModeType(){return this.operationModeType}getImageType(){return this.imageType}getImageNumber(){return this.imageNumber}getData(){return this.data}static initializePinPad(e,a,u,d,g){return new t(e,o.WacomGSS.STU.Protocol.OperationModeType.PinPad_$LI$(),a,u,d,g,0)}static initializeSlideShow(e,a){return new t(e,o.WacomGSS.STU.Protocol.OperationModeType.SlideShow_$LI$(),!1,a,0,0,0)}static initializeKeyPad(e,a,u,d,g){if(g==null||g.length!==t.keyPadKeyEnabledLength)throw Object.defineProperty(new Error("invalid keyEnabled"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});const P=d,I=0|(g[8]?1:0),T=(g[7]?128:0)|(g[6]?64:0)|(g[5]?32:0)|(g[4]?16:0)|(g[3]?8:0)|(g[2]?4:0)|(g[1]?2:0)|(g[0]?1:0)|0;return new t(e,o.WacomGSS.STU.Protocol.OperationModeType.KeyPad_$LI$(),a,u,P,I,T)}static initializeSignature(e,a,u,d){if(d==null||d.length!==t.sigKeyEnabledLength)throw Object.defineProperty(new Error("invalid keyEnabled"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});const g=(d[2]?4:0)|(d[1]?2:0)|(d[0]?1:0)|0;return new t(e,o.WacomGSS.STU.Protocol.OperationModeType.Signature_$LI$(),a,u,g,0,0)}static initializeMessageBox(e,a){return new t(e,o.WacomGSS.STU.Protocol.OperationModeType.MessageBox_$LI$(),!1,a,0,0,0)}}t.keyPadKeyEnabledLength=9,t.sigKeyEnabledLength=3,t.dataBytes=3,m.RomStartImageData=t,t.__class="com.WacomGSS.STU.Protocol.RomStartImageData"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t extends o.WacomGSS.STU.STUException{constructor(e,a){super(),Object.setPrototypeOf(this,t.prototype),this.returnValueStatus===void 0&&(this.returnValueStatus=0),this.sendHint===void 0&&(this.sendHint=null),this.returnValueStatus=e,this.sendHint=(u=>{if(u.clone!=null)return u.clone();{let d=Object.create(u);for(let g in u)u.hasOwnProperty(g)&&(d[g]=u[g]);return d}})(a)}getReturnValueStatus(){return this.returnValueStatus}getSendHint(){return(e=>{if(e.clone!=null)return e.clone();{let a=Object.create(e);for(let u in e)e.hasOwnProperty(u)&&(a[u]=e[u]);return a}})(this.sendHint)}}m.SendException=t,t.__class="com.WacomGSS.STU.Protocol.SendException",t.__interfaces=["java.io.Serializable"]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a){if(typeof e!="number"&&e!==null||typeof a!="number"&&a!==null){if(e!==void 0||a!==void 0)throw new Error("invalid overload");this.packetId===void 0&&(this.packetId=0),this.reportId===void 0&&(this.reportId=0),this.packetId=0,this.reportId=0}else this.packetId===void 0&&(this.packetId=0),this.reportId===void 0&&(this.reportId=0),this.packetId=e,this.reportId=a}getPacketId(){return this.packetId}getReportId(){return this.reportId}clone(){return new t(this.packetId,this.reportId)}}m.SendHint=t,t.__class="com.WacomGSS.STU.Protocol.SendHint",t.__interfaces=["java.lang.Cloneable"]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e,a,u){this.statusCode===void 0&&(this.statusCode=0),this.lastResultCode===void 0&&(this.lastResultCode=0),this.statusWord===void 0&&(this.statusWord=0),this.statusCode=e,this.lastResultCode=a,this.statusWord=u}getStatusCode(){return this.statusCode}getLastResultCode(){return this.lastResultCode}getStatusWord(){return this.statusWord}}m.Status=t,t.__class="com.WacomGSS.STU.Protocol.Status"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{static Ready_$LI$(){return t.Ready==null&&(t.Ready=0),t.Ready}static Image_$LI$(){return t.Image==null&&(t.Image=1),t.Image}static Capture_$LI$(){return t.Capture==null&&(t.Capture=2),t.Capture}static Calculation_$LI$(){return t.Calculation==null&&(t.Calculation=3),t.Calculation}static Image_Boot_$LI$(){return t.Image_Boot==null&&(t.Image_Boot=4),t.Image_Boot}static RomBusy_$LI$(){return t.RomBusy==null&&(t.RomBusy=5),t.RomBusy}static SystemReset_$LI$(){return t.SystemReset==null&&(t.SystemReset=255),t.SystemReset}}m.StatusCode=t,t.__class="com.WacomGSS.STU.Protocol.StatusCode"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{static Ready_$LI$(){return t.Ready==null&&(t.Ready=0),t.Ready}static Calculating_$LI$(){return t.Calculating==null&&(t.Calculating=250),t.Calculating}static Even_$LI$(){return t.Even==null&&(t.Even=251),t.Even}static Long_$LI$(){return t.Long==null&&(t.Long=252),t.Long}static Short_$LI$(){return t.Short==null&&(t.Short=253),t.Short}static Invalid_$LI$(){return t.Invalid==null&&(t.Invalid=254),t.Invalid}static NotReady_$LI$(){return t.NotReady==null&&(t.NotReady=255),t.NotReady}}m.StatusCodeRSA=t,t.__class="com.WacomGSS.STU.Protocol.StatusCodeRSA"})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){let t;(function(e){e[e.AES128=0]="AES128",e[e.AES192=1]="AES192",e[e.AES256=2]="AES256"})(t=m.SymmetricKeyType||(m.SymmetricKeyType={}));class c{constructor(a,u,d){this._$ordinal=a,this._$name=u,this.value===void 0&&(this.value=0),this.value=d}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(a){return this._$ordinal-(isNaN(a)?a._$ordinal:a)}}m.SymmetricKeyType_$WRAPPER=c,t.__class="com.WacomGSS.STU.Protocol.SymmetricKeyType",t.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],t._$wrappers=[new c(0,"AES128",0),new c(1,"AES192",1),new c(2,"AES256",2)]})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e){this.intf===void 0&&(this.intf=null),this.intf=e}static B0(e){return 255&e|0}static B1(e){return e>>8&255|0}static B2(e){return e>>16&255|0}static B3(e){return e>>24&255|0}static I$byte(e){return 255&e}static I$byte$byte(e,a){return t.I$byte(e)<<8|t.I$byte(a)}static I$byte$byte$byte$byte(e,a,u,d){return t.I$byte(e)<<24|t.I$byte(a)<<16|t.I$byte(u)<<8|t.I$byte(d)}static I(e,a,u,d){if(typeof e!="number"&&e!==null||typeof a!="number"&&a!==null||typeof u!="number"&&u!==null||typeof d!="number"&&d!==null){if(typeof e!="number"&&e!==null||typeof a!="number"&&a!==null||u!==void 0||d!==void 0){if(typeof e!="number"&&e!==null||a!==void 0||u!==void 0||d!==void 0)throw new Error("invalid overload");return o.WacomGSS.STU.Protocol.TlsProtocol.I$byte(e)}return o.WacomGSS.STU.Protocol.TlsProtocol.I$byte$byte(e,a)}return o.WacomGSS.STU.Protocol.TlsProtocol.I$byte$byte$byte$byte(e,a,u,d)}static S(e,a){return 65535&t.I$byte$byte(e,a)|0}getInterface(){return this.intf}setInterface(e){this.intf=e}static makeSendHint(e){const a=e.length>=6?t.decodeReport_packetId(e):0,u=e.length>=7&&(a===t.PacketId.Legacy_GetFeature_$LI$()||a===t.PacketId.Legacy_SetFeature_$LI$())?e[6]:0;return new o.WacomGSS.STU.Protocol.SendHint(a,u)}static setPacketHeader(e,a){e[0]=t.B3(e.length),e[1]=t.B2(e.length),e[2]=t.B1(e.length),e[3]=t.B0(e.length),e[4]=t.B1(a),e[5]=t.B0(a)}static decodeReport_size(e){return t.I$byte$byte$byte$byte(e[0],e[1],e[2],e[3])}static decodeReport_packetId(e){return t.S(e[4],e[5])}static decodeReport_returnValueStatus(e){return t.S(e[6],e[7])}static decodeReport_ReturnValue(e){return new t.ReturnValue(t.decodeReport_size(e),t.decodeReport_packetId(e),t.decodeReport_returnValueStatus(e))}static decodeReport_ReturnValue_ProtocolVersion(e){const a=t.S(e[8],e[9]),u=(e.length-10)/2|0,d=(g=>{let P=[];for(;g-- >0;)P.push(0);return P})(u);for(let g=0;g<u;++g)d[g]=t.S(e[10+2*g],e[11+2*g]);return new t.ReturnValue_ProtocolVersion(t.decodeReport_ReturnValue(e),a,d)}static decodeReport_ReturnValue_Pending(e){const a=t.S(e[8],e[9]),u=e[10];return new t.ReturnValue_Pending(t.decodeReport_ReturnValue(e),a,u)}static decodeReport_ReturnValue_GenerateCSR(e){const a=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(e.length-8);return((u,d,g,P,I)=>{if(u!==g||P>=d+I)for(;--I>=0;)g[P++]=u[d++];else{let T=u.slice(d,d+I);for(let $=0;$<I;$++)g[P++]=T[$]}})(e,8,a,0,a.length),new t.ReturnValue_GenerateCSR(t.decodeReport_ReturnValue(e),a)}static decodeReport_ReturnValue_CurrentCertificate(e){const a=e[8],u=(d=>{let g=[];for(;d-- >0;)g.push(0);return g})(e.length-9);return((d,g,P,I,T)=>{if(d!==P||I>=g+T)for(;--T>=0;)P[I++]=d[g++];else{let $=d.slice(g,g+T);for(let G=0;G<T;G++)P[I++]=$[G]}})(e,9,u,0,u.length),new t.ReturnValue_CurrentCertificate(t.decodeReport_ReturnValue(e),a,u)}static decodeReport$byte_A$com_WacomGSS_STU_Protocol_TlsProtocol_ReturnValue(e,a){t.decodeReport_ReturnValue(e)}static decodeReport$byte_A$com_WacomGSS_STU_Protocol_TlsProtocol_ReturnValue_ProtocolVersion(e,a){t.decodeReport_ReturnValue_ProtocolVersion(e)}static decodeReport(e,a){if((e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)&&(a!=null&&a instanceof o.WacomGSS.STU.Protocol.TlsProtocol.ReturnValue_ProtocolVersion||a===null))return o.WacomGSS.STU.Protocol.TlsProtocol.decodeReport$byte_A$com_WacomGSS_STU_Protocol_TlsProtocol_ReturnValue_ProtocolVersion(e,a);if((e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)&&(a!=null&&a instanceof o.WacomGSS.STU.Protocol.TlsProtocol.ReturnValue_Pending||a===null))return o.WacomGSS.STU.Protocol.TlsProtocol.decodeReport$byte_A$com_WacomGSS_STU_Protocol_TlsProtocol_ReturnValue_Pending(e,a);if((e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)&&(a!=null&&a instanceof o.WacomGSS.STU.Protocol.TlsProtocol.ReturnValue_GenerateCSR||a===null))return o.WacomGSS.STU.Protocol.TlsProtocol.decodeReport$byte_A$com_WacomGSS_STU_Protocol_TlsProtocol_ReturnValue_GenerateCSR(e,a);if((e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)&&(a!=null&&a instanceof o.WacomGSS.STU.Protocol.TlsProtocol.ReturnValue_CurrentCertificate||a===null))return o.WacomGSS.STU.Protocol.TlsProtocol.decodeReport$byte_A$com_WacomGSS_STU_Protocol_TlsProtocol_ReturnValue_CurrentCertificate(e,a);if((e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)&&(a!=null&&a instanceof o.WacomGSS.STU.Protocol.TlsProtocol.ReturnValue||a===null))return o.WacomGSS.STU.Protocol.TlsProtocol.decodeReport$byte_A$com_WacomGSS_STU_Protocol_TlsProtocol_ReturnValue(e,a);throw new Error("invalid overload")}static decodeReport$byte_A$com_WacomGSS_STU_Protocol_TlsProtocol_ReturnValue_Pending(e,a){t.decodeReport_ReturnValue_Pending(e)}static decodeReport$byte_A$com_WacomGSS_STU_Protocol_TlsProtocol_ReturnValue_GenerateCSR(e,a){t.decodeReport_ReturnValue_GenerateCSR(e)}static decodeReport$byte_A$com_WacomGSS_STU_Protocol_TlsProtocol_ReturnValue_CurrentCertificate(e,a){t.decodeReport_ReturnValue_CurrentCertificate(e)}sendProtocolVersion(e){const a=(d=>{let g=[];for(;d-- >0;)g.push(0);return g})(t.PACKET_HEADER_SIZE+2);t.setPacketHeader(a,t.PacketId.ProtocolVersion_$LI$()),a[6]=t.B1(e),a[7]=t.B0(e);const u=this.intf.send$byte_A(a);return t.decodeReport_ReturnValue_ProtocolVersion(u)}sendGenerateCSR(e,a,u,d,g,P,I,T,$){const G=[a.split("").map(Q=>Q.charCodeAt(0)),u.split("").map(Q=>Q.charCodeAt(0)),d.split("").map(Q=>Q.charCodeAt(0)),g.split("").map(Q=>Q.charCodeAt(0)),P.split("").map(Q=>Q.charCodeAt(0)),I.split("").map(Q=>Q.charCodeAt(0)),T.split("").map(Q=>Q.charCodeAt(0)),$.split("").map(Q=>Q.charCodeAt(0))],O=a.length+u.length+d.length+g.length+P.length+I.length+T.length+$.length,x=(Q=>{let fe=[];for(;Q-- >0;)fe.push(0);return fe})(t.PACKET_HEADER_SIZE+2+8+O);t.setPacketHeader(x,t.PacketId.GenerateCSR_$LI$()),x[6]=t.B1(e),x[7]=t.B0(e);let j=8;for(let Q=0;Q<G.length;++Q)((fe,me,pe,le,J)=>{if(fe!==pe||le>=me+J)for(;--J>=0;)pe[le++]=fe[me++];else{let ye=fe.slice(me,me+J);for(let ue=0;ue<J;ue++)pe[le++]=ye[ue]}})(G[j],0,x,j,G[j].length),j+=G[j].length,x[j++]=0;return this.intf.send$byte_A$com_WacomGSS_STU_InterfaceTLS_InterfaceQueueSelector(x,o.WacomGSS.STU.InterfaceTLS.InterfaceQueueSelector.tag)}sendGenerateCSR_Cancel(){const e=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(t.PACKET_HEADER_SIZE);t.setPacketHeader(e,t.PacketId.GenerateCSR_Cancel_$LI$());const a=this.intf.send$byte_A(e);return t.decodeReport_ReturnValue(a)}sendImportCertificate(e,a){const u=(g=>{let P=[];for(;g-- >0;)P.push(0);return P})(t.PACKET_HEADER_SIZE+1+a.length);t.setPacketHeader(u,t.PacketId.ImportCertificate_$LI$()),u[6]=o.WacomGSS.STU.Protocol.TlsProtocol.ClientAuthentication._$wrappers[e].getValue(),((g,P,I,T,$)=>{if(g!==I||T>=P+$)for(;--$>=0;)I[T++]=g[P++];else{let G=g.slice(P,P+$);for(let O=0;O<$;O++)I[T++]=G[O]}})(a,0,u,7,a.length);const d=this.intf.send$byte_A(u);return t.decodeReport_ReturnValue(d)}sendDestroyCertificate(){const e=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(t.PACKET_HEADER_SIZE);t.setPacketHeader(e,t.PacketId.DestroyCertificate_$LI$());const a=this.intf.send$byte_A(e);return t.decodeReport_ReturnValue(a)}sendUpdateCRL(e){const a=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(t.PACKET_HEADER_SIZE+e.length);return t.setPacketHeader(a,t.PacketId.UpdateCRL_$LI$()),((u,d,g,P,I)=>{if(u!==g||P>=d+I)for(;--I>=0;)g[P++]=u[d++];else{let T=u.slice(d,d+I);for(let $=0;$<I;$++)g[P++]=T[$]}})(e,0,a,6,e.length),this.intf.send$byte_A$com_WacomGSS_STU_InterfaceTLS_InterfaceQueueSelector(a,o.WacomGSS.STU.InterfaceTLS.InterfaceQueueSelector.tag)}sendDeleteCRL(){const e=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(t.PACKET_HEADER_SIZE);t.setPacketHeader(e,t.PacketId.DeleteCRL_$LI$());const a=this.intf.send$byte_A(e);return t.decodeReport_ReturnValue(a)}sendCurrentCertificate(){const e=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(t.PACKET_HEADER_SIZE);t.setPacketHeader(e,t.PacketId.CurrentCertificate_$LI$());const a=this.intf.send$byte_A(e);return t.decodeReport_ReturnValue_CurrentCertificate(a)}}t.PACKET_HEADER_SIZE=6,m.TlsProtocol=t,t.__class="com.WacomGSS.STU.Protocol.TlsProtocol",function(c){class e{constructor(){}static ProtocolVersion_$LI$(){return e.ProtocolVersion==null&&(e.ProtocolVersion=1),e.ProtocolVersion}static GenerateCSR_$LI$(){return e.GenerateCSR==null&&(e.GenerateCSR=16),e.GenerateCSR}static GenerateCSR_Cancel_$LI$(){return e.GenerateCSR_Cancel==null&&(e.GenerateCSR_Cancel=17),e.GenerateCSR_Cancel}static ImportCertificate_$LI$(){return e.ImportCertificate==null&&(e.ImportCertificate=18),e.ImportCertificate}static DestroyCertificate_$LI$(){return e.DestroyCertificate==null&&(e.DestroyCertificate=19),e.DestroyCertificate}static UpdateCRL_$LI$(){return e.UpdateCRL==null&&(e.UpdateCRL=20),e.UpdateCRL}static DeleteCRL_$LI$(){return e.DeleteCRL==null&&(e.DeleteCRL=21),e.DeleteCRL}static CurrentCertificate_$LI$(){return e.CurrentCertificate==null&&(e.CurrentCertificate=22),e.CurrentCertificate}static ReturnValue_$LI$(){return e.ReturnValue==null&&(e.ReturnValue=128),e.ReturnValue}static Legacy_GetFeature_$LI$(){return e.Legacy_GetFeature==null&&(e.Legacy_GetFeature=258),e.Legacy_GetFeature}static Legacy_SetFeature_$LI$(){return e.Legacy_SetFeature==null&&(e.Legacy_SetFeature=259),e.Legacy_SetFeature}static Legacy_PenData_$LI$(){return e.Legacy_PenData==null&&(e.Legacy_PenData=260),e.Legacy_PenData}static Legacy_EventData_$LI$(){return e.Legacy_EventData==null&&(e.Legacy_EventData=261),e.Legacy_EventData}static Legacy_Write_$LI$(){return e.Legacy_Write==null&&(e.Legacy_Write=262),e.Legacy_Write}}c.PacketId=e,e.__class="com.WacomGSS.STU.Protocol.TlsProtocol.PacketId";class a{constructor(){}static Success_$LI$(){return a.Success==null&&(a.Success=0),a.Success}static Pending_$LI$(){return a.Pending==null&&(a.Pending=16385),a.Pending}static Pending_CSR_$LI$(){return a.Pending_CSR==null&&(a.Pending_CSR=16386),a.Pending_CSR}static CSR_$LI$(){return a.CSR==null&&(a.CSR=16387),a.CSR}static Pending_CRL_$LI$(){return a.Pending_CRL==null&&(a.Pending_CRL=16388),a.Pending_CRL}static Error_$LI$(){return a.Error==null&&(a.Error=32768),a.Error}static Error_Busy_$LI$(){return a.Error_Busy==null&&(a.Error_Busy=32769),a.Error_Busy}static Error_Unspecified_$LI$(){return a.Error_Unspecified==null&&(a.Error_Unspecified=65535),a.Error_Unspecified}}c.ReturnValueStatus=a,a.__class="com.WacomGSS.STU.Protocol.TlsProtocol.ReturnValueStatus";class u{constructor(O,x,j){this.size===void 0&&(this.size=0),this.packetId===void 0&&(this.packetId=0),this.returnValueStatus===void 0&&(this.returnValueStatus=0),this.size=O,this.packetId=x,this.returnValueStatus=j}getSize(){return this.size}getPacketId(){return this.packetId}getReturnValueStatus(){return this.returnValueStatus}}let d;c.ReturnValue=u,u.__class="com.WacomGSS.STU.Protocol.TlsProtocol.ReturnValue",function(G){G[G.Single=0]="Single",G[G.Mutual=1]="Mutual"}(d=c.ClientAuthentication||(c.ClientAuthentication={}));class g{constructor(O,x,j){this._$ordinal=O,this._$name=x,this.value===void 0&&(this.value=0),this.value=j}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(O){return this._$ordinal-(isNaN(O)?O._$ordinal:O)}}c.ClientAuthentication_$WRAPPER=g,d.__class="com.WacomGSS.STU.Protocol.TlsProtocol.ClientAuthentication",d.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],d._$wrappers=[new g(0,"Single",0),new g(1,"Mutual",1)];class P extends c.ReturnValue{constructor(O,x,j){super(O.getSize(),O.getPacketId(),O.getReturnValueStatus()),this.activeLevel===void 0&&(this.activeLevel=0),this.supportedLevels===void 0&&(this.supportedLevels=null),this.activeLevel=x,this.supportedLevels=j.slice(0)}getActiveLevel(){return this.activeLevel}getSupportedLevels(){return this.supportedLevels.slice(0)}}c.ReturnValue_ProtocolVersion=P,P.__class="com.WacomGSS.STU.Protocol.TlsProtocol.ReturnValue_ProtocolVersion";class I extends c.ReturnValue{constructor(O,x,j){super(O.getSize(),O.getPacketId(),O.getReturnValueStatus()),this.counter===void 0&&(this.counter=0),this.statusFlags===void 0&&(this.statusFlags=0),this.counter=x,this.statusFlags=j}getCounter(){return this.counter}getStatusFlags(){return this.statusFlags}}c.ReturnValue_Pending=I,I.__class="com.WacomGSS.STU.Protocol.TlsProtocol.ReturnValue_Pending";class T extends c.ReturnValue{constructor(O,x){super(O.getSize(),O.getPacketId(),O.getReturnValueStatus()),this.csr===void 0&&(this.csr=null),this.csr=x.slice(0)}getCSR(){return this.csr.slice(0)}}c.ReturnValue_GenerateCSR=T,T.__class="com.WacomGSS.STU.Protocol.TlsProtocol.ReturnValue_GenerateCSR";class $ extends c.ReturnValue{constructor(O,x,j){super(O.getSize(),O.getPacketId(),O.getReturnValueStatus()),this.certificateIndex===void 0&&(this.certificateIndex=0),this.certificateDER===void 0&&(this.certificateDER=null),this.certificateIndex=x,this.certificateDER=j.slice(0)}getCertificateIndex(){return this.certificateIndex}getCertificateDER(){return this.certificateDER.slice(0)}}c.ReturnValue_CurrentCertificate=$,$.__class="com.WacomGSS.STU.Protocol.TlsProtocol.ReturnValue_CurrentCertificate"}(t=m.TlsProtocol||(m.TlsProtocol={}))})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){class t{constructor(e){this.intf===void 0&&(this.intf=null),this.intf=e}static B0(e){return 255&e|0}static B1(e){return e>>8&255|0}static B2(e){return e>>16&255|0}static B3(e){return e>>24&255|0}static I$byte(e){return 255&e}static I$byte$byte(e,a){return t.I$byte(e)<<8|t.I$byte(a)}static I$byte$byte$byte$byte(e,a,u,d){return t.I$byte(e)<<24|t.I$byte(a)<<16|t.I$byte(u)<<8|t.I$byte(d)}static I(e,a,u,d){if(typeof e!="number"&&e!==null||typeof a!="number"&&a!==null||typeof u!="number"&&u!==null||typeof d!="number"&&d!==null){if(typeof e!="number"&&e!==null||typeof a!="number"&&a!==null||u!==void 0||d!==void 0){if(typeof e!="number"&&e!==null||a!==void 0||u!==void 0||d!==void 0)throw new Error("invalid overload");return o.WacomGSS.STU.Protocol.TlsProtocolOOB.I$byte(e)}return o.WacomGSS.STU.Protocol.TlsProtocolOOB.I$byte$byte(e,a)}return o.WacomGSS.STU.Protocol.TlsProtocolOOB.I$byte$byte$byte$byte(e,a,u,d)}static S(e,a){return 65535&t.I$byte$byte(e,a)|0}getInterface(){return this.intf}setInterface(e){this.intf=e}getDescriptor(){const e=[t.ReportId.Descriptor_$LI$(),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.intf.getOOB(e);const a={str:"",toString:function(){return this.str}};for(let d=0;d<7&&e[15+d]!==0;++d)(u=a).str=u.str.concat(String.fromCharCode(t.I$byte(e[15+d])));var u;return new t.Descriptor(t.I$byte$byte$byte$byte(e[1],e[2],e[3],e[4]),t.S(e[5],e[6]),t.S(e[7],e[8]),t.S(e[9],e[10]),t.S(e[11],e[12]),a.str)}getStatus(){const e=[t.ReportId.Status_$LI$(),0,0,0,0,0,0];return this.intf.getOOB(e),new t.Status(t.S(e[1],e[2]),t.I$byte$byte$byte$byte(e[3],e[4],e[5],e[6]))}getFactoryReset(){const e=[t.ReportId.FactoryReset_$LI$(),0,0,0,0];return this.intf.getOOB(e),t.I$byte$byte$byte$byte(e[1],e[2],e[3],e[4])}setFactoryReset(e){const a=[t.ReportId.FactoryReset_$LI$(),t.B3(e),t.B2(e),t.B1(e),t.B0(e)];this.intf.setOOB(a)}setFirmwareUpdate(e){const a=[t.ReportId.FirmwareUpdate_$LI$(),t.B3(e),t.B2(e),t.B1(e),t.B0(e)];this.intf.setOOB(a)}setReset(e){const a=[t.ReportId.Reset_$LI$(),o.WacomGSS.STU.Protocol.TlsProtocolOOB.ResetFlag._$wrappers[e].getValue()];this.intf.setOOB(a)}getReportSizeCollection(){let e=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(512);e[0]=t.ReportId.ReportSizeCollection_$LI$(),e=this.intf.getOOB(e);const a=(u=>{let d=[];for(;u-- >0;)d.push(0);return d})(256);a[0]=0;for(let u=1;u<=255;++u)a[u]=t.I$byte$byte(e[0+2*u],e[1+2*u]);return a}}m.TlsProtocolOOB=t,t.__class="com.WacomGSS.STU.Protocol.TlsProtocolOOB",function(c){class e{constructor(){}static Descriptor_$LI$(){return e.Descriptor==null&&(e.Descriptor=1),e.Descriptor}static Status_$LI$(){return e.Status==null&&(e.Status=2),e.Status}static Reset_$LI$(){return e.Reset==null&&(e.Reset=3),e.Reset}static FactoryResetKey_$LI$(){return e.FactoryResetKey==null&&(e.FactoryResetKey=14),e.FactoryResetKey}static FactoryReset_$LI$(){return e.FactoryReset==null&&(e.FactoryReset=15),e.FactoryReset}static FirmwareUpdate_$LI$(){return e.FirmwareUpdate==null&&(e.FirmwareUpdate=128),e.FirmwareUpdate}static ReportSizeCollection_$LI$(){return e.ReportSizeCollection==null&&(e.ReportSizeCollection=255),e.ReportSizeCollection}}c.ReportId=e,e.__class="com.WacomGSS.STU.Protocol.TlsProtocolOOB.ReportId";class a{constructor(I,T,$,G,O,x){this.descriptorFlags===void 0&&(this.descriptorFlags=0),this.idVendor===void 0&&(this.idVendor=0),this.idProduct===void 0&&(this.idProduct=0),this.firmwareRevisionMajor===void 0&&(this.firmwareRevisionMajor=0),this.firmwareRevisionMinor===void 0&&(this.firmwareRevisionMinor=0),this.modelName===void 0&&(this.modelName=null),this.descriptorFlags=I,this.idVendor=T,this.idProduct=$,this.firmwareRevisionMajor=G,this.firmwareRevisionMinor=O,this.modelName=x}getDescriptorFlags(){return this.descriptorFlags}getIdVendor(){return this.idVendor}getIdProduct(){return this.idProduct}getFirmwareRevisionMajor(){return this.firmwareRevisionMajor}getFirmwareRevisionMinor(){return this.firmwareRevisionMinor}getModelName(){return this.modelName}}c.Descriptor=a,a.__class="com.WacomGSS.STU.Protocol.TlsProtocolOOB.Descriptor";class u{constructor(I,T){this.oobStatus===void 0&&(this.oobStatus=0),this.oobExtendedStatus===void 0&&(this.oobExtendedStatus=0),this.oobStatus=I,this.oobExtendedStatus=T}getOobStatus(){return this.oobStatus}getOobExtendedStatus(){return this.oobExtendedStatus}}let d;c.Status=u,u.__class="com.WacomGSS.STU.Protocol.TlsProtocolOOB.Status",function(P){P[P.Connection=0]="Connection",P[P.Software=1]="Software",P[P.Hardware=2]="Hardware"}(d=c.ResetFlag||(c.ResetFlag={}));class g{constructor(I,T,$){this._$ordinal=I,this._$name=T,this.value===void 0&&(this.value=0),this.value=$}getValue(){return this.value}name(){return this._$name}ordinal(){return this._$ordinal}compareTo(I){return this._$ordinal-(isNaN(I)?I._$ordinal:I)}}c.ResetFlag_$WRAPPER=g,d.__class="com.WacomGSS.STU.Protocol.TlsProtocolOOB.ResetFlag",d.__interfaces=["java.lang.constant.Constable","java.lang.Comparable","java.io.Serializable"],d._$wrappers=[new g(0,"Connection",0),new g(1,"Software",1),new g(2,"Hardware",2)]}(t=m.TlsProtocolOOB||(m.TlsProtocolOOB={}))})(s.Protocol||(s.Protocol={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m{static getProperty(c){return null}static setProperty$java_lang_String$boolean(c,e){}static setProperty$java_lang_String$byte(c,e){}static setProperty$java_lang_String$char(c,e){}static setProperty$java_lang_String$short(c,e){}static setProperty$java_lang_String$int(c,e){}static setProperty$java_lang_String$long(c,e){}static setProperty$java_lang_String$float(c,e){}static setProperty$java_lang_String$double(c,e){}static setProperty$java_lang_String$java_lang_String(c,e){}static setProperty(c,e){if(typeof c!="string"&&c!==null||typeof e!="string"&&e!==null){if(typeof c!="string"&&c!==null||!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)){if(typeof c!="string"&&c!==null||typeof e!="boolean"&&e!==null){if(typeof c!="string"&&c!==null||typeof e!="number"&&e!==null){if(typeof c!="string"&&c!==null||typeof e!="string"&&e!==null){if(typeof c!="string"&&c!==null||typeof e!="number"&&e!==null){if(typeof c!="string"&&c!==null||typeof e!="number"&&e!==null){if(typeof c!="string"&&c!==null||typeof e!="number"&&e!==null){if(typeof c!="string"&&c!==null||typeof e!="number"&&e!==null){if(typeof c!="string"&&c!==null||typeof e!="number"&&e!==null){if(typeof c!="string"&&c!==null||e==null&&e!==null)throw new Error("invalid overload");return o.WacomGSS.STU.Component.setProperty$java_lang_String$java_lang_Object(c,e)}return o.WacomGSS.STU.Component.setProperty$java_lang_String$double(c,e)}return o.WacomGSS.STU.Component.setProperty$java_lang_String$float(c,e)}return o.WacomGSS.STU.Component.setProperty$java_lang_String$long(c,e)}return o.WacomGSS.STU.Component.setProperty$java_lang_String$int(c,e)}return o.WacomGSS.STU.Component.setProperty$java_lang_String$short(c,e)}return o.WacomGSS.STU.Component.setProperty$java_lang_String$char(c,e)}return o.WacomGSS.STU.Component.setProperty$java_lang_String$byte(c,e)}return o.WacomGSS.STU.Component.setProperty$java_lang_String$boolean(c,e)}return o.WacomGSS.STU.Component.setProperty$java_lang_String$byte_A(c,e)}return o.WacomGSS.STU.Component.setProperty$java_lang_String$java_lang_String(c,e)}static setProperty$java_lang_String$byte_A(c,e){}static setProperty$java_lang_String$java_lang_Object(c,e){}static getComponentFiles(){return null}static diagnosticInformation(c){return null}}s.Component=m,m.__class="com.WacomGSS.STU.Component",function(t){class c{constructor(a,u){this.name===void 0&&(this.name=null),this.version===void 0&&(this.version=null),this.name=a,this.version=u}getName(){return this.name}getVersion(){return this.version}}t.ComponentFile=c,c.__class="com.WacomGSS.STU.Component.ComponentFile"}(m=s.Component||(s.Component={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m extends o.WacomGSS.STU.STUException{constructor(c,e){if(typeof c!="string"&&c!==null||!(e!=null&&e.__classes&&e.__classes.indexOf("java.lang.Throwable")>=0||e!=null&&e instanceof Error||e===null))if(typeof c!="string"&&c!==null||e!==void 0)if((c!=null&&c.__classes&&c.__classes.indexOf("java.lang.Throwable")>=0||c!=null&&c instanceof Error||c===null)&&e===void 0)super(arguments[0]);else{if(c!==void 0||e!==void 0)throw new Error("invalid overload");super()}else super(c);else super(c,e)}}s.DeviceRemovedException=m,m.__class="com.WacomGSS.STU.DeviceRemovedException",m.__interfaces=["java.io.Serializable"]})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m extends o.WacomGSS.STU.STUException{constructor(c,e){if(typeof c!="string"&&c!==null||!(e!=null&&e.__classes&&e.__classes.indexOf("java.lang.Throwable")>=0||e!=null&&e instanceof Error||e===null))if(typeof c!="string"&&c!==null||e!==void 0)if((c!=null&&c.__classes&&c.__classes.indexOf("java.lang.Throwable")>=0||c!=null&&c instanceof Error||c===null)&&e===void 0)super(arguments[0]);else{if(c!==void 0||e!==void 0)throw new Error("invalid overload");super()}else super(c);else super(c,e)}}s.ErrorCodeException=m,m.__class="com.WacomGSS.STU.ErrorCodeException",m.__interfaces=["java.io.Serializable"]})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m{constructor(c){this.handlers===void 0&&(this.handlers=null),this.handlers=[],c.setRunnable(this)}run(c,e){this.handlers.length!=0&&new o.WacomGSS.STU.InterfaceHandler.InterfaceDispatch(this.handlers,c,e).run()}stop(){try{this.handlers.length=0,this.interfaceQueue.set_predicate(!0),this.interfaceQueue.notifyAll_getReport()}finally{}}addInterfaceHandler(c){this.handlers.push(c)}removeInterfaceHandler(c){(e=>{let a=e.indexOf(c);a>=0&&e.splice(a,1)})(this.handlers)}}s.InterfaceHandler=m,m.__class="com.WacomGSS.STU.InterfaceHandler",m.__interfaces=["java.lang.Runnable"],function(t){class c{constructor(a,u,d){if((a!=null&&a instanceof Array||a===null)&&(u!=null&&u instanceof Array&&(u.length==0||u[0]==null||typeof u[0]=="number")||u===null))this.handlers===void 0&&(this.handlers=null),this.report===void 0&&(this.report=null),this.handlers=a.slice(0),this.report=new o.WacomGSS.STU.Report(u),this.time=d;else{if(!(a!=null&&a instanceof Array||a===null)||!(u!=null&&u instanceof o.WacomGSS.STU.STUException||u===null))throw new Error("invalid overload");{let g=arguments[1];this.handlers===void 0&&(this.handlers=null),this.report===void 0&&(this.report=null),this.handlers=a.slice(0),this.report=new o.WacomGSS.STU.Report(g)}}}run(){if(this.handlers!=null)for(let a=0;a<this.handlers.length;a++){let u=this.handlers[a];try{u.onReport(this.report,this.time)}catch{}}}}t.InterfaceDispatch=c,c.__class="com.WacomGSS.STU.InterfaceHandler.InterfaceDispatch",c.__interfaces=["java.lang.Runnable"]}(m=s.InterfaceHandler||(s.InterfaceHandler={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m{constructor(){this.reports=[],this.promise=null,this.outsideResolve}getReport(c,e){this.promise?(this.outsideResolve(c),this.promise=null):this.runnable&&this.runnable.run(c,e)}setRunnable(c){this.runnable=c}clear(){}isEmpty(){return!0}notify_getReport(){}notifyAll_getReport(){}try_getReport(){return this.reports.length>0?this.reports.shift():null}async wait_until_getReport(c){return this.promise=new Promise((e,a)=>{this.outsideResolve=e}),this.promise}get_predicate(){return!1}set_predicate(c){}wait_getReport_predicate(){return null}}s.InterfaceQueue=m,m.__class="com.WacomGSS.STU.InterfaceQueue"})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){(function(m){(function(t){t[t.OOB=0]="OOB",t[t.SSL=1]="SSL"})(m.ConnectOption||(m.ConnectOption={})),function(t){t[t.tag=0]="tag"}(m.InterfaceQueueSelector||(m.InterfaceQueueSelector={}))})(s.InterfaceTLS||(s.InterfaceTLS={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m extends o.WacomGSS.STU.STUException{constructor(c,e){if(typeof c!="string"&&c!==null||!(e!=null&&e.__classes&&e.__classes.indexOf("java.lang.Throwable")>=0||e!=null&&e instanceof Error||e===null))if(typeof c!="string"&&c!==null||e!==void 0)if((c!=null&&c.__classes&&c.__classes.indexOf("java.lang.Throwable")>=0||c!=null&&c instanceof Error||c===null)&&e===void 0)super(arguments[0]);else{if(c!==void 0||e!==void 0)throw new Error("invalid overload");super()}else super(c);else super(c,e)}}s.IOErrorException=m,m.__class="com.WacomGSS.STU.IOErrorException",m.__interfaces=["java.io.Serializable"]})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m extends o.WacomGSS.STU.STUException{constructor(c,e){if(typeof c!="string"&&c!==null||!(e!=null&&e.__classes&&e.__classes.indexOf("java.lang.Throwable")>=0||e!=null&&e instanceof Error||e===null))if(typeof c!="string"&&c!==null||e!==void 0)if((c!=null&&c.__classes&&c.__classes.indexOf("java.lang.Throwable")>=0||c!=null&&c instanceof Error||c===null)&&e===void 0)super(arguments[0]);else{if(c!==void 0||e!==void 0)throw new Error("invalid overload");super()}else super(c);else super(c,e)}}s.NotConnectedException=m,m.__class="com.WacomGSS.STU.NotConnectedException",m.__interfaces=["java.io.Serializable"]})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m extends o.WacomGSS.STU.STUException{constructor(c,e){if(typeof c!="string"&&c!==null||!(e!=null&&e.__classes&&e.__classes.indexOf("java.lang.Throwable")>=0||e!=null&&e instanceof Error||e===null))if(typeof c!="string"&&c!==null||e!==void 0)if((c!=null&&c.__classes&&c.__classes.indexOf("java.lang.Throwable")>=0||c!=null&&c instanceof Error||c===null)&&e===void 0)super(arguments[0]);else{if(c!==void 0||e!==void 0)throw new Error("invalid overload");super()}else super(c);else super(c,e)}}s.NotSupportedException=m,m.__class="com.WacomGSS.STU.NotSupportedException",m.__interfaces=["java.io.Serializable"]})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m{constructor(c){if(c!=null&&c instanceof Array&&(c.length==0||c[0]==null||typeof c[0]=="number")||c===null)this.report===void 0&&(this.report=null),this.e===void 0&&(this.e=null),this.report=c.slice(0),this.e=null;else{if(!(c!=null&&c instanceof o.WacomGSS.STU.STUException||c===null))throw new Error("invalid overload");{let e=arguments[0];this.report===void 0&&(this.report=null),this.e===void 0&&(this.e=null),this.report=null,this.e=e}}}getReport(){if(this.e!=null)throw this.e;return this.report.slice(0)}}s.Report=m,m.__class="com.WacomGSS.STU.Report"})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m extends o.WacomGSS.STU.STUException{constructor(c,e){if(typeof c!="string"&&c!==null||!(e!=null&&e.__classes&&e.__classes.indexOf("java.lang.Throwable")>=0||e!=null&&e instanceof Error||e===null))if(typeof c!="string"&&c!==null||e!==void 0)if((c!=null&&c.__classes&&c.__classes.indexOf("java.lang.Throwable")>=0||c!=null&&c instanceof Error||c===null)&&e===void 0)super(arguments[0]);else{if(c!==void 0||e!==void 0)throw new Error("invalid overload");super()}else super(c);else super(c,e)}}s.SetErrorException=m,m.__class="com.WacomGSS.STU.SetErrorException",m.__interfaces=["java.io.Serializable"]})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m{constructor(c,e){if((c!=null&&c.constructor!=null&&c.constructor.__interfaces!=null&&c.constructor.__interfaces.indexOf("com.WacomGSS.STU.Tablet.IEncryptionHandler")>=0||c===null)&&(e!=null&&e.constructor!=null&&e.constructor.__interfaces!=null&&e.constructor.__interfaces.indexOf("com.WacomGSS.STU.Tablet.IEncryptionHandler2")>=0||e===null))this.encryptionHandler===void 0&&(this.encryptionHandler=null),this.encryptionHandler2===void 0&&(this.encryptionHandler2=null),this.protocol===void 0&&(this.protocol=null),this.isTls===void 0&&(this.isTls=!1),this.reportCountLengths===void 0&&(this.reportCountLengths=null),this.maxImageBlockSize===void 0&&(this.maxImageBlockSize=0),this.status===void 0&&(this.status=null),this.sessionId===void 0&&(this.sessionId=0),this.retries===void 0&&(this.retries=0),this.sleepBetweenRetries===void 0&&(this.sleepBetweenRetries=0),this.interfaceHandler===void 0&&(this.interfaceHandler=null),this.reportHandler===void 0&&(this.reportHandler=null),this.tabletHandlers===void 0&&(this.tabletHandlers=null),this.encryptionType===void 0&&(this.encryptionType=null),this.asymmetricKeySizeBytes===void 0&&(this.asymmetricKeySizeBytes=0),this.sessionId=0,this.retries=25,this.sleepBetweenRetries=50,this.interfaceHandler=null,this.reportHandler=new o.WacomGSS.STU.Protocol.ReportHandler,this.reportHandler.addReportHandler(this),this.maxImageBlockSize=0,this.tabletHandlers=[],this.encryptionHandler=null,this.encryptionHandler2=null,this.encryptionType=m.EncryptionType.Unknown,this.asymmetricKeySizeBytes=0,this.encryptionHandler===void 0&&(this.encryptionHandler=null),this.encryptionHandler2===void 0&&(this.encryptionHandler2=null),this.protocol===void 0&&(this.protocol=null),this.isTls===void 0&&(this.isTls=!1),this.reportCountLengths===void 0&&(this.reportCountLengths=null),this.maxImageBlockSize===void 0&&(this.maxImageBlockSize=0),this.status===void 0&&(this.status=null),this.sessionId===void 0&&(this.sessionId=0),this.retries===void 0&&(this.retries=0),this.sleepBetweenRetries===void 0&&(this.sleepBetweenRetries=0),this.interfaceHandler===void 0&&(this.interfaceHandler=null),this.reportHandler===void 0&&(this.reportHandler=null),this.tabletHandlers===void 0&&(this.tabletHandlers=null),this.encryptionType===void 0&&(this.encryptionType=null),this.asymmetricKeySizeBytes===void 0&&(this.asymmetricKeySizeBytes=0),this.encryptionHandler=c,this.encryptionHandler2=e;else if((c!=null&&c.constructor!=null&&c.constructor.__interfaces!=null&&c.constructor.__interfaces.indexOf("com.WacomGSS.STU.Tablet.IEncryptionHandler")>=0||c===null)&&e===void 0)this.encryptionHandler===void 0&&(this.encryptionHandler=null),this.encryptionHandler2===void 0&&(this.encryptionHandler2=null),this.protocol===void 0&&(this.protocol=null),this.isTls===void 0&&(this.isTls=!1),this.reportCountLengths===void 0&&(this.reportCountLengths=null),this.maxImageBlockSize===void 0&&(this.maxImageBlockSize=0),this.status===void 0&&(this.status=null),this.sessionId===void 0&&(this.sessionId=0),this.retries===void 0&&(this.retries=0),this.sleepBetweenRetries===void 0&&(this.sleepBetweenRetries=0),this.interfaceHandler===void 0&&(this.interfaceHandler=null),this.reportHandler===void 0&&(this.reportHandler=null),this.tabletHandlers===void 0&&(this.tabletHandlers=null),this.encryptionType===void 0&&(this.encryptionType=null),this.asymmetricKeySizeBytes===void 0&&(this.asymmetricKeySizeBytes=0),this.sessionId=0,this.retries=25,this.sleepBetweenRetries=50,this.interfaceHandler=null,this.reportHandler=new o.WacomGSS.STU.Protocol.ReportHandler,this.reportHandler.addReportHandler(this),this.maxImageBlockSize=0,this.tabletHandlers=[],this.encryptionHandler=null,this.encryptionHandler2=null,this.encryptionType=m.EncryptionType.Unknown,this.asymmetricKeySizeBytes=0,this.encryptionHandler===void 0&&(this.encryptionHandler=null),this.encryptionHandler2===void 0&&(this.encryptionHandler2=null),this.protocol===void 0&&(this.protocol=null),this.isTls===void 0&&(this.isTls=!1),this.reportCountLengths===void 0&&(this.reportCountLengths=null),this.maxImageBlockSize===void 0&&(this.maxImageBlockSize=0),this.status===void 0&&(this.status=null),this.sessionId===void 0&&(this.sessionId=0),this.retries===void 0&&(this.retries=0),this.sleepBetweenRetries===void 0&&(this.sleepBetweenRetries=0),this.interfaceHandler===void 0&&(this.interfaceHandler=null),this.reportHandler===void 0&&(this.reportHandler=null),this.tabletHandlers===void 0&&(this.tabletHandlers=null),this.encryptionType===void 0&&(this.encryptionType=null),this.asymmetricKeySizeBytes===void 0&&(this.asymmetricKeySizeBytes=0),this.encryptionHandler=c,this.encryptionHandler2=null;else if((c!=null&&c.constructor!=null&&c.constructor.__interfaces!=null&&c.constructor.__interfaces.indexOf("com.WacomGSS.STU.Tablet.IEncryptionHandler2")>=0||c===null)&&e===void 0){let a=arguments[0];this.encryptionHandler===void 0&&(this.encryptionHandler=null),this.encryptionHandler2===void 0&&(this.encryptionHandler2=null),this.protocol===void 0&&(this.protocol=null),this.isTls===void 0&&(this.isTls=!1),this.reportCountLengths===void 0&&(this.reportCountLengths=null),this.maxImageBlockSize===void 0&&(this.maxImageBlockSize=0),this.status===void 0&&(this.status=null),this.sessionId===void 0&&(this.sessionId=0),this.retries===void 0&&(this.retries=0),this.sleepBetweenRetries===void 0&&(this.sleepBetweenRetries=0),this.interfaceHandler===void 0&&(this.interfaceHandler=null),this.reportHandler===void 0&&(this.reportHandler=null),this.tabletHandlers===void 0&&(this.tabletHandlers=null),this.encryptionType===void 0&&(this.encryptionType=null),this.asymmetricKeySizeBytes===void 0&&(this.asymmetricKeySizeBytes=0),this.sessionId=0,this.retries=25,this.sleepBetweenRetries=50,this.interfaceHandler=null,this.reportHandler=new o.WacomGSS.STU.Protocol.ReportHandler,this.reportHandler.addReportHandler(this),this.maxImageBlockSize=0,this.tabletHandlers=[],this.encryptionHandler=null,this.encryptionHandler2=null,this.encryptionType=m.EncryptionType.Unknown,this.asymmetricKeySizeBytes=0,this.encryptionHandler===void 0&&(this.encryptionHandler=null),this.encryptionHandler2===void 0&&(this.encryptionHandler2=null),this.protocol===void 0&&(this.protocol=null),this.isTls===void 0&&(this.isTls=!1),this.reportCountLengths===void 0&&(this.reportCountLengths=null),this.maxImageBlockSize===void 0&&(this.maxImageBlockSize=0),this.status===void 0&&(this.status=null),this.sessionId===void 0&&(this.sessionId=0),this.retries===void 0&&(this.retries=0),this.sleepBetweenRetries===void 0&&(this.sleepBetweenRetries=0),this.interfaceHandler===void 0&&(this.interfaceHandler=null),this.reportHandler===void 0&&(this.reportHandler=null),this.tabletHandlers===void 0&&(this.tabletHandlers=null),this.encryptionType===void 0&&(this.encryptionType=null),this.asymmetricKeySizeBytes===void 0&&(this.asymmetricKeySizeBytes=0),this.encryptionHandler=null,this.encryptionHandler2=a}else{if(c!==void 0||e!==void 0)throw new Error("invalid overload");this.encryptionHandler===void 0&&(this.encryptionHandler=null),this.encryptionHandler2===void 0&&(this.encryptionHandler2=null),this.protocol===void 0&&(this.protocol=null),this.isTls===void 0&&(this.isTls=!1),this.reportCountLengths===void 0&&(this.reportCountLengths=null),this.maxImageBlockSize===void 0&&(this.maxImageBlockSize=0),this.status===void 0&&(this.status=null),this.sessionId===void 0&&(this.sessionId=0),this.retries===void 0&&(this.retries=0),this.sleepBetweenRetries===void 0&&(this.sleepBetweenRetries=0),this.interfaceHandler===void 0&&(this.interfaceHandler=null),this.reportHandler===void 0&&(this.reportHandler=null),this.tabletHandlers===void 0&&(this.tabletHandlers=null),this.encryptionType===void 0&&(this.encryptionType=null),this.asymmetricKeySizeBytes===void 0&&(this.asymmetricKeySizeBytes=0),this.sessionId=0,this.retries=25,this.sleepBetweenRetries=50,this.interfaceHandler=null,this.reportHandler=new o.WacomGSS.STU.Protocol.ReportHandler,this.reportHandler.addReportHandler(this),this.maxImageBlockSize=0,this.tabletHandlers=[],this.encryptionHandler=null,this.encryptionHandler2=null,this.encryptionType=m.EncryptionType.Unknown,this.asymmetricKeySizeBytes=0}}static I(c){return 255&c}async connect2(c){let e=0;try{try{this.isTls=c!=null&&c instanceof o.WacomGSS.STU.TlsInterface;const a=new o.WacomGSS.STU.Protocol.Protocol(c);this.status=await a.getStatus(),this.protocol=a,this.reportCountLengths=c.getReportCountLengths(),this.reportCountLengths!=null?this.maxImageBlockSize=this.reportCountLengths[o.WacomGSS.STU.Protocol.ReportId.ImageDataBlock_$LI$()]-3:this.maxImageBlockSize=o.WacomGSS.STU.Protocol.ImageDataBlock.maxLengthHID;const u=this.status.getStatusCode();if(u!==o.WacomGSS.STU.Protocol.StatusCode.Ready_$LI$()){u===o.WacomGSS.STU.Protocol.StatusCode.Image_$LI$()?this.protocol.setEndImageData$com_WacomGSS_STU_Protocol_EndImageDataFlag(o.WacomGSS.STU.Protocol.EndImageDataFlag.Abandon):u===o.WacomGSS.STU.Protocol.StatusCode.Capture_$LI$()?await this.endCapture():o.WacomGSS.STU.Protocol.StatusCode.Image_Boot_$LI$();try{await this.waitForStatus(o.WacomGSS.STU.Protocol.StatusCode.Ready_$LI$())}catch{this.protocol.setReset(o.WacomGSS.STU.Protocol.ResetFlag.Software),await this.waitForStatus(o.WacomGSS.STU.Protocol.StatusCode.Ready_$LI$())}this.status=await this.protocol.getStatus()}this.tabletHandlers.length!=0&&(this.interfaceHandler=new o.WacomGSS.STU.InterfaceHandler(c.interfaceQueue()),this.interfaceHandler.addInterfaceHandler(this))}catch(a){throw c.disconnect(),a}}catch(a){a!=null&&a instanceof o.WacomGSS.STU.STUException&&(e=-1),a!=null&&a instanceof o.WacomGSS.RuntimeException&&(e=-100),(a!=null&&a.__classes&&a.__classes.indexOf("java.lang.Throwable")>=0||a!=null&&a instanceof Error)&&(e=-666)}return e}async initializeEncryption1(){if(this.encryptionHandler.requireDH()){const c=await this.protocol.getDHprime();if(await this.checkErrorCode(),!o.WacomGSS.STU.Protocol.ProtocolHelper.supportsEncryption$com_WacomGSS_STU_Protocol_DHprime(c))throw new o.WacomGSS.STU.NotSupportedException("Tablet does not have encryption enabled");const e=await this.protocol.getDHbase();await this.checkErrorCode(),await this.encryptionHandler.setDH(c.getValue(),e.getValue())}await this.reinitializeEncryption1()}async reinitializeEncryption1(){const c=new o.WacomGSS.STU.Protocol.PublicKey(this.encryptionHandler.generateHostPublicKey());await this.waitForStatusToSend(o.WacomGSS.STU.Protocol.ReportId.HostPublicKey_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set);const e=await o.WacomGSS.STU.Protocol.ProtocolHelper.setHostPublicKeyAndPollForDevicePublicKey(this.protocol,c,this.retries,this.sleepBetweenRetries);await this.checkErrorCode(),this.encryptionHandler.computeSharedKey(e.getValue())}async initializeEncryption2(c){switch(c||(this.symmetricKeyType=this.encryptionHandler2.getSymmetricKeyType(),this.asymmetricPaddingType=this.encryptionHandler2.getAsymmetricPaddingType(),this.asymmetricKeyType=this.encryptionHandler2.getAsymmetricKeyType()),this.asymmetricKeyType){case o.WacomGSS.STU.Protocol.AsymmetricKeyType.RSA1024:this.asymmetricKeySizeBytes=128;break;case o.WacomGSS.STU.Protocol.AsymmetricKeyType.RSA1536:this.asymmetricKeySizeBytes=192;break;case o.WacomGSS.STU.Protocol.AsymmetricKeyType.RSA2048:this.asymmetricKeySizeBytes=256;break;default:throw new o.WacomGSS.RuntimeException("asymmetricKeyType unknown")}{await this.waitForStatusToSend(o.WacomGSS.STU.Protocol.ReportId.EncryptionCommand_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set);const e=await o.WacomGSS.STU.Protocol.Protocol.initializeSetEncryptionType(this.symmetricKeyType,this.asymmetricPaddingType,this.asymmetricKeyType);await this.protocol.setEncryptionCommand(e)}{this.publicExponent=await this.encryptionHandler2.getPublicExponent(),this.publicKey=await this.encryptionHandler2.generatePublicKey();let e=o.WacomGSS.STU.Protocol.Protocol.initializeSetParameterBlock(o.WacomGSS.STU.Protocol.EncryptionCommandParameterBlockIndex.RSAe,this.publicExponent);await this.protocol.setEncryptionCommand(e);{let a=this.publicKey.length,u=0;for(;a!==0;){const d=a>64?64:a,g=(P=>{let I=[];for(;P-- >0;)I.push(0);return I})(d);((P,I,T,$,G)=>{if(P!==T||$>=I+G)for(;--G>=0;)T[$++]=P[I++];else{let O=P.slice(I,I+G);for(let x=0;x<G;x++)T[$++]=O[x]}})(this.publicKey,u,g,0,d),e=o.WacomGSS.STU.Protocol.Protocol.initializeSetParameterBlock(o.WacomGSS.STU.Protocol.EncryptionCommandParameterBlockIndex.RSAn,g),await this.protocol.setEncryptionCommand(e),a-=d,u+=d}}}{const e=await this.protocol.getEncryptionStatus();if(e.getStatusCodeRSAe()!==o.WacomGSS.STU.Protocol.StatusCodeRSA.Ready_$LI$()||e.getStatusCodeRSAn()!==o.WacomGSS.STU.Protocol.StatusCodeRSA.Ready_$LI$())throw new o.WacomGSS.RuntimeException("failed to upload public exponent and public key to tablet")}await this.reinitializeEncryption2()}async reinitializeEncryption2(c){{const a=await o.WacomGSS.STU.Protocol.ProtocolHelper.generateSymmetricKeyAndWaitForEncryptionStatus(this.protocol,this.retries,this.sleepBetweenRetries,this.retries*this.sleepBetweenRetries);if(a.getLastResultCode()!==o.WacomGSS.STU.Protocol.ErrorCodeRSA.None_$LI$())throw new o.WacomGSS.RuntimeException("EncryptionStatus.lastResultCode != ErrorCodeRSA_None after generateSymmetricKeyAndWaitForEncryptionStatus()");a.getStatusCodeRSAc()!==o.WacomGSS.STU.Protocol.StatusCodeRSA.Ready_$LI$()&&new o.WacomGSS.RuntimeException("EncryptionStatus.statusCodeRSAc != StatusCodeRSA.Ready after generateSymmetricKeyAndWaitForEncryptionStatus()")}const e=(a=>{let u=[];for(;a-- >0;)u.push(0);return u})(this.asymmetricKeySizeBytes);{let a=0,u=0;for(a=0;a<e.length;++u){let d=await o.WacomGSS.STU.Protocol.Protocol.initializeGetParameterBlock(o.WacomGSS.STU.Protocol.EncryptionCommandParameterBlockIndex.RSAc,u);await this.protocol.setEncryptionCommand(d),d=await this.protocol.getEncryptionCommand(o.WacomGSS.STU.Protocol.EncryptionCommandNumber.GetParameterBlock);const g=d.getData();if(g==null||g.length===0)throw new o.WacomGSS.RuntimeException("EncryptionCommand.data returned zero-length byte array");((P,I,T,$,G)=>{if(P!==T||$>=I+G)for(;--G>=0;)T[$++]=P[I++];else{let O=P.slice(I,I+G);for(let x=0;x<G;x++)T[$++]=O[x]}})(g,0,e,a,g.length),a+=g.length}}await this.encryptionHandler2.computeSessionKey(e)}async waitForStatusToSend(c,e){await o.WacomGSS.STU.Protocol.ProtocolHelper.waitForStatusToSend(this.protocol,c,e,this.retries,this.sleepBetweenRetries)}async waitForStatus(c){await o.WacomGSS.STU.Protocol.ProtocolHelper.waitForStatus(this.protocol,c,this.retries,this.sleepBetweenRetries)}async clear(){this.sessionId=0,this.encryptionHandler!=null&&this.encryptionHandler.clearKeys(),this.encryptionHandler2!=null&&this.encryptionHandler2.clearKeys()}async checkErrorCode(){if(this.status=await this.protocol.getStatus(),this.status.getLastResultCode()!==o.WacomGSS.STU.Protocol.ErrorCode.None_$LI$())throw new o.WacomGSS.STU.ErrorCodeException}checkSupported(c){if(!this.isSupported(c))throw new o.WacomGSS.STU.NotSupportedException("ReportId="+c)}checkProtocol(){if(this.protocol==null)throw new o.WacomGSS.STU.NotConnectedException}onDecrypt(c){switch(this.encryptionType){case o.WacomGSS.STU.Tablet.EncryptionType.v1:if(this.encryptionHandler==null)throw new o.WacomGSS.RuntimeException("onDecrypt but no encryptionHandler");return this.encryptionHandler.decrypt(c);case o.WacomGSS.STU.Tablet.EncryptionType.v2:if(this.encryptionHandler2==null)throw new o.WacomGSS.RuntimeException("onDecrypt but no encryptionHandler2");return this.encryptionHandler2.decrypt(c);case o.WacomGSS.STU.Tablet.EncryptionType.None:case o.WacomGSS.STU.Tablet.EncryptionType.Unknown:}throw new o.WacomGSS.RuntimeException("Unexpected call to onDecrypt")}getEncryptionHandler(){return this.encryptionHandler}setEncryptionHandler(c){if(this.isConnected())throw new o.WacomGSS.RuntimeException("cannot set EncryptionHandler while connected");this.encryptionHandler=c}getEncryptionHandler2(){return this.encryptionHandler2}setEncryptionHandler2(c){if(this.isConnected())throw new o.WacomGSS.RuntimeException("cannot set EncryptionHandler2 while connected");this.encryptionHandler2=c}tlsConnect(c){return this.disconnect(),new o.WacomGSS.STU.TlsInterface,-1}async usbConnect(c){await this.disconnect();const e=new o.WacomGSS.STU.UsbInterface;await e.connect(c),await this.connect2(e)}getProtocol(){return new o.WacomGSS.STU.Protocol.Protocol(new m.TabletInterface(this))}isEmpty(){return this.protocol==null}isConnected(){return this.protocol!=null&&this.protocol.getInterface().isConnected()}async disconnect(){if(this.protocol!=null&&this.protocol.getInterface().disconnect(),this.clear(),this.protocol=null,this.status=null,this.encryptionType=m.EncryptionType.Unknown,this.asymmetricKeySizeBytes=0,this.maxImageBlockSize=0,this.interfaceHandler!=null){this.interfaceHandler.removeInterfaceHandler(this);try{this.interfaceHandler.stop()}catch{}this.interfaceHandler=null}this.encryptionHandler!=null&&this.encryptionHandler.reset(),this.encryptionHandler2!=null&&this.encryptionHandler2.reset()}interfaceQueue(){return this.checkProtocol(),this.protocol.getInterface().interfaceQueue()}addTabletHandler(c){this.tabletHandlers.push(c),this.interfaceHandler==null&&this.protocol!=null&&(this.interfaceHandler=new o.WacomGSS.STU.InterfaceHandler(this.protocol.getInterface().interfaceQueue()),this.interfaceHandler.addInterfaceHandler(this))}removeTabletHandler(c){if((e=>{let a=e.indexOf(c);a>=0&&e.splice(a,1)})(this.tabletHandlers),this.tabletHandlers.length==0&&this.interfaceHandler!=null){this.interfaceHandler.removeInterfaceHandler(this);try{this.interfaceHandler.stop()}catch{}this.interfaceHandler=null}}queueNotifyAll(){this.checkProtocol(),this.protocol.getInterface().queueNotifyAll()}supportsWrite(){return this.checkProtocol(),this.protocol.getInterface().supportsWrite()}getReportCountLengths(){return this.checkProtocol(),this.reportCountLengths=this.protocol.getInterface().getReportCountLengths(),this.reportCountLengths}getProductId(){return this.checkProtocol(),this.protocol.getInterface().getProductId()}isSupported(c){return this.checkProtocol(),this.reportCountLengths==null||this.reportCountLengths[m.I(c)]!=null}async getStatus(){return this.checkProtocol(),this.status=await this.protocol.getStatus(),this.status}async reset(){this.clear(),this.checkProtocol(),await this.protocol.setReset(o.WacomGSS.STU.Protocol.ResetFlag.Software),await this.checkErrorCode()}async getInformation(){this.checkProtocol();const c=await this.protocol.getInformation();return await this.checkErrorCode(),c}async getHidInformation(){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.HidInformation_$LI$());const c=await this.protocol.getHidInformation();return await this.checkErrorCode(),c}async getDefaultMode(){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.DefaultMode_$LI$());const c=await this.protocol.getDefaultMode();return await this.checkErrorCode(),c}async setDefaultMode(c){const e=new m.StateHandler;await e.init(this,o.WacomGSS.STU.Protocol.ReportId.DefaultMode_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await this.protocol.setDefaultMode(c),await this.checkErrorCode(),await e.restore(),await e.close()}async getCapability(){this.checkProtocol();const c=await this.protocol.getCapability();return await this.checkErrorCode(),c}async getUid(){this.checkProtocol();const c=await this.protocol.getUid();return await this.checkErrorCode(),c}async setUid(c){const e=new m.StateHandler;await e.init(this,o.WacomGSS.STU.Protocol.ReportId.Uid_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await this.protocol.setUid(c),await this.checkErrorCode(),await e.restore(),await e.close()}async getUid2(){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.Uid2_$LI$());const c=await this.protocol.getUid2();return await this.checkErrorCode(),c}async getEserial(){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.Eserial_$LI$());const c=await this.protocol.getEserial();return await this.checkErrorCode(),c}async setClearScreenArea(c){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.ClearScreenArea_$LI$()),await this.protocol.setClearScreenArea(c),await await this.checkErrorCode()}async writeImageArea(c,e,a){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.StartImageDataArea_$LI$());const u=new m.StateHandler;await u.init(this,o.WacomGSS.STU.Protocol.ReportId.StartImageDataArea_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await o.WacomGSS.STU.Protocol.ProtocolHelper.writeImageArea$com_WacomGSS_STU_Protocol_Protocol$com_WacomGSS_STU_Protocol_EncodingMode$com_WacomGSS_STU_Protocol_Rectangle$int$byte_A$int$long(this.protocol,c,e,this.maxImageBlockSize,a,this.retries,this.sleepBetweenRetries),await this.checkErrorCode(),await u.restore(),await u.close()}async getHostPublicKey(){this.checkProtocol();const c=await this.protocol.getHostPublicKey();return await this.checkErrorCode(),c}async getDevicePublicKey(){this.checkProtocol();const c=await this.protocol.getDevicePublicKey();return await this.checkErrorCode(),c}async restartCapture(c){switch(this.encryptionType){case o.WacomGSS.STU.Tablet.EncryptionType.v1:await this.reinitializeEncryption1();break;case o.WacomGSS.STU.Tablet.EncryptionType.v2:await this.reinitializeEncryption2();break;case o.WacomGSS.STU.Tablet.EncryptionType.Unknown:case o.WacomGSS.STU.Tablet.EncryptionType.None:default:throw new o.WacomGSS.RuntimeException("unexpected restartCapture with invalid encryptionType setting")}o.WacomGSS.STU.Protocol.ProtocolHelper.statusCanSend(this.status.getStatusCode(),o.WacomGSS.STU.Protocol.ReportId.StartCapture_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set)||await this.waitForStatusToSend(o.WacomGSS.STU.Protocol.ReportId.StartCapture_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await this.protocol.setStartCapture(c),await this.checkErrorCode(),this.sessionId=c,await o.WacomGSS.STU.Protocol.ProtocolHelper.waitForStatus(this.protocol,o.WacomGSS.STU.Protocol.StatusCode.Capture_$LI$(),this.retries,this.sleepBetweenRetries)}async startCapture(c,e){if(this.checkProtocol(),this.encryptionHandler==null&&this.encryptionHandler2==null)throw new o.WacomGSS.RuntimeException("cannot startCapture without an EncryptionHandler or EncryptionHandler2");if(this.encryptionType===m.EncryptionType.None)throw new o.WacomGSS.STU.NotSupportedException("ReportId.StartCapture");if(this.status.getStatusCode()===o.WacomGSS.STU.Protocol.StatusCode.Capture_$LI$()&&(this.sessionId=0,await this.endCapture()),this.encryptionType==m.EncryptionType.Unknown)if(this.encryptionType=m.EncryptionType.None,this.reportCountLengths[o.WacomGSS.STU.Protocol.ReportId.EncryptionStatus_$LI$()]!=null){if(this.encryptionHandler2==null)throw new o.WacomGSS.STU.NotSupportedException("Cannot call startCapture on this tablet without an encryptionHandler2 set");this.encryptionType=m.EncryptionType.v2}else{if(!await o.WacomGSS.STU.Protocol.ProtocolHelper.supportsEncryption$com_WacomGSS_STU_Protocol_Protocol(this.protocol))throw new o.WacomGSS.STU.NotSupportedException("startCapture");if(this.encryptionHandler==null)throw new o.WacomGSS.STU.NotSupportedException("Cannot call startCapture on this tablet without an encryptionHandler set");this.encryptionType=m.EncryptionType.v1}this.encryptionType==m.EncryptionType.v2?await this.initializeEncryption2(e):await this.initializeEncryption1(),o.WacomGSS.STU.Protocol.ProtocolHelper.statusCanSend(this.status.getStatusCode(),o.WacomGSS.STU.Protocol.ReportId.StartCapture_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set)||await this.waitForStatusToSend(o.WacomGSS.STU.Protocol.ReportId.StartCapture_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await this.protocol.setStartCapture(c),await this.checkErrorCode(),this.sessionId=c,await this.waitForStatus(o.WacomGSS.STU.Protocol.StatusCode.Capture_$LI$())}async endCapture(){await new Promise(c=>setTimeout(c,100)),this.checkProtocol(),this.status.getStatusCode()===o.WacomGSS.STU.Protocol.StatusCode.Capture_$LI$()&&(this.sessionId=0,await this.protocol.setEndCapture(),await this.checkErrorCode(),this.status.getStatusCode()!==o.WacomGSS.STU.Protocol.StatusCode.Ready_$LI$()&&(this.status=await this.waitForStatus(o.WacomGSS.STU.Protocol.StatusCode.Ready_$LI$())))}async getDHprime(){this.checkProtocol();const c=await this.protocol.getDHprime();return await this.checkErrorCode(),c}async setDHprime(c){const e=new m.StateHandler;await e.init(this,o.WacomGSS.STU.Protocol.ReportId.DHprime_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),this.encryptionHandler!=null&&this.encryptionHandler.reset(),await this.protocol.setDHprime(c),await this.checkErrorCode(),await e.restore(),await e.close()}async getDHbase(){this.checkProtocol();const c=await this.protocol.getDHbase();return await this.checkErrorCode(),c}async setDHbase(c){const e=new m.StateHandler;await e.init(this,o.WacomGSS.STU.Protocol.ReportId.DHbase_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),this.encryptionHandler!=null&&this.encryptionHandler.reset(),await this.protocol.setDHbase(c),await this.checkErrorCode(),await e.restore(),await e.close()}async setClearScreen(){const c=new m.StateHandler;await c.init(this,o.WacomGSS.STU.Protocol.ReportId.ClearScreen_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await this.protocol.setClearScreen(),await this.checkErrorCode(),await c.restore(),await c.close()}async getInkingMode(){this.checkProtocol();const c=await this.protocol.getInkingMode();return await this.checkErrorCode(),c}async setInkingMode(c){this.checkProtocol(),await this.protocol.setInkingMode(c),await this.checkErrorCode()}async getInkThreshold(){this.checkProtocol();const c=await this.protocol.getInkThreshold();return await this.checkErrorCode(),c}async setInkThreshold(c){const e=new m.StateHandler;await e.init(this,o.WacomGSS.STU.Protocol.ReportId.InkThreshold_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await this.protocol.setInkThreshold(c),await this.checkErrorCode(),await e.restore(),await e.close()}async writeImage$com_WacomGSS_STU_Protocol_EncodingMode$byte_A(c,e){const a=new m.StateHandler;await a.init(this,o.WacomGSS.STU.Protocol.ReportId.StartImageData_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await o.WacomGSS.STU.Protocol.ProtocolHelper.writeImage$com_WacomGSS_STU_Protocol_Protocol$com_WacomGSS_STU_Protocol_EncodingMode$int$byte_A$int$long(this.protocol,c,this.maxImageBlockSize,e,this.retries,this.sleepBetweenRetries),await await this.checkErrorCode(),await a.restore(),await a.close()}async writeImage(c,e){if(typeof c!="number"&&c!==null||!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null)){if(typeof c!="number"&&c!==null||!(e!=null&&e instanceof Array&&(e.length==0||e[0]==null||typeof e[0]=="number")||e===null))throw new Error("invalid overload");return await this.writeImage$int$byte_A(c,e)}return await this.writeImage$com_WacomGSS_STU_Protocol_EncodingMode$byte_A(c,e)}async writeImage$int$byte_A(c,e){const a=new m.StateHandler;await a.init(this,o.WacomGSS.STU.Protocol.ReportId.StartImageData_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await o.WacomGSS.STU.Protocol.ProtocolHelper.writeImage$com_WacomGSS_STU_Protocol_Protocol$int$byte_A$int$long(this.protocol,c,e,this.retries,this.sleepBetweenRetries),await await this.checkErrorCode(),await a.restore(),await a.close()}async endImageData(){this.checkProtocol(),this.status.getStatusCode()===o.WacomGSS.STU.Protocol.StatusCode.Image_$LI$()&&(await this.protocol.setEndImageData$com_WacomGSS_STU_Protocol_EndImageDataFlag(o.WacomGSS.STU.Protocol.EndImageDataFlag.Abandon),await await this.checkErrorCode())}async getHandwritingThicknessColor(){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.HandwritingThicknessColor_$LI$());const c=await this.protocol.getHandwritingThicknessColor();return await this.checkErrorCode(),c}async setHandwritingThicknessColor(c){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.HandwritingThicknessColor_$LI$()),await this.protocol.setHandwritingThicknessColor(c),await this.checkErrorCode()}async getBackgroundColor(){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.BackgroundColor_$LI$());const c=await this.protocol.getBackgroundColor();return await this.checkErrorCode(),c}async setBackgroundColor(c){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.BackgroundColor_$LI$()),await this.protocol.setBackgroundColor(c),await this.checkErrorCode()}async getHandwritingDisplayArea(){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.HandwritingDisplayArea_$LI$());const c=await this.protocol.getHandwritingDisplayArea();return await this.checkErrorCode(),c}async setHandwritingDisplayArea(c){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.HandwritingDisplayArea_$LI$()),await this.protocol.setHandwritingDisplayArea(c),await this.checkErrorCode()}async getBacklightBrightness(){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.BacklightBrightness_$LI$());const c=await this.protocol.getBacklightBrightness();return await this.checkErrorCode(),c}async setBacklightBrightness(c){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.BacklightBrightness_$LI$()),await this.waitForStatusToSend(o.WacomGSS.STU.Protocol.ReportId.BacklightBrightness_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await this.protocol.setBacklightBrightness(c),await this.checkErrorCode()}async getScreenContrast(){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.ScreenContrast_$LI$());const c=await this.protocol.getScreenContrast();return await this.checkErrorCode(),c}async setScreenContrast(c){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.ScreenContrast_$LI$()),await this.waitForStatusToSend(o.WacomGSS.STU.Protocol.ReportId.ScreenContrast_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await this.protocol.setScreenContrast(c),await this.checkErrorCode()}async getPenDataOptionMode(){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.PenDataOptionMode_$LI$());const c=await this.protocol.getPenDataOptionMode();return await this.checkErrorCode(),c}async setPenDataOptionMode(c){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.PenDataOptionMode_$LI$()),await this.protocol.setPenDataOptionMode(c),await this.checkErrorCode()}async getEncryptionStatus(){this.checkProtocol(),this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.EncryptionStatus_$LI$());const c=await this.protocol.getEncryptionStatus();return await this.checkErrorCode(),c}async getReportRate(){const c=new m.StateHandler;await c.init(this,o.WacomGSS.STU.Protocol.ReportId.ReportRate_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Get);const e=await this.protocol.getReportRate();return await this.checkErrorCode(),await c.restore(),e}async setReportRate(c){const e=new m.StateHandler;await e.init(this,o.WacomGSS.STU.Protocol.ReportId.ReportRate_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await this.protocol.setReportRate(c),await this.checkErrorCode(),await e.restore(),await e.close()}async setRenderingMode(c){this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.RenderingMode_$LI$());const e=new m.StateHandler;await e.init(this,o.WacomGSS.STU.Protocol.ReportId.RenderingMode_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await this.protocol.setRenderingMode(c),await this.checkErrorCode(),await e.restore(),await e.close()}async getRenderingMode(){this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.RenderingMode_$LI$());const c=new m.StateHandler;await c.init(this,o.WacomGSS.STU.Protocol.ReportId.RenderingMode_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Get);const e=await this.protocol.getRenderingMode();return await this.checkErrorCode(),await c.restore(),e}async setBootScreen(c){this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.BootScreen_$LI$());const e=new m.StateHandler;await e.init(this,o.WacomGSS.STU.Protocol.ReportId.BootScreen_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await this.protocol.setBootScreen(c),await this.checkErrorCode(),await e.restore(),await e.close()}async getBootScreen(){this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.BootScreen_$LI$());const c=new m.StateHandler;await c.init(this,o.WacomGSS.STU.Protocol.ReportId.BootScreen_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Get);const e=await this.protocol.getBootScreen();return await this.checkErrorCode(),await c.restore(),e}async setOperationMode(c){this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.OperationMode_$LI$());const e=new m.StateHandler;await e.init(this,o.WacomGSS.STU.Protocol.ReportId.OperationMode_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await this.protocol.setOperationMode(c),await this.checkErrorCode(),await e.restore(),await e.close()}async getOperationMode(){this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.OperationMode_$LI$());const c=new m.StateHandler;await c.init(this,o.WacomGSS.STU.Protocol.ReportId.OperationMode_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Get);const e=await this.protocol.getOperationMode();return await this.checkErrorCode(),await c.restore(),e}async writeRomImage(c,e){this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.RomStartImageData_$LI$());const a=new m.StateHandler;await a.init(this,o.WacomGSS.STU.Protocol.ReportId.RomStartImageData_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set);const u=this.reportCountLengths[o.WacomGSS.STU.Protocol.ReportId.ImageDataBlock_$LI$()]>3?this.reportCountLengths[o.WacomGSS.STU.Protocol.ReportId.ImageDataBlock_$LI$()]-3:o.WacomGSS.STU.Protocol.ImageDataBlock.maxLengthHID;await o.WacomGSS.STU.Protocol.ProtocolHelper.writeRomImage(this.protocol,c,u,e,this.retries,this.sleepBetweenRetries),await this.checkErrorCode(),await a.restore(),await a.close()}async setRomImageHash(c,e,a){this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.RomImageHash_$LI$());const u=new m.StateHandler;await u.init(this,o.WacomGSS.STU.Protocol.ReportId.RomImageHash_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await this.protocol.setRomImageHash(c,e,a),await await this.checkErrorCode(),await await u.restore(),await u.close()}async getRomImageHash(){this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.RomImageHash_$LI$());const c=new m.StateHandler;await c.init(this,o.WacomGSS.STU.Protocol.ReportId.RomImageHash_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Get);const e=await this.protocol.getRomImageHash();return await this.checkErrorCode(),await c.restore(),e}async setRomImageDelete(c,e,a){this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.RomImageDelete_$LI$());const u=new m.StateHandler;await u.init(this,o.WacomGSS.STU.Protocol.ReportId.RomImageDelete_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await this.protocol.setRomImageDelete(c,e,a),await this.checkErrorCode(),await u.restore(),await u.close()}async getCurrentImageArea(){this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.CurrentImageArea_$LI$());const c=new m.StateHandler;await c.init(this,o.WacomGSS.STU.Protocol.ReportId.CurrentImageArea_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Get);const e=await this.protocol.getCurrentImageArea();return await this.checkErrorCode(),await c.restore(),e}async setRomImageDisplay(c,e,a){this.checkSupported(o.WacomGSS.STU.Protocol.ReportId.RomImageDisplay_$LI$());const u=new m.StateHandler;await u.init(this,o.WacomGSS.STU.Protocol.ReportId.RomImageDisplay_$LI$(),o.WacomGSS.STU.Protocol.ProtocolHelper.OpDirection_Set),await this.protocol.setRomImageDisplay(c,e,a),await this.checkErrorCode(),await u.restore(),await u.close()}onReport(c,e){let a=null;try{a=c.getReport()}catch(u){this.onGetReportException(u)}a!=null&&(a=this.reportHandler.handleReport(a,e,this.isTls),a!=null&&this.onUnhandledReportData(a))}onPenData(c,e){for(let a=0;a<this.tabletHandlers.length;a++){let u=this.tabletHandlers[a];try{u.onPenData(c,e)}catch{}}}onPenDataOption(c,e){for(let a=0;a<this.tabletHandlers.length;a++){let u=this.tabletHandlers[a];try{u.onPenDataOption(c,e)}catch{}}}onPenDataEncrypted(c,e){for(let a=0;a<this.tabletHandlers.length;a++){let u=this.tabletHandlers[a];try{u.onPenDataEncrypted(c,e)}catch{}}}onPenDataEncryptedOption(c,e){for(let a=0;a<this.tabletHandlers.length;a++){let u=this.tabletHandlers[a];try{u.onPenDataEncryptedOption(c,e)}catch{}}}onPenDataTimeCountSequence(c,e){for(let a=0;a<this.tabletHandlers.length;a++){let u=this.tabletHandlers[a];try{u.onPenDataTimeCountSequence(c,e)}catch{}}}onPenDataTimeCountSequenceEncrypted(c,e){for(let a=0;a<this.tabletHandlers.length;a++){let u=this.tabletHandlers[a];try{u.onPenDataTimeCountSequenceEncrypted(c,e)}catch{}}}onEventDataPinPad(c){for(let e=0;e<this.tabletHandlers.length;e++){let a=this.tabletHandlers[e];try{a.onEventDataPinPad(c)}catch{}}}onEventDataKeyPad(c){for(let e=0;e<this.tabletHandlers.length;e++){let a=this.tabletHandlers[e];try{a.onEventDataKeyPad(c)}catch{}}}onEventDataSignature(c){for(let e=0;e<this.tabletHandlers.length;e++){let a=this.tabletHandlers[e];try{a.onEventDataSignature(c)}catch{}}}onEventDataPinPadEncrypted(c){for(let e=0;e<this.tabletHandlers.length;e++){let a=this.tabletHandlers[e];try{a.onEventDataPinPadEncrypted(c)}catch{}}}onEventDataKeyPadEncrypted(c){for(let e=0;e<this.tabletHandlers.length;e++){let a=this.tabletHandlers[e];try{a.onEventDataKeyPadEncrypted(c)}catch{}}}onEventDataSignatureEncrypted(c){for(let e=0;e<this.tabletHandlers.length;e++){let a=this.tabletHandlers[e];try{a.onEventDataSignatureEncrypted(c)}catch{}}}onDevicePublicKey(c){for(let e=0;e<this.tabletHandlers.length;e++){let a=this.tabletHandlers[e];try{a.onDevicePublicKey(c)}catch{}}}onEncryptionStatus(c){for(let e=0;e<this.tabletHandlers.length;e++){let a=this.tabletHandlers[e];try{a.onEncryptionStatus(c)}catch{}}}onGetReportException(c){for(let e=0;e<this.tabletHandlers.length;e++){let a=this.tabletHandlers[e];try{a.onGetReportException(c)}catch{}}}onUnhandledReportData(c){for(let e=0;e<this.tabletHandlers.length;e++){let a=this.tabletHandlers[e];try{a.onUnhandledReportData(c.slice(0))}catch{}}}}s.Tablet=m,m.__class="com.WacomGSS.STU.Tablet",m.__interfaces=["com.WacomGSS.STU.IInterfaceHandler","com.WacomGSS.STU.Protocol.IReportHandler"],function(t){(function(a){a[a.Unknown=0]="Unknown",a[a.None=1]="None",a[a.v1=2]="v1",a[a.v2=3]="v2"})(t.EncryptionType||(t.EncryptionType={}));class c{constructor(u){this.__parent=u}isConnected(){return this.__parent.protocol.getInterface().isConnected()}disconnect(){this.__parent.clear(),this.disconnect()}get(u){return this.__parent.protocol.getInterface().get(u)}set(u){this.__parent.clear(),this.__parent.protocol.getInterface().set(u)}supportsWrite(){return this.__parent.protocol.getInterface().supportsWrite()}write(u){this.__parent.clear(),this.__parent.protocol.getInterface().write(u)}interfaceQueue(){return this.__parent.protocol.getInterface().interfaceQueue()}queueNotifyAll(){this.__parent.protocol.getInterface().queueNotifyAll()}getReportCountLengths(){return this.__parent.protocol.getInterface().getReportCountLengths()}async getProductId(){return await this.__parent.protocol.getInterface().getProductId()}}t.TabletInterface=c,c.__class="com.WacomGSS.STU.Tablet.TabletInterface",c.__interfaces=["com.WacomGSS.STU.Interface"];class e{async init(u,d,g){this.__parent=u,this.encryptionEnabled=!1,this.sessionId=0,u.checkProtocol(),u.status==null&&(u.status=await u.protocol.getStatus()),o.WacomGSS.STU.Protocol.ProtocolHelper.statusCanSend(u.status.getStatusCode(),d,g)||(u.status.getStatusCode()===o.WacomGSS.STU.Protocol.StatusCode.Capture_$LI$()?(this.encryptionEnabled=!0,this.sessionId=u.sessionId,await u.endCapture()):u.status.getStatusCode()===o.WacomGSS.STU.Protocol.StatusCode.Image_$LI$()?await u.protocol.setEndImageData$com_WacomGSS_STU_Protocol_EndImageDataFlag(o.WacomGSS.STU.Protocol.EndImageDataFlag.Abandon):(u.status.getStatusCode(),o.WacomGSS.STU.Protocol.StatusCode.Image_Boot_$LI$()),await u.waitForStatusToSend(d,g))}async close(){await this.restore()}async restore(){this.encryptionEnabled&&(this.encryptionEnabled=!1,await this.__parent.startCapture(this.sessionId,!0))}}t.StateHandler=e,e.__class="com.WacomGSS.STU.Tablet.StateHandler",e.__interfaces=["java.lang.AutoCloseable"]}(m=s.Tablet||(s.Tablet={}))})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m extends o.WacomGSS.STU.STUException{constructor(c,e){if(typeof c!="string"&&c!==null||!(e!=null&&e.__classes&&e.__classes.indexOf("java.lang.Throwable")>=0||e!=null&&e instanceof Error||e===null))if(typeof c!="string"&&c!==null||e!==void 0)if((c!=null&&c.__classes&&c.__classes.indexOf("java.lang.Throwable")>=0||c!=null&&c instanceof Error||c===null)&&e===void 0)super(arguments[0]);else{if(c!==void 0||e!==void 0)throw new Error("invalid overload");super()}else super(c);else super(c,e)}}s.TimeoutException=m,m.__class="com.WacomGSS.STU.TimeoutException",m.__interfaces=["java.io.Serializable"]})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m{static getTlsDevices(){return null}}s.TlsDevice=m,m.__class="com.WacomGSS.STU.TlsDevice"})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m{connect(c,e){return-1}get(c){if(!this.isConnected())throw new o.WacomGSS.STU.NotConnectedException;if(c!=null&&c.length!==0){const e=o.WacomGSS.STU.Protocol.ProtocolHelper.makeLegacyGetReport(c[0]),a=this.send$byte_A(e);if(o.WacomGSS.STU.Protocol.ProtocolHelper.checkReturnValueStatus(a),a.length!==c.length+8)throw new o.WacomGSS.STU.STUException("report size doesn't match expected get size");((u,d,g,P,I)=>{if(u!==g||P>=d+I)for(;--I>=0;)g[P++]=u[d++];else{let T=u.slice(d,d+I);for(let $=0;$<I;$++)g[P++]=T[$]}})(a,8,c,0,c.length)}return c}set(c){if(!this.isConnected())throw new o.WacomGSS.STU.NotConnectedException;if(c!=null&&c.length!==0){const e=o.WacomGSS.STU.Protocol.ProtocolHelper.makeLegacySetReport(c),a=this.send$byte_A(e);o.WacomGSS.STU.Protocol.ProtocolHelper.checkReturnValueStatus(a)}}supportsWrite(){return!0}write(c){if(!this.isConnected())throw new o.WacomGSS.STU.NotConnectedException;if(c!=null&&c.length!==0){const e=o.WacomGSS.STU.Protocol.ProtocolHelper.makeLegacyWrite(c),a=this.send$byte_A(e);o.WacomGSS.STU.Protocol.ProtocolHelper.checkReturnValueStatus(a)}}send$byte_A(c){const e=o.WacomGSS.STU.Protocol.TlsProtocol.makeSendHint(c),a=this.send$byte_A$com_WacomGSS_STU_InterfaceTLS_InterfaceQueueSelector(c,s.InterfaceTLS.InterfaceQueueSelector.tag);return o.WacomGSS.STU.Protocol.ProtocolHelper.waitForReturn(a,2e3,e)}getProductId(){return new o.WacomGSS.STU.Protocol.TlsProtocolOOB(this).getDescriptor().getIdProduct()}getReportCountLengths(){return new o.WacomGSS.STU.Protocol.Protocol(this).getReportSizeCollection()}disconnect(){}isConnected(){return!1}interfaceQueue(){return null}queueNotifyAll(){}getPeerCertificate(){return 0}isConnectedOOB(){return!1}getOOB(c){return null}setOOB(c){}send$byte_A$com_WacomGSS_STU_InterfaceTLS_InterfaceQueueSelector(c,e){return null}send(c,e){if(!(c!=null&&c instanceof Array&&(c.length==0||c[0]==null||typeof c[0]=="number")||c===null)||typeof e!="number"&&e!==null){if((c!=null&&c instanceof Array&&(c.length==0||c[0]==null||typeof c[0]=="number")||c===null)&&e===void 0)return this.send$byte_A(c);throw new Error("invalid overload")}return this.send$byte_A$com_WacomGSS_STU_InterfaceTLS_InterfaceQueueSelector(c,e)}constructor(){}}s.TlsInterface=m,m.__class="com.WacomGSS.STU.TlsInterface",m.__interfaces=["com.WacomGSS.STU.InterfaceTLS","com.WacomGSS.STU.Interface"]})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){var m=function(){function t(c,e,a){this.idVendor===void 0&&(this.idVendor=0),this.idProduct===void 0&&(this.idProduct=0),this.bcdDevice===void 0&&(this.bcdDevice=0),this.idVendor=c,this.idProduct=e,this.bcdDevice=a}return t.VendorId_Wacom_$LI$=function(){return t.VendorId_Wacom==null&&(t.VendorId_Wacom=1386),t.VendorId_Wacom},t.ProductId_500_$LI$=function(){return t.ProductId_500==null&&(t.ProductId_500=161),t.ProductId_500},t.ProductId_300_$LI$=function(){return t.ProductId_300==null&&(t.ProductId_300=162),t.ProductId_300},t.ProductId_520A_$LI$=function(){return t.ProductId_520A==null&&(t.ProductId_520A=163),t.ProductId_520A},t.ProductId_430_$LI$=function(){return t.ProductId_430==null&&(t.ProductId_430=164),t.ProductId_430},t.ProductId_530_$LI$=function(){return t.ProductId_530==null&&(t.ProductId_530=165),t.ProductId_530},t.ProductId_430V_$LI$=function(){return t.ProductId_430V==null&&(t.ProductId_430V=166),t.ProductId_430V},t.ProductId_530V_$LI$=function(){return t.ProductId_530V==null&&(t.ProductId_530V=167),t.ProductId_530V},t.ProductId_540_$LI$=function(){return t.ProductId_540==null&&(t.ProductId_540=168),t.ProductId_540},t.ProductId_min_$LI$=function(){return t.ProductId_min==null&&(t.ProductId_min=161),t.ProductId_min},t.ProductId_max_$LI$=function(){return t.ProductId_max==null&&(t.ProductId_max=175),t.ProductId_max},t.prototype.getIdVendor=function(){return this.idVendor},t.prototype.getIdProduct=function(){return this.idProduct},t.prototype.getBcdDevice=function(){return this.bcdDevice},t.getUsbDevices=function(){const c=[];return navigator.hid.getDevices().then(e=>{e.forEach(a=>{c.push(new t(a.idVendor,a.idProduct,a.bcdDevice))})}),c},t.requestDevices=async function(){let c={filters:[{vendorId:1386,productId:161},{vendorId:1386,productId:162},{vendorId:1386,productId:163},{vendorId:1386,productId:164},{vendorId:1386,productId:165},{vendorId:1386,productId:166},{vendorId:1386,productId:168},{vendorId:1386,productId:169}]};return navigator.hid.requestDevice(c)},t}();s.UsbDevice=m,m.__class="com.WacomGSS.STU.UsbDevice"})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m{constructor(){this.connected=!1}handleConnectedDevice(c){this.usbDevice.addEventListener("inputreport",this.handleInputReport),this.connected=!0,console.log("Device connected: "+this.usbDevice.productName)}handleDisconnectedDevice(c){this.connected=!1,this.usbDevice.removeEventListener("inputreport",this.handleInputReport),console.log("Device disconnected: "+this.usbDevice.productName)}handleInputReport(c){const e=new Uint8Array(c.data.buffer);let a=Array.from(e);a.unshift(c.reportId),this.interfaceQueue.getReport(a,performance.now())}connect(c,e){return new Promise((a,u)=>(this.usbDevice=c,this.usbDevice.open().then(()=>{this.usbDevice.interfaceQueue=new o.WacomGSS.STU.InterfaceQueue,this.handleConnectedDevice(),a()},d=>{u(d)})))}async disconnect(){this.usbDevice&&(await this.usbDevice.close(),this.handleDisconnectedDevice())}isConnected(){return this.connected}async get(c){let e,a=await this.usbDevice.receiveFeatureReport(c[0]),u=[];for(e=0;e<a.byteLength;e++)u.push(a.getUint8(e));return u}async set(c){let e=new Uint8Array(c.slice(1));await this.usbDevice.sendFeatureReport(c[0],e.buffer)}supportsWrite(){return!1}async write(c){let e=new Uint8Array(c.length-1);await this.usbDevice.sendFeatureReport(c[0],e.buffer)}interfaceQueue(){return this.usbDevice.interfaceQueue}queueNotifyAll(){}getReportCountLengths(){const c=[];for(let e of this.usbDevice.collections){for(let a of e.inputReports)c[a.reportId]=a.items[0].reportCount;for(let a of e.outputReports)c[a.reportId]=a.items[0].reportCount;for(let a of e.featureReports)c[a.reportId]=a.items[0].reportCount}return c}getProductId(){return this.usbDevice.productId}}s.UsbInterface=m,m.__class="com.WacomGSS.STU.UsbInterface",m.__interfaces=["com.WacomGSS.STU.Interface"]})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={})),function(o){(function(v){(function(s){class m extends o.WacomGSS.STU.STUException{constructor(c,e){if(typeof c!="string"&&c!==null||!(e!=null&&e.__classes&&e.__classes.indexOf("java.lang.Throwable")>=0||e!=null&&e instanceof Error||e===null))if(typeof c!="string"&&c!==null||e!==void 0)if((c!=null&&c.__classes&&c.__classes.indexOf("java.lang.Throwable")>=0||c!=null&&c instanceof Error||c===null)&&e===void 0)super(arguments[0]);else{if(c!==void 0||e!==void 0)throw new Error("invalid overload");super()}else super(c);else super(c,e)}}s.WriteNotSupportedException=m,m.__class="com.WacomGSS.STU.WriteNotSupportedException",m.__interfaces=["java.io.Serializable"]})(v.STU||(v.STU={}))})(o.WacomGSS||(o.WacomGSS={}))}(_||(_={}));const ka=_;export{Ca as M,ka as c,Ga as g};

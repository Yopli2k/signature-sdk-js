"use strict";var En=typeof document<"u"?document.currentScript:null,Fo=function(){var Sr=typeof document>"u"?require("url").pathToFileURL(__filename).href:En&&En.src||new URL("signature-sdk.cjs",document.baseURI).href;return function(u){u=u||{};var u=typeof u<"u"?u:{},Tr,ir;u.ready=new Promise(function(e,r){Tr=e,ir=r});var _e={},oe;for(oe in u)u.hasOwnProperty(oe)&&(_e[oe]=u[oe]);var Pr="./this.program",bn=!0,ee="";function kn(e){return u.locateFile?u.locateFile(e,ee):ee+e}var or,Ar,Dn;typeof document<"u"&&document.currentScript&&(ee=document.currentScript.src),Sr&&(ee=Sr),ee.indexOf("blob:")!==0?ee=ee.substr(0,ee.lastIndexOf("/")+1):ee="",or=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},Ar=function(e,r,n){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){if(t.status==200||t.status==0&&t.response){r(t.response);return}n()},t.onerror=n,t.send(null)};var Le=u.print||console.log.bind(console),B=u.printErr||console.warn.bind(console);for(oe in _e)_e.hasOwnProperty(oe)&&(u[oe]=_e[oe]);_e=null,u.arguments&&u.arguments,u.thisProgram&&(Pr=u.thisProgram),u.quit&&u.quit;var Fn=16;function Cn(e,r){return r||(r=Fn),Math.ceil(e/r)*r}function we(e){we.shown||(we.shown={}),we.shown[e]||(we.shown[e]=1,B(e))}var Rr=0,Sn=function(e){Rr=e},Tn=function(){return Rr},Ee;u.wasmBinary&&(Ee=u.wasmBinary),u.noExitRuntime,typeof WebAssembly!="object"&&L("no native wasm support detected");var Oe,re=!1;function ae(e,r){e||L("Assertion failed: "+r)}function Pn(e){var r=u["_"+e];return ae(r,"Cannot call unknown function "+e+", make sure it is exported"),r}function $e(e,r,n,t,i){var a={string:function(E){var R=0;if(E!=null&&E!==0){var T=(E.length<<2)+1;R=Dr(T),xe(E,R,T)}return R},array:function(E){var R=Dr(E.length);return Or(E,R),R}};function s(E){return r==="string"?ue(E):r==="boolean"?!!E:E}var l=Pn(e),f=[],c=0;if(t)for(var m=0;m<t.length;m++){var v=a[n[m]];v?(c===0&&(c=J()),f[m]=v(t[m])):f[m]=t[m]}var p=l.apply(null,f);i&&i.async;var y=typeof b=="object"&&b.currData,w=typeof b=="object"&&b.asyncFinalizers.length>0;return y&&!w?new Promise(function(E){b.asyncFinalizers.push(function(R){c!==0&&V(c),E(s(R))})}):(p=s(p),c!==0&&V(c),i&&i.async?Promise.resolve(p):p)}var Mr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ve(e,r,n){for(var t=r+n,i=r;e[i]&&!(i>=t);)++i;if(i-r>16&&e.subarray&&Mr)return Mr.decode(e.subarray(r,i));for(var a="";r<i;){var s=e[r++];if(!(s&128)){a+=String.fromCharCode(s);continue}var l=e[r++]&63;if((s&224)==192){a+=String.fromCharCode((s&31)<<6|l);continue}var f=e[r++]&63;if((s&240)==224?s=(s&15)<<12|l<<6|f:s=(s&7)<<18|l<<12|f<<6|e[r++]&63,s<65536)a+=String.fromCharCode(s);else{var c=s-65536;a+=String.fromCharCode(55296|c>>10,56320|c&1023)}}return a}function ue(e,r){return e?ve(I,e,r):""}function Be(e,r,n,t){if(!(t>0))return 0;for(var i=n,a=n+t-1,s=0;s<e.length;++s){var l=e.charCodeAt(s);if(l>=55296&&l<=57343){var f=e.charCodeAt(++s);l=65536+((l&1023)<<10)|f&1023}if(l<=127){if(n>=a)break;r[n++]=l}else if(l<=2047){if(n+1>=a)break;r[n++]=192|l>>6,r[n++]=128|l&63}else if(l<=65535){if(n+2>=a)break;r[n++]=224|l>>12,r[n++]=128|l>>6&63,r[n++]=128|l&63}else{if(n+3>=a)break;r[n++]=240|l>>18,r[n++]=128|l>>12&63,r[n++]=128|l>>6&63,r[n++]=128|l&63}}return r[n]=0,n-i}function xe(e,r,n){return Be(e,I,r,n)}function be(e){for(var r=0,n=0;n<e.length;++n){var t=e.charCodeAt(n);t>=55296&&t<=57343&&(t=65536+((t&1023)<<10)|e.charCodeAt(++n)&1023),t<=127?++r:t<=2047?r+=2:t<=65535?r+=3:r+=4}return r}var Lr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function An(e,r){for(var n=e,t=n>>1,i=t+r/2;!(t>=i)&&ke[t];)++t;if(n=t<<1,n-e>32&&Lr)return Lr.decode(I.subarray(e,n));for(var a="",s=0;!(s>=r/2);++s){var l=ne[e+s*2>>1];if(l==0)break;a+=String.fromCharCode(l)}return a}function Rn(e,r,n){if(n===void 0&&(n=2147483647),n<2)return 0;n-=2;for(var t=r,i=n<e.length*2?n/2:e.length,a=0;a<i;++a){var s=e.charCodeAt(a);ne[r>>1]=s,r+=2}return ne[r>>1]=0,r-t}function Mn(e){return e.length*2}function Ln(e,r){for(var n=0,t="";!(n>=r/4);){var i=g[e+n*4>>2];if(i==0)break;if(++n,i>=65536){var a=i-65536;t+=String.fromCharCode(55296|a>>10,56320|a&1023)}else t+=String.fromCharCode(i)}return t}function On(e,r,n){if(n===void 0&&(n=2147483647),n<4)return 0;for(var t=r,i=t+n-4,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343){var l=e.charCodeAt(++a);s=65536+((s&1023)<<10)|l&1023}if(g[r>>2]=s,r+=4,r+4>i)break}return g[r>>2]=0,r-t}function $n(e){for(var r=0,n=0;n<e.length;++n){var t=e.charCodeAt(n);t>=55296&&t<=57343&&++n,r+=4}return r}function ar(e){var r=be(e)+1,n=me(r);return n&&Be(e,$,n,r),n}function Or(e,r){$.set(e,r)}function Bn(e,r,n){for(var t=0;t<e.length;++t)$[r++>>0]=e.charCodeAt(t);n||($[r>>0]=0)}function xn(e,r){return e%r>0&&(e+=r-e%r),e}var Ue,$,I,ne,ke,g,q,$r,ur;function Br(e){Ue=e,u.HEAP8=$=new Int8Array(e),u.HEAP16=ne=new Int16Array(e),u.HEAP32=g=new Int32Array(e),u.HEAPU8=I=new Uint8Array(e),u.HEAPU16=ke=new Uint16Array(e),u.HEAPU32=q=new Uint32Array(e),u.HEAPF32=$r=new Float32Array(e),u.HEAPF64=ur=new Float64Array(e)}u.INITIAL_MEMORY;var xr=[],Ur=[],Un=[],Ir=[];Ur.push({func:function(){un()}});function In(){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)Wn(u.preRun.shift());ze(xr)}function zn(){!u.noFSInit&&!o.init.initialized&&o.init(),ze(Ur)}function jn(){o.ignorePermissions=!1,ze(Un)}function Nn(){if(u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;)Hn(u.postRun.shift());ze(Ir)}function Wn(e){xr.unshift(e)}function Hn(e){Ir.unshift(e)}var le=0,De=null;function Co(e){return e}function sr(e){le++,u.monitorRunDependencies&&u.monitorRunDependencies(le)}function Ie(e){if(le--,u.monitorRunDependencies&&u.monitorRunDependencies(le),le==0&&De){var r=De;De=null,r()}}u.preloadedImages={},u.preloadedAudios={};function L(e){u.onAbort&&u.onAbort(e),e+="",B(e),re=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var r=new WebAssembly.RuntimeError(e);throw ir(r),r}function qn(e,r){return String.prototype.startsWith?e.startsWith(r):e.indexOf(r)===0}var Yn="data:application/octet-stream;base64,";function zr(e){return qn(e,Yn)}var G="signature-sdk.wasm";zr(G)||(G=kn(G));function jr(e){try{if(e==G&&Ee)return new Uint8Array(Ee);if(!Dn)throw"both async and sync fetching of the wasm failed"}catch(r){L(r)}}function Vn(){return!Ee&&bn&&typeof fetch=="function"?fetch(G,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+G+"'";return e.arrayBuffer()}).catch(function(){return jr(G)}):Promise.resolve().then(function(){return jr(G)})}function Xn(){var e={a:vo};function r(s,l){var f=s.exports;f=b.instrumentWasmExports(f),u.asm=f,Oe=u.asm.Ca,Br(Oe.buffer),u.asm.Ea,Ie()}sr();function n(s){r(s.instance)}function t(s){return Vn().then(function(l){return WebAssembly.instantiate(l,e)}).then(s,function(l){B("failed to asynchronously prepare wasm: "+l),L(l)})}function i(){return!Ee&&typeof WebAssembly.instantiateStreaming=="function"&&!zr(G)&&typeof fetch=="function"?fetch(G,{credentials:"same-origin"}).then(function(s){var l=WebAssembly.instantiateStreaming(s,e);return l.then(n,function(f){return B("wasm streaming compile failed: "+f),B("falling back to ArrayBuffer instantiation"),t(n)})}):t(n)}if(u.instantiateWasm)try{var a=u.instantiateWasm(e,r);return a=b.instrumentWasmExports(a),a}catch(s){return B("Module.instantiateWasm callback failed with error: "+s),!1}return i().catch(ir),{}}var A,j,Gn={50220:function(){o.analyzePath("/signature_sdk").exists||(o.mkdir("/signature_sdk"),o.mount(O,{},"/signature_sdk")),o.syncfs(!0,function(e){e?$e("readLicenceInternalError","v",["boolean"],!1):$e("readLicenceInternal","v")})},50756:function(){o.syncfs(function(e){$e(e?"writeLicenceInternalError":"writeLicenceInternal","v")})},66188:function(){return Math.floor(Date.now()/1e3)}};function ze(e){for(;e.length>0;){var r=e.shift();if(typeof r=="function"){r(u);continue}var n=r.func;typeof n=="number"?r.arg===void 0?function(){yn.call(null,n)}():function(t){Fr.apply(null,[n,t])}(r.arg):n(r.arg===void 0?null:r.arg)}}function Kn(e,r,n,t){L("Assertion failed: "+ue(e)+", at: "+[r?ue(r):"unknown filename",n,t?ue(t):"unknown function"])}var z={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function Zn(e){return me(e+z.SIZE)+z.SIZE}function Jn(e){this.excPtr=e,this.ptr=e-z.SIZE,this.set_type=function(r){g[this.ptr+z.TYPE_OFFSET>>2]=r},this.get_type=function(){return g[this.ptr+z.TYPE_OFFSET>>2]},this.set_destructor=function(r){g[this.ptr+z.DESTRUCTOR_OFFSET>>2]=r},this.get_destructor=function(){return g[this.ptr+z.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(r){g[this.ptr+z.REFCOUNT_OFFSET>>2]=r},this.set_caught=function(r){r=r?1:0,$[this.ptr+z.CAUGHT_OFFSET>>0]=r},this.get_caught=function(){return $[this.ptr+z.CAUGHT_OFFSET>>0]!=0},this.set_rethrown=function(r){r=r?1:0,$[this.ptr+z.RETHROWN_OFFSET>>0]=r},this.get_rethrown=function(){return $[this.ptr+z.RETHROWN_OFFSET>>0]!=0},this.init=function(r,n){this.set_type(r),this.set_destructor(n),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var r=g[this.ptr+z.REFCOUNT_OFFSET>>2];g[this.ptr+z.REFCOUNT_OFFSET>>2]=r+1},this.release_ref=function(){var r=g[this.ptr+z.REFCOUNT_OFFSET>>2];return g[this.ptr+z.REFCOUNT_OFFSET>>2]=r-1,r===1}}function Qn(e,r,n){var t=new Jn(e);throw t.init(r,n),e}function Fe(e,r){var n=new Date(g[e>>2]*1e3);g[r>>2]=n.getUTCSeconds(),g[r+4>>2]=n.getUTCMinutes(),g[r+8>>2]=n.getUTCHours(),g[r+12>>2]=n.getUTCDate(),g[r+16>>2]=n.getUTCMonth(),g[r+20>>2]=n.getUTCFullYear()-1900,g[r+24>>2]=n.getUTCDay(),g[r+36>>2]=0,g[r+32>>2]=0;var t=Date.UTC(n.getUTCFullYear(),0,1,0,0,0,0),i=(n.getTime()-t)/(1e3*60*60*24)|0;return g[r+28>>2]=i,Fe.GMTString||(Fe.GMTString=ar("GMT")),g[r+40>>2]=Fe.GMTString,r}function et(e,r){return Fe(e,r)}function lr(){if(lr.called)return;lr.called=!0;var e=new Date().getFullYear(),r=new Date(e,0,1),n=new Date(e,6,1),t=r.getTimezoneOffset(),i=n.getTimezoneOffset(),a=Math.max(t,i);g[cn()>>2]=a*60,g[fn()>>2]=+(t!=i);function s(v){var p=v.toTimeString().match(/\(([A-Za-z ]+)\)$/);return p?p[1]:"GMT"}var l=s(r),f=s(n),c=ar(l),m=ar(f);i<t?(g[ye()>>2]=c,g[ye()+4>>2]=m):(g[ye()>>2]=m,g[ye()+4>>2]=c)}function rt(e,r){lr();var n=new Date(g[e>>2]*1e3);g[r>>2]=n.getSeconds(),g[r+4>>2]=n.getMinutes(),g[r+8>>2]=n.getHours(),g[r+12>>2]=n.getDate(),g[r+16>>2]=n.getMonth(),g[r+20>>2]=n.getFullYear()-1900,g[r+24>>2]=n.getDay();var t=new Date(n.getFullYear(),0,1),i=(n.getTime()-t.getTime())/(1e3*60*60*24)|0;g[r+28>>2]=i,g[r+36>>2]=-(n.getTimezoneOffset()*60);var a=new Date(n.getFullYear(),6,1).getTimezoneOffset(),s=t.getTimezoneOffset(),l=(a!=s&&n.getTimezoneOffset()==Math.min(s,a))|0;g[r+32>>2]=l;var f=g[ye()+(l?4:0)>>2];return g[r+40>>2]=f,r}function nt(e,r){return rt(e,r)}function Nr(e){return g[sn()>>2]=e,e}var P={splitPath:function(e){var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(e).slice(1)},normalizeArray:function(e,r){for(var n=0,t=e.length-1;t>=0;t--){var i=e[t];i==="."?e.splice(t,1):i===".."?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(r)for(;n;n--)e.unshift("..");return e},normalize:function(e){var r=e.charAt(0)==="/",n=e.substr(-1)==="/";return e=P.normalizeArray(e.split("/").filter(function(t){return!!t}),!r).join("/"),!e&&!r&&(e="."),e&&n&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=P.splitPath(e),n=r[0],t=r[1];return!n&&!t?".":(t&&(t=t.substr(0,t.length-1)),n+t)},basename:function(e){if(e==="/")return"/";e=P.normalize(e),e=e.replace(/\/$/,"");var r=e.lastIndexOf("/");return r===-1?e:e.substr(r+1)},extname:function(e){return P.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return P.normalize(e.join("/"))},join2:function(e,r){return P.normalize(e+"/"+r)}};function tt(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}else return function(){L("randomDevice")}}var te={resolve:function(){for(var e="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var t=n>=0?arguments[n]:o.cwd();if(typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,r=t.charAt(0)==="/"}return e=P.normalizeArray(e.split("/").filter(function(i){return!!i}),!r).join("/"),(r?"/":"")+e||"."},relative:function(e,r){e=te.resolve(e).substr(1),r=te.resolve(r).substr(1);function n(c){for(var m=0;m<c.length&&c[m]==="";m++);for(var v=c.length-1;v>=0&&c[v]==="";v--);return m>v?[]:c.slice(m,v-m+1)}for(var t=n(e.split("/")),i=n(r.split("/")),a=Math.min(t.length,i.length),s=a,l=0;l<a;l++)if(t[l]!==i[l]){s=l;break}for(var f=[],l=s;l<t.length;l++)f.push("..");return f=f.concat(i.slice(s)),f.join("/")}},fe={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){fe.ttys[e]={input:[],output:[],ops:r},o.registerDevice(e,fe.stream_ops)},stream_ops:{open:function(e){var r=fe.ttys[e.node.rdev];if(!r)throw new o.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,n,t,i){if(!e.tty||!e.tty.ops.get_char)throw new o.ErrnoError(60);for(var a=0,s=0;s<t;s++){var l;try{l=e.tty.ops.get_char(e.tty)}catch{throw new o.ErrnoError(29)}if(l===void 0&&a===0)throw new o.ErrnoError(6);if(l==null)break;a++,r[n+s]=l}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,n,t,i){if(!e.tty||!e.tty.ops.put_char)throw new o.ErrnoError(60);try{for(var a=0;a<t;a++)e.tty.ops.put_char(e.tty,r[n+a])}catch{throw new o.ErrnoError(29)}return t&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(typeof window<"u"&&typeof window.prompt=="function"?(r=window.prompt("Input: "),r!==null&&(r+=`
`)):typeof readline=="function"&&(r=readline(),r!==null&&(r+=`
`)),!r)return null;e.input=nr(r,!0)}return e.input.shift()},put_char:function(e,r){r===null||r===10?(Le(ve(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(Le(ve(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){r===null||r===10?(B(ve(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(B(ve(e.output,0)),e.output=[])}}};function it(e){for(var r=Cn(e,16384),n=me(r);e<r;)$[n+e++]=0;return n}var k={ops_table:null,mount:function(e){return k.createNode(null,"/",16895,0)},createNode:function(e,r,n,t){if(o.isBlkdev(n)||o.isFIFO(n))throw new o.ErrnoError(63);k.ops_table||(k.ops_table={dir:{node:{getattr:k.node_ops.getattr,setattr:k.node_ops.setattr,lookup:k.node_ops.lookup,mknod:k.node_ops.mknod,rename:k.node_ops.rename,unlink:k.node_ops.unlink,rmdir:k.node_ops.rmdir,readdir:k.node_ops.readdir,symlink:k.node_ops.symlink},stream:{llseek:k.stream_ops.llseek}},file:{node:{getattr:k.node_ops.getattr,setattr:k.node_ops.setattr},stream:{llseek:k.stream_ops.llseek,read:k.stream_ops.read,write:k.stream_ops.write,allocate:k.stream_ops.allocate,mmap:k.stream_ops.mmap,msync:k.stream_ops.msync}},link:{node:{getattr:k.node_ops.getattr,setattr:k.node_ops.setattr,readlink:k.node_ops.readlink},stream:{}},chrdev:{node:{getattr:k.node_ops.getattr,setattr:k.node_ops.setattr},stream:o.chrdev_stream_ops}});var i=o.createNode(e,r,n,t);return o.isDir(i.mode)?(i.node_ops=k.ops_table.dir.node,i.stream_ops=k.ops_table.dir.stream,i.contents={}):o.isFile(i.mode)?(i.node_ops=k.ops_table.file.node,i.stream_ops=k.ops_table.file.stream,i.usedBytes=0,i.contents=null):o.isLink(i.mode)?(i.node_ops=k.ops_table.link.node,i.stream_ops=k.ops_table.link.stream):o.isChrdev(i.mode)&&(i.node_ops=k.ops_table.chrdev.node,i.stream_ops=k.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[r]=i,e.timestamp=i.timestamp),i},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var n=e.contents?e.contents.length:0;if(!(n>=r)){var t=1024*1024;r=Math.max(r,n*(n<t?2:1.125)>>>0),n!=0&&(r=Math.max(r,256));var i=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(i.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r)if(r==0)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(r),n&&e.contents.set(n.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=o.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,o.isDir(e.mode)?r.size=4096:o.isFile(e.mode)?r.size=e.usedBytes:o.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){r.mode!==void 0&&(e.mode=r.mode),r.timestamp!==void 0&&(e.timestamp=r.timestamp),r.size!==void 0&&k.resizeFileStorage(e,r.size)},lookup:function(e,r){throw o.genericErrors[44]},mknod:function(e,r,n,t){return k.createNode(e,r,n,t)},rename:function(e,r,n){if(o.isDir(e.mode)){var t;try{t=o.lookupNode(r,n)}catch{}if(t)for(var i in t.contents)throw new o.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,r.contents[n]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){var n=o.lookupNode(e,r);for(var t in n.contents)throw new o.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&r.push(n);return r},symlink:function(e,r,n){var t=k.createNode(e,r,41471,0);return t.link=n,t},readlink:function(e){if(!o.isLink(e.mode))throw new o.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,n,t,i){var a=e.node.contents;if(i>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-i,t);if(s>8&&a.subarray)r.set(a.subarray(i,i+s),n);else for(var l=0;l<s;l++)r[n+l]=a[i+l];return s},write:function(e,r,n,t,i,a){if(r.buffer===$.buffer&&(a=!1),!t)return 0;var s=e.node;if(s.timestamp=Date.now(),r.subarray&&(!s.contents||s.contents.subarray)){if(a)return s.contents=r.subarray(n,n+t),s.usedBytes=t,t;if(s.usedBytes===0&&i===0)return s.contents=r.slice(n,n+t),s.usedBytes=t,t;if(i+t<=s.usedBytes)return s.contents.set(r.subarray(n,n+t),i),t}if(k.expandFileStorage(s,i+t),s.contents.subarray&&r.subarray)s.contents.set(r.subarray(n,n+t),i);else for(var l=0;l<t;l++)s.contents[i+l]=r[n+l];return s.usedBytes=Math.max(s.usedBytes,i+t),t},llseek:function(e,r,n){var t=r;if(n===1?t+=e.position:n===2&&o.isFile(e.node.mode)&&(t+=e.node.usedBytes),t<0)throw new o.ErrnoError(28);return t},allocate:function(e,r,n){k.expandFileStorage(e.node,r+n),e.node.usedBytes=Math.max(e.node.usedBytes,r+n)},mmap:function(e,r,n,t,i,a){if(r!==0)throw new o.ErrnoError(28);if(!o.isFile(e.node.mode))throw new o.ErrnoError(43);var s,l,f=e.node.contents;if(!(a&2)&&f.buffer===Ue)l=!1,s=f.byteOffset;else{if((t>0||t+n<f.length)&&(f.subarray?f=f.subarray(t,t+n):f=Array.prototype.slice.call(f,t,t+n)),l=!0,s=it(n),!s)throw new o.ErrnoError(48);$.set(f,s)}return{ptr:s,allocated:l}},msync:function(e,r,n,t,i){if(!o.isFile(e.node.mode))throw new o.ErrnoError(43);return i&2||k.stream_ops.write(e,r,0,t,n,!1),0}}},O={dbs:{},indexedDB:function(){if(typeof indexedDB<"u")return indexedDB;var e=null;return typeof window=="object"&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),ae(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return k.mount.apply(null,arguments)},syncfs:function(e,r,n){O.getLocalSet(e,function(t,i){if(t)return n(t);O.getRemoteSet(e,function(a,s){if(a)return n(a);var l=r?s:i,f=r?i:s;O.reconcile(l,f,n)})})},getDB:function(e,r){var n=O.dbs[e];if(n)return r(null,n);var t;try{t=O.indexedDB().open(e,O.DB_VERSION)}catch(i){return r(i)}if(!t)return r("Unable to connect to IndexedDB");t.onupgradeneeded=function(i){var a=i.target.result,s=i.target.transaction,l;a.objectStoreNames.contains(O.DB_STORE_NAME)?l=s.objectStore(O.DB_STORE_NAME):l=a.createObjectStore(O.DB_STORE_NAME),l.indexNames.contains("timestamp")||l.createIndex("timestamp","timestamp",{unique:!1})},t.onsuccess=function(){n=t.result,O.dbs[e]=n,r(null,n)},t.onerror=function(i){r(this.error),i.preventDefault()}},getLocalSet:function(e,r){var n={};function t(f){return f!=="."&&f!==".."}function i(f){return function(c){return P.join2(f,c)}}for(var a=o.readdir(e.mountpoint).filter(t).map(i(e.mountpoint));a.length;){var s=a.pop(),l;try{l=o.stat(s)}catch(f){return r(f)}o.isDir(l.mode)&&a.push.apply(a,o.readdir(s).filter(t).map(i(s))),n[s]={timestamp:l.mtime}}return r(null,{type:"local",entries:n})},getRemoteSet:function(e,r){var n={};O.getDB(e.mountpoint,function(t,i){if(t)return r(t);try{var a=i.transaction([O.DB_STORE_NAME],"readonly");a.onerror=function(f){r(this.error),f.preventDefault()};var s=a.objectStore(O.DB_STORE_NAME),l=s.index("timestamp");l.openKeyCursor().onsuccess=function(f){var c=f.target.result;if(!c)return r(null,{type:"remote",db:i,entries:n});n[c.primaryKey]={timestamp:c.key},c.continue()}}catch(f){return r(f)}})},loadLocalEntry:function(e,r){var n,t;try{var i=o.lookupPath(e);t=i.node,n=o.stat(e)}catch(a){return r(a)}return o.isDir(n.mode)?r(null,{timestamp:n.mtime,mode:n.mode}):o.isFile(n.mode)?(t.contents=k.getFileDataAsTypedArray(t),r(null,{timestamp:n.mtime,mode:n.mode,contents:t.contents})):r(new Error("node type not supported"))},storeLocalEntry:function(e,r,n){try{if(o.isDir(r.mode))o.mkdir(e,r.mode);else if(o.isFile(r.mode))o.writeFile(e,r.contents,{canOwn:!0});else return n(new Error("node type not supported"));o.chmod(e,r.mode),o.utime(e,r.timestamp,r.timestamp)}catch(t){return n(t)}n(null)},removeLocalEntry:function(e,r){try{var n=o.lookupPath(e),t=o.stat(e);o.isDir(t.mode)?o.rmdir(e):o.isFile(t.mode)&&o.unlink(e)}catch(i){return r(i)}r(null)},loadRemoteEntry:function(e,r,n){var t=e.get(r);t.onsuccess=function(i){n(null,i.target.result)},t.onerror=function(i){n(this.error),i.preventDefault()}},storeRemoteEntry:function(e,r,n,t){var i=e.put(n,r);i.onsuccess=function(){t(null)},i.onerror=function(a){t(this.error),a.preventDefault()}},removeRemoteEntry:function(e,r,n){var t=e.delete(r);t.onsuccess=function(){n(null)},t.onerror=function(i){n(this.error),i.preventDefault()}},reconcile:function(e,r,n){var t=0,i=[];Object.keys(e.entries).forEach(function(v){var p=e.entries[v],y=r.entries[v];(!y||p.timestamp.getTime()!=y.timestamp.getTime())&&(i.push(v),t++)});var a=[];if(Object.keys(r.entries).forEach(function(v){r.entries[v];var p=e.entries[v];p||(a.push(v),t++)}),!t)return n(null);var s=!1,l=e.type==="remote"?e.db:r.db,f=l.transaction([O.DB_STORE_NAME],"readwrite"),c=f.objectStore(O.DB_STORE_NAME);function m(v){if(v&&!s)return s=!0,n(v)}f.onerror=function(v){m(this.error),v.preventDefault()},f.oncomplete=function(v){s||n(null)},i.sort().forEach(function(v){r.type==="local"?O.loadRemoteEntry(c,v,function(p,y){if(p)return m(p);O.storeLocalEntry(v,y,m)}):O.loadLocalEntry(v,function(p,y){if(p)return m(p);O.storeRemoteEntry(c,v,y,m)})}),a.sort().reverse().forEach(function(v){r.type==="local"?O.removeLocalEntry(v,m):O.removeRemoteEntry(c,v,m)})}},o={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,r){if(e=te.resolve(o.cwd(),e),r=r||{},!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var t in n)r[t]===void 0&&(r[t]=n[t]);if(r.recurse_count>8)throw new o.ErrnoError(32);for(var i=P.normalizeArray(e.split("/").filter(function(p){return!!p}),!1),a=o.root,s="/",l=0;l<i.length;l++){var f=l===i.length-1;if(f&&r.parent)break;if(a=o.lookupNode(a,i[l]),s=P.join2(s,i[l]),o.isMountpoint(a)&&(!f||f&&r.follow_mount)&&(a=a.mounted.root),!f||r.follow)for(var c=0;o.isLink(a.mode);){var m=o.readlink(s);s=te.resolve(P.dirname(s),m);var v=o.lookupPath(s,{recurse_count:r.recurse_count});if(a=v.node,c++>40)throw new o.ErrnoError(32)}}return{path:s,node:a}},getPath:function(e){for(var r;;){if(o.isRoot(e)){var n=e.mount.mountpoint;return r?n[n.length-1]!=="/"?n+"/"+r:n+r:n}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var n=0,t=0;t<r.length;t++)n=(n<<5)-n+r.charCodeAt(t)|0;return(e+n>>>0)%o.nameTable.length},hashAddNode:function(e){var r=o.hashName(e.parent.id,e.name);e.name_next=o.nameTable[r],o.nameTable[r]=e},hashRemoveNode:function(e){var r=o.hashName(e.parent.id,e.name);if(o.nameTable[r]===e)o.nameTable[r]=e.name_next;else for(var n=o.nameTable[r];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,r){var n=o.mayLookup(e);if(n)throw new o.ErrnoError(n,e);for(var t=o.hashName(e.id,r),i=o.nameTable[t];i;i=i.name_next){var a=i.name;if(i.parent.id===e.id&&a===r)return i}return o.lookup(e,r)},createNode:function(e,r,n,t){var i=new o.FSNode(e,r,n,t);return o.hashAddNode(i),i},destroyNode:function(e){o.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return(e&61440)===32768},isDir:function(e){return(e&61440)===16384},isLink:function(e){return(e&61440)===40960},isChrdev:function(e){return(e&61440)===8192},isBlkdev:function(e){return(e&61440)===24576},isFIFO:function(e){return(e&61440)===4096},isSocket:function(e){return(e&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var r=o.flagModes[e];if(typeof r>"u")throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][e&3];return e&512&&(r+="w"),r},nodePermissions:function(e,r){return o.ignorePermissions?0:r.indexOf("r")!==-1&&!(e.mode&292)||r.indexOf("w")!==-1&&!(e.mode&146)||r.indexOf("x")!==-1&&!(e.mode&73)?2:0},mayLookup:function(e){var r=o.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:function(e,r){try{var n=o.lookupNode(e,r);return 20}catch{}return o.nodePermissions(e,"wx")},mayDelete:function(e,r,n){var t;try{t=o.lookupNode(e,r)}catch(a){return a.errno}var i=o.nodePermissions(e,"wx");if(i)return i;if(n){if(!o.isDir(t.mode))return 54;if(o.isRoot(t)||o.getPath(t)===o.cwd())return 10}else if(o.isDir(t.mode))return 31;return 0},mayOpen:function(e,r){return e?o.isLink(e.mode)?32:o.isDir(e.mode)&&(o.flagsToPermissionString(r)!=="r"||r&512)?31:o.nodePermissions(e,o.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd:function(e,r){e=e||0,r=r||o.MAX_OPEN_FDS;for(var n=e;n<=r;n++)if(!o.streams[n])return n;throw new o.ErrnoError(33)},getStream:function(e){return o.streams[e]},createStream:function(e,r,n){o.FSStream||(o.FSStream=function(){},o.FSStream.prototype={object:{get:function(){return this.node},set:function(s){this.node=s}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var t=new o.FSStream;for(var i in e)t[i]=e[i];e=t;var a=o.nextfd(r,n);return e.fd=a,o.streams[a]=e,e},closeStream:function(e){o.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=o.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new o.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return e&255},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){o.devices[e]={stream_ops:r}},getDevice:function(e){return o.devices[e]},getMounts:function(e){for(var r=[],n=[e];n.length;){var t=n.pop();r.push(t),n.push.apply(n,t.mounts)}return r},syncfs:function(e,r){typeof e=="function"&&(r=e,e=!1),o.syncFSRequests++,o.syncFSRequests>1&&B("warning: "+o.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=o.getMounts(o.root.mount),t=0;function i(s){return o.syncFSRequests--,r(s)}function a(s){if(s)return a.errored?void 0:(a.errored=!0,i(s));++t>=n.length&&i(null)}n.forEach(function(s){if(!s.type.syncfs)return a(null);s.type.syncfs(s,e,a)})},mount:function(e,r,n){var t=n==="/",i=!n,a;if(t&&o.root)throw new o.ErrnoError(10);if(!t&&!i){var s=o.lookupPath(n,{follow_mount:!1});if(n=s.path,a=s.node,o.isMountpoint(a))throw new o.ErrnoError(10);if(!o.isDir(a.mode))throw new o.ErrnoError(54)}var l={type:e,opts:r,mountpoint:n,mounts:[]},f=e.mount(l);return f.mount=l,l.root=f,t?o.root=f:a&&(a.mounted=l,a.mount&&a.mount.mounts.push(l)),f},unmount:function(e){var r=o.lookupPath(e,{follow_mount:!1});if(!o.isMountpoint(r.node))throw new o.ErrnoError(28);var n=r.node,t=n.mounted,i=o.getMounts(t);Object.keys(o.nameTable).forEach(function(s){for(var l=o.nameTable[s];l;){var f=l.name_next;i.indexOf(l.mount)!==-1&&o.destroyNode(l),l=f}}),n.mounted=null;var a=n.mount.mounts.indexOf(t);n.mount.mounts.splice(a,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,n){var t=o.lookupPath(e,{parent:!0}),i=t.node,a=P.basename(e);if(!a||a==="."||a==="..")throw new o.ErrnoError(28);var s=o.mayCreate(i,a);if(s)throw new o.ErrnoError(s);if(!i.node_ops.mknod)throw new o.ErrnoError(63);return i.node_ops.mknod(i,a,r,n)},create:function(e,r){return r=r!==void 0?r:438,r&=4095,r|=32768,o.mknod(e,r,0)},mkdir:function(e,r){return r=r!==void 0?r:511,r&=1023,r|=16384,o.mknod(e,r,0)},mkdirTree:function(e,r){for(var n=e.split("/"),t="",i=0;i<n.length;++i)if(n[i]){t+="/"+n[i];try{o.mkdir(t,r)}catch(a){if(a.errno!=20)throw a}}},mkdev:function(e,r,n){return typeof n>"u"&&(n=r,r=438),r|=8192,o.mknod(e,r,n)},symlink:function(e,r){if(!te.resolve(e))throw new o.ErrnoError(44);var n=o.lookupPath(r,{parent:!0}),t=n.node;if(!t)throw new o.ErrnoError(44);var i=P.basename(r),a=o.mayCreate(t,i);if(a)throw new o.ErrnoError(a);if(!t.node_ops.symlink)throw new o.ErrnoError(63);return t.node_ops.symlink(t,i,e)},rename:function(e,r){var n=P.dirname(e),t=P.dirname(r),i=P.basename(e),a=P.basename(r),s,l,f;if(s=o.lookupPath(e,{parent:!0}),l=s.node,s=o.lookupPath(r,{parent:!0}),f=s.node,!l||!f)throw new o.ErrnoError(44);if(l.mount!==f.mount)throw new o.ErrnoError(75);var c=o.lookupNode(l,i),m=te.relative(e,t);if(m.charAt(0)!==".")throw new o.ErrnoError(28);if(m=te.relative(r,n),m.charAt(0)!==".")throw new o.ErrnoError(55);var v;try{v=o.lookupNode(f,a)}catch{}if(c!==v){var p=o.isDir(c.mode),y=o.mayDelete(l,i,p);if(y)throw new o.ErrnoError(y);if(y=v?o.mayDelete(f,a,p):o.mayCreate(f,a),y)throw new o.ErrnoError(y);if(!l.node_ops.rename)throw new o.ErrnoError(63);if(o.isMountpoint(c)||v&&o.isMountpoint(v))throw new o.ErrnoError(10);if(f!==l&&(y=o.nodePermissions(l,"w"),y))throw new o.ErrnoError(y);try{o.trackingDelegate.willMovePath&&o.trackingDelegate.willMovePath(e,r)}catch(w){B("FS.trackingDelegate['willMovePath']('"+e+"', '"+r+"') threw an exception: "+w.message)}o.hashRemoveNode(c);try{l.node_ops.rename(c,f,a)}catch(w){throw w}finally{o.hashAddNode(c)}try{o.trackingDelegate.onMovePath&&o.trackingDelegate.onMovePath(e,r)}catch(w){B("FS.trackingDelegate['onMovePath']('"+e+"', '"+r+"') threw an exception: "+w.message)}}},rmdir:function(e){var r=o.lookupPath(e,{parent:!0}),n=r.node,t=P.basename(e),i=o.lookupNode(n,t),a=o.mayDelete(n,t,!0);if(a)throw new o.ErrnoError(a);if(!n.node_ops.rmdir)throw new o.ErrnoError(63);if(o.isMountpoint(i))throw new o.ErrnoError(10);try{o.trackingDelegate.willDeletePath&&o.trackingDelegate.willDeletePath(e)}catch(s){B("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+s.message)}n.node_ops.rmdir(n,t),o.destroyNode(i);try{o.trackingDelegate.onDeletePath&&o.trackingDelegate.onDeletePath(e)}catch(s){B("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+s.message)}},readdir:function(e){var r=o.lookupPath(e,{follow:!0}),n=r.node;if(!n.node_ops.readdir)throw new o.ErrnoError(54);return n.node_ops.readdir(n)},unlink:function(e){var r=o.lookupPath(e,{parent:!0}),n=r.node,t=P.basename(e),i=o.lookupNode(n,t),a=o.mayDelete(n,t,!1);if(a)throw new o.ErrnoError(a);if(!n.node_ops.unlink)throw new o.ErrnoError(63);if(o.isMountpoint(i))throw new o.ErrnoError(10);try{o.trackingDelegate.willDeletePath&&o.trackingDelegate.willDeletePath(e)}catch(s){B("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+s.message)}n.node_ops.unlink(n,t),o.destroyNode(i);try{o.trackingDelegate.onDeletePath&&o.trackingDelegate.onDeletePath(e)}catch(s){B("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+s.message)}},readlink:function(e){var r=o.lookupPath(e),n=r.node;if(!n)throw new o.ErrnoError(44);if(!n.node_ops.readlink)throw new o.ErrnoError(28);return te.resolve(o.getPath(n.parent),n.node_ops.readlink(n))},stat:function(e,r){var n=o.lookupPath(e,{follow:!r}),t=n.node;if(!t)throw new o.ErrnoError(44);if(!t.node_ops.getattr)throw new o.ErrnoError(63);return t.node_ops.getattr(t)},lstat:function(e){return o.stat(e,!0)},chmod:function(e,r,n){var t;if(typeof e=="string"){var i=o.lookupPath(e,{follow:!n});t=i.node}else t=e;if(!t.node_ops.setattr)throw new o.ErrnoError(63);t.node_ops.setattr(t,{mode:r&4095|t.mode&-4096,timestamp:Date.now()})},lchmod:function(e,r){o.chmod(e,r,!0)},fchmod:function(e,r){var n=o.getStream(e);if(!n)throw new o.ErrnoError(8);o.chmod(n.node,r)},chown:function(e,r,n,t){var i;if(typeof e=="string"){var a=o.lookupPath(e,{follow:!t});i=a.node}else i=e;if(!i.node_ops.setattr)throw new o.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,r,n){o.chown(e,r,n,!0)},fchown:function(e,r,n){var t=o.getStream(e);if(!t)throw new o.ErrnoError(8);o.chown(t.node,r,n)},truncate:function(e,r){if(r<0)throw new o.ErrnoError(28);var n;if(typeof e=="string"){var t=o.lookupPath(e,{follow:!0});n=t.node}else n=e;if(!n.node_ops.setattr)throw new o.ErrnoError(63);if(o.isDir(n.mode))throw new o.ErrnoError(31);if(!o.isFile(n.mode))throw new o.ErrnoError(28);var i=o.nodePermissions(n,"w");if(i)throw new o.ErrnoError(i);n.node_ops.setattr(n,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){var n=o.getStream(e);if(!n)throw new o.ErrnoError(8);if(!(n.flags&2097155))throw new o.ErrnoError(28);o.truncate(n.node,r)},utime:function(e,r,n){var t=o.lookupPath(e,{follow:!0}),i=t.node;i.node_ops.setattr(i,{timestamp:Math.max(r,n)})},open:function(e,r,n,t,i){if(e==="")throw new o.ErrnoError(44);r=typeof r=="string"?o.modeStringToFlags(r):r,n=typeof n>"u"?438:n,r&64?n=n&4095|32768:n=0;var a;if(typeof e=="object")a=e;else{e=P.normalize(e);try{var s=o.lookupPath(e,{follow:!(r&131072)});a=s.node}catch{}}var l=!1;if(r&64)if(a){if(r&128)throw new o.ErrnoError(20)}else a=o.mknod(e,n,0),l=!0;if(!a)throw new o.ErrnoError(44);if(o.isChrdev(a.mode)&&(r&=-513),r&65536&&!o.isDir(a.mode))throw new o.ErrnoError(54);if(!l){var f=o.mayOpen(a,r);if(f)throw new o.ErrnoError(f)}r&512&&o.truncate(a,0),r&=-131713;var c=o.createStream({node:a,path:o.getPath(a),flags:r,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},t,i);c.stream_ops.open&&c.stream_ops.open(c),u.logReadFiles&&!(r&1)&&(o.readFiles||(o.readFiles={}),e in o.readFiles||(o.readFiles[e]=1,B("FS.trackingDelegate error on read file: "+e)));try{if(o.trackingDelegate.onOpenFile){var m=0;(r&2097155)!==1&&(m|=o.tracking.openFlags.READ),r&2097155&&(m|=o.tracking.openFlags.WRITE),o.trackingDelegate.onOpenFile(e,m)}}catch(v){B("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+v.message)}return c},close:function(e){if(o.isClosed(e))throw new o.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{o.closeStream(e.fd)}e.fd=null},isClosed:function(e){return e.fd===null},llseek:function(e,r,n){if(o.isClosed(e))throw new o.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new o.ErrnoError(70);if(n!=0&&n!=1&&n!=2)throw new o.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,n),e.ungotten=[],e.position},read:function(e,r,n,t,i){if(t<0||i<0)throw new o.ErrnoError(28);if(o.isClosed(e))throw new o.ErrnoError(8);if((e.flags&2097155)===1)throw new o.ErrnoError(8);if(o.isDir(e.node.mode))throw new o.ErrnoError(31);if(!e.stream_ops.read)throw new o.ErrnoError(28);var a=typeof i<"u";if(!a)i=e.position;else if(!e.seekable)throw new o.ErrnoError(70);var s=e.stream_ops.read(e,r,n,t,i);return a||(e.position+=s),s},write:function(e,r,n,t,i,a){if(t<0||i<0)throw new o.ErrnoError(28);if(o.isClosed(e))throw new o.ErrnoError(8);if(!(e.flags&2097155))throw new o.ErrnoError(8);if(o.isDir(e.node.mode))throw new o.ErrnoError(31);if(!e.stream_ops.write)throw new o.ErrnoError(28);e.seekable&&e.flags&1024&&o.llseek(e,0,2);var s=typeof i<"u";if(!s)i=e.position;else if(!e.seekable)throw new o.ErrnoError(70);var l=e.stream_ops.write(e,r,n,t,i,a);s||(e.position+=l);try{e.path&&o.trackingDelegate.onWriteToFile&&o.trackingDelegate.onWriteToFile(e.path)}catch(f){B("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+f.message)}return l},allocate:function(e,r,n){if(o.isClosed(e))throw new o.ErrnoError(8);if(r<0||n<=0)throw new o.ErrnoError(28);if(!(e.flags&2097155))throw new o.ErrnoError(8);if(!o.isFile(e.node.mode)&&!o.isDir(e.node.mode))throw new o.ErrnoError(43);if(!e.stream_ops.allocate)throw new o.ErrnoError(138);e.stream_ops.allocate(e,r,n)},mmap:function(e,r,n,t,i,a){if(i&2&&!(a&2)&&(e.flags&2097155)!==2)throw new o.ErrnoError(2);if((e.flags&2097155)===1)throw new o.ErrnoError(2);if(!e.stream_ops.mmap)throw new o.ErrnoError(43);return e.stream_ops.mmap(e,r,n,t,i,a)},msync:function(e,r,n,t,i){return!e||!e.stream_ops.msync?0:e.stream_ops.msync(e,r,n,t,i)},munmap:function(e){return 0},ioctl:function(e,r,n){if(!e.stream_ops.ioctl)throw new o.ErrnoError(59);return e.stream_ops.ioctl(e,r,n)},readFile:function(e,r){if(r=r||{},r.flags=r.flags||0,r.encoding=r.encoding||"binary",r.encoding!=="utf8"&&r.encoding!=="binary")throw new Error('Invalid encoding type "'+r.encoding+'"');var n,t=o.open(e,r.flags),i=o.stat(e),a=i.size,s=new Uint8Array(a);return o.read(t,s,0,a,0),r.encoding==="utf8"?n=ve(s,0):r.encoding==="binary"&&(n=s),o.close(t),n},writeFile:function(e,r,n){n=n||{},n.flags=n.flags||577;var t=o.open(e,n.flags,n.mode);if(typeof r=="string"){var i=new Uint8Array(be(r)+1),a=Be(r,i,0,i.length);o.write(t,i,0,a,void 0,n.canOwn)}else if(ArrayBuffer.isView(r))o.write(t,r,0,r.byteLength,void 0,n.canOwn);else throw new Error("Unsupported data type");o.close(t)},cwd:function(){return o.currentPath},chdir:function(e){var r=o.lookupPath(e,{follow:!0});if(r.node===null)throw new o.ErrnoError(44);if(!o.isDir(r.node.mode))throw new o.ErrnoError(54);var n=o.nodePermissions(r.node,"x");if(n)throw new o.ErrnoError(n);o.currentPath=r.path},createDefaultDirectories:function(){o.mkdir("/tmp"),o.mkdir("/home"),o.mkdir("/home/web_user")},createDefaultDevices:function(){o.mkdir("/dev"),o.registerDevice(o.makedev(1,3),{read:function(){return 0},write:function(r,n,t,i,a){return i}}),o.mkdev("/dev/null",o.makedev(1,3)),fe.register(o.makedev(5,0),fe.default_tty_ops),fe.register(o.makedev(6,0),fe.default_tty1_ops),o.mkdev("/dev/tty",o.makedev(5,0)),o.mkdev("/dev/tty1",o.makedev(6,0));var e=tt();o.createDevice("/dev","random",e),o.createDevice("/dev","urandom",e),o.mkdir("/dev/shm"),o.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){o.mkdir("/proc");var e=o.mkdir("/proc/self");o.mkdir("/proc/self/fd"),o.mount({mount:function(){var r=o.createNode(e,"fd",16895,73);return r.node_ops={lookup:function(n,t){var i=+t,a=o.getStream(i);if(!a)throw new o.ErrnoError(8);var s={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return a.path}}};return s.parent=s,s}},r}},{},"/proc/self/fd")},createStandardStreams:function(){u.stdin?o.createDevice("/dev","stdin",u.stdin):o.symlink("/dev/tty","/dev/stdin"),u.stdout?o.createDevice("/dev","stdout",null,u.stdout):o.symlink("/dev/tty","/dev/stdout"),u.stderr?o.createDevice("/dev","stderr",null,u.stderr):o.symlink("/dev/tty1","/dev/stderr"),o.open("/dev/stdin",0),o.open("/dev/stdout",1),o.open("/dev/stderr",1)},ensureErrnoError:function(){o.ErrnoError||(o.ErrnoError=function(r,n){this.node=n,this.setErrno=function(t){this.errno=t},this.setErrno(r),this.message="FS error"},o.ErrnoError.prototype=new Error,o.ErrnoError.prototype.constructor=o.ErrnoError,[44].forEach(function(e){o.genericErrors[e]=new o.ErrnoError(e),o.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){o.ensureErrnoError(),o.nameTable=new Array(4096),o.mount(k,{},"/"),o.createDefaultDirectories(),o.createDefaultDevices(),o.createSpecialDirectories(),o.filesystems={MEMFS:k,IDBFS:O}},init:function(e,r,n){o.init.initialized=!0,o.ensureErrnoError(),u.stdin=e||u.stdin,u.stdout=r||u.stdout,u.stderr=n||u.stderr,o.createStandardStreams()},quit:function(){o.init.initialized=!1;var e=u._fflush;e&&e(0);for(var r=0;r<o.streams.length;r++){var n=o.streams[r];n&&o.close(n)}},getMode:function(e,r){var n=0;return e&&(n|=365),r&&(n|=146),n},findObject:function(e,r){var n=o.analyzePath(e,r);return n.exists?n.object:null},analyzePath:function(e,r){try{var n=o.lookupPath(e,{follow:!r});e=n.path}catch{}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=o.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=n.path,t.parentObject=n.node,t.name=P.basename(e),n=o.lookupPath(e,{follow:!r}),t.exists=!0,t.path=n.path,t.object=n.node,t.name=n.node.name,t.isRoot=n.path==="/"}catch(i){t.error=i.errno}return t},createPath:function(e,r,n,t){e=typeof e=="string"?e:o.getPath(e);for(var i=r.split("/").reverse();i.length;){var a=i.pop();if(a){var s=P.join2(e,a);try{o.mkdir(s)}catch{}e=s}}return s},createFile:function(e,r,n,t,i){var a=P.join2(typeof e=="string"?e:o.getPath(e),r),s=o.getMode(t,i);return o.create(a,s)},createDataFile:function(e,r,n,t,i,a){var s=r?P.join2(typeof e=="string"?e:o.getPath(e),r):e,l=o.getMode(t,i),f=o.create(s,l);if(n){if(typeof n=="string"){for(var c=new Array(n.length),m=0,v=n.length;m<v;++m)c[m]=n.charCodeAt(m);n=c}o.chmod(f,l|146);var p=o.open(f,577);o.write(p,n,0,n.length,0,a),o.close(p),o.chmod(f,l)}return f},createDevice:function(e,r,n,t){var i=P.join2(typeof e=="string"?e:o.getPath(e),r),a=o.getMode(!!n,!!t);o.createDevice.major||(o.createDevice.major=64);var s=o.makedev(o.createDevice.major++,0);return o.registerDevice(s,{open:function(l){l.seekable=!1},close:function(l){t&&t.buffer&&t.buffer.length&&t(10)},read:function(l,f,c,m,v){for(var p=0,y=0;y<m;y++){var w;try{w=n()}catch{throw new o.ErrnoError(29)}if(w===void 0&&p===0)throw new o.ErrnoError(6);if(w==null)break;p++,f[c+y]=w}return p&&(l.node.timestamp=Date.now()),p},write:function(l,f,c,m,v){for(var p=0;p<m;p++)try{t(f[c+p])}catch{throw new o.ErrnoError(29)}return m&&(l.node.timestamp=Date.now()),p}}),o.mkdev(i,a,s)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(or)try{e.contents=nr(or(e.url),!0),e.usedBytes=e.contents.length}catch{throw new o.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(e,r,n,t,i){function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(p){if(!(p>this.length-1||p<0)){var y=p%this.chunkSize,w=p/this.chunkSize|0;return this.getter(w)[y]}},a.prototype.setDataGetter=function(p){this.getter=p},a.prototype.cacheLength=function(){var p=new XMLHttpRequest;if(p.open("HEAD",n,!1),p.send(null),!(p.status>=200&&p.status<300||p.status===304))throw new Error("Couldn't load "+n+". Status: "+p.status);var y=Number(p.getResponseHeader("Content-length")),w,E=(w=p.getResponseHeader("Accept-Ranges"))&&w==="bytes",R=(w=p.getResponseHeader("Content-Encoding"))&&w==="gzip",T=1024*1024;E||(T=y);var h=function(C,D){if(C>D)throw new Error("invalid range ("+C+", "+D+") or no bytes requested!");if(D>y-1)throw new Error("only "+y+" bytes available! programmer error!");var F=new XMLHttpRequest;if(F.open("GET",n,!1),y!==T&&F.setRequestHeader("Range","bytes="+C+"-"+D),typeof Uint8Array<"u"&&(F.responseType="arraybuffer"),F.overrideMimeType&&F.overrideMimeType("text/plain; charset=x-user-defined"),F.send(null),!(F.status>=200&&F.status<300||F.status===304))throw new Error("Couldn't load "+n+". Status: "+F.status);return F.response!==void 0?new Uint8Array(F.response||[]):nr(F.responseText||"",!0)},_=this;_.setDataGetter(function(C){var D=C*T,F=(C+1)*T-1;if(F=Math.min(F,y-1),typeof _.chunks[C]>"u"&&(_.chunks[C]=h(D,F)),typeof _.chunks[C]>"u")throw new Error("doXHR failed!");return _.chunks[C]}),(R||!y)&&(T=y=1,y=this.getter(0).length,T=y,Le("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=y,this._chunkSize=T,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s,l}else var l={isDevice:!1,url:n};var f=o.createFile(e,r,l,t,i);l.contents?f.contents=l.contents:l.url&&(f.contents=null,f.url=l.url),Object.defineProperties(f,{usedBytes:{get:function(){return this.contents.length}}});var c={},m=Object.keys(f.stream_ops);return m.forEach(function(v){var p=f.stream_ops[v];c[v]=function(){return o.forceLoadFile(f),p.apply(null,arguments)}}),c.read=function(p,y,w,E,R){o.forceLoadFile(f);var T=p.node.contents;if(R>=T.length)return 0;var h=Math.min(T.length-R,E);if(T.slice)for(var _=0;_<h;_++)y[w+_]=T[R+_];else for(var _=0;_<h;_++)y[w+_]=T.get(R+_);return h},f.stream_ops=c,f},createPreloadedFile:function(e,r,n,t,i,a,s,l,f,c){d.init();var m=r?te.resolve(P.join2(e,r)):e;function v(p){function y(E){c&&c(),l||o.createDataFile(e,r,E,t,i,f),a&&a(),Ie()}var w=!1;u.preloadPlugins.forEach(function(E){w||E.canHandle(m)&&(E.handle(p,m,y,function(){s&&s(),Ie()}),w=!0)}),w||y(p)}sr(),typeof n=="string"?d.asyncLoad(n,function(p){v(p)},s):v(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,r,n){r=r||function(){},n=n||function(){};var t=o.indexedDB();try{var i=t.open(o.DB_NAME(),o.DB_VERSION)}catch(a){return n(a)}i.onupgradeneeded=function(){Le("creating db");var s=i.result;s.createObjectStore(o.DB_STORE_NAME)},i.onsuccess=function(){var s=i.result,l=s.transaction([o.DB_STORE_NAME],"readwrite"),f=l.objectStore(o.DB_STORE_NAME),c=0,m=0,v=e.length;function p(){m==0?r():n()}e.forEach(function(y){var w=f.put(o.analyzePath(y).object.contents,y);w.onsuccess=function(){c++,c+m==v&&p()},w.onerror=function(){m++,c+m==v&&p()}}),l.onerror=n},i.onerror=n},loadFilesFromDB:function(e,r,n){r=r||function(){},n=n||function(){};var t=o.indexedDB();try{var i=t.open(o.DB_NAME(),o.DB_VERSION)}catch(a){return n(a)}i.onupgradeneeded=n,i.onsuccess=function(){var s=i.result;try{var l=s.transaction([o.DB_STORE_NAME],"readonly")}catch(y){n(y);return}var f=l.objectStore(o.DB_STORE_NAME),c=0,m=0,v=e.length;function p(){m==0?r():n()}e.forEach(function(y){var w=f.get(y);w.onsuccess=function(){o.analyzePath(y).exists&&o.unlink(y),o.createDataFile(P.dirname(y),P.basename(y),w.result,!0,!0,!0),c++,c+m==v&&p()},w.onerror=function(){m++,c+m==v&&p()}}),l.onerror=n},i.onerror=n}},M={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,r,n){if(r[0]==="/")return r;var t;if(e===-100)t=o.cwd();else{var i=o.getStream(e);if(!i)throw new o.ErrnoError(8);t=i.path}if(r.length==0){if(!n)throw new o.ErrnoError(44);return t}return P.join2(t,r)},doStat:function(e,r,n){try{var t=e(r)}catch(i){if(i&&i.node&&P.normalize(r)!==P.normalize(o.getPath(i.node)))return-54;throw i}return g[n>>2]=t.dev,g[n+4>>2]=0,g[n+8>>2]=t.ino,g[n+12>>2]=t.mode,g[n+16>>2]=t.nlink,g[n+20>>2]=t.uid,g[n+24>>2]=t.gid,g[n+28>>2]=t.rdev,g[n+32>>2]=0,j=[t.size>>>0,(A=t.size,+Math.abs(A)>=1?A>0?(Math.min(+Math.floor(A/4294967296),4294967295)|0)>>>0:~~+Math.ceil((A-+(~~A>>>0))/4294967296)>>>0:0)],g[n+40>>2]=j[0],g[n+44>>2]=j[1],g[n+48>>2]=4096,g[n+52>>2]=t.blocks,g[n+56>>2]=t.atime.getTime()/1e3|0,g[n+60>>2]=0,g[n+64>>2]=t.mtime.getTime()/1e3|0,g[n+68>>2]=0,g[n+72>>2]=t.ctime.getTime()/1e3|0,g[n+76>>2]=0,j=[t.ino>>>0,(A=t.ino,+Math.abs(A)>=1?A>0?(Math.min(+Math.floor(A/4294967296),4294967295)|0)>>>0:~~+Math.ceil((A-+(~~A>>>0))/4294967296)>>>0:0)],g[n+80>>2]=j[0],g[n+84>>2]=j[1],0},doMsync:function(e,r,n,t,i){var a=I.slice(e,e+n);o.msync(r,a,i,n,t)},doMkdir:function(e,r){return e=P.normalize(e),e[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),o.mkdir(e,r,0),0},doMknod:function(e,r,n){switch(r&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return o.mknod(e,r,n),0},doReadlink:function(e,r,n){if(n<=0)return-28;var t=o.readlink(e),i=Math.min(n,be(t)),a=$[r+i];return xe(t,r,n+1),$[r+i]=a,i},doAccess:function(e,r){if(r&-8)return-28;var n,t=o.lookupPath(e,{follow:!0});if(n=t.node,!n)return-44;var i="";return r&4&&(i+="r"),r&2&&(i+="w"),r&1&&(i+="x"),i&&o.nodePermissions(n,i)?-2:0},doDup:function(e,r,n){var t=o.getStream(n);return t&&o.close(t),o.open(e,r,0,n,n).fd},doReadv:function(e,r,n,t){for(var i=0,a=0;a<n;a++){var s=g[r+a*8>>2],l=g[r+(a*8+4)>>2],f=o.read(e,$,s,l,t);if(f<0)return-1;if(i+=f,f<l)break}return i},doWritev:function(e,r,n,t){for(var i=0,a=0;a<n;a++){var s=g[r+a*8>>2],l=g[r+(a*8+4)>>2],f=o.write(e,$,s,l,t);if(f<0)return-1;i+=f}return i},varargs:void 0,get:function(){M.varargs+=4;var e=g[M.varargs-4>>2];return e},getStr:function(e){var r=ue(e);return r},getStreamFromFD:function(e){var r=o.getStream(e);if(!r)throw new o.ErrnoError(8);return r},get64:function(e,r){return e}};function ot(e,r,n){M.varargs=n;try{var t=M.getStreamFromFD(e);switch(r){case 0:{var i=M.get();if(i<0)return-28;var a;return a=o.open(t.path,t.flags,0,i),a.fd}case 1:case 2:return 0;case 3:return t.flags;case 4:{var i=M.get();return t.flags|=i,0}case 12:{var i=M.get(),s=0;return ne[i+s>>1]=2,0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:return Nr(28),-1;default:return-28}}catch(l){return(typeof o>"u"||!(l instanceof o.ErrnoError))&&L(l),-l.errno}}function at(e,r){try{var n=M.getStreamFromFD(e);return M.doStat(o.stat,n.path,r)}catch(t){return(typeof o>"u"||!(t instanceof o.ErrnoError))&&L(t),-t.errno}}function ut(e,r,n){try{var t=M.getStreamFromFD(e);t.getdents||(t.getdents=o.readdir(t.path));for(var i=280,a=0,s=o.llseek(t,0,1),l=Math.floor(s/i);l<t.getdents.length&&a+i<=n;){var f,c,m=t.getdents[l];if(m[0]===".")f=1,c=4;else{var v=o.lookupNode(t.node,m);f=v.id,c=o.isChrdev(v.mode)?2:o.isDir(v.mode)?4:o.isLink(v.mode)?10:8}j=[f>>>0,(A=f,+Math.abs(A)>=1?A>0?(Math.min(+Math.floor(A/4294967296),4294967295)|0)>>>0:~~+Math.ceil((A-+(~~A>>>0))/4294967296)>>>0:0)],g[r+a>>2]=j[0],g[r+a+4>>2]=j[1],j=[(l+1)*i>>>0,(A=(l+1)*i,+Math.abs(A)>=1?A>0?(Math.min(+Math.floor(A/4294967296),4294967295)|0)>>>0:~~+Math.ceil((A-+(~~A>>>0))/4294967296)>>>0:0)],g[r+a+8>>2]=j[0],g[r+a+12>>2]=j[1],ne[r+a+16>>1]=280,$[r+a+18>>0]=c,xe(m,r+a+19,256),a+=i,l+=1}return o.llseek(t,l*i,0),a}catch(p){return(typeof o>"u"||!(p instanceof o.ErrnoError))&&L(p),-p.errno}}function je(){return 0}function st(){return je()}function lt(){return je()}function ft(){return 42}function ct(){return je()}function dt(e,r,n){M.varargs=n;try{var t=M.getStreamFromFD(e);switch(r){case 21509:case 21505:return t.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return t.tty?0:-59;case 21519:{if(!t.tty)return-59;var i=M.get();return g[i>>2]=0,0}case 21520:return t.tty?-28:-59;case 21531:{var i=M.get();return o.ioctl(t,r,i)}case 21523:return t.tty?0:-59;case 21524:return t.tty?0:-59;default:L("bad ioctl syscall "+r)}}catch(a){return(typeof o>"u"||!(a instanceof o.ErrnoError))&&L(a),-a.errno}}function mt(e,r){if((e|0)===-1||r===0)return-28;var n=M.mappings[e];if(!n)return 0;if(r===n.len){var t=o.getStream(n.fd);t&&n.prot&2&&M.doMsync(e,t,r,n.flags,n.offset),M.mappings[e]=null,n.allocated&&Y(n.malloc)}return 0}function vt(e,r){try{return mt(e,r)}catch(n){return(typeof o>"u"||!(n instanceof o.ErrnoError))&&L(n),-n.errno}}function pt(e,r,n){M.varargs=n;try{var t=M.getStr(e),i=n?M.get():0,a=o.open(t,r,i);return a.fd}catch(s){return(typeof o>"u"||!(s instanceof o.ErrnoError))&&L(s),-s.errno}}function gt(e,r){try{return e=M.getStr(e),M.doStat(o.stat,e,r)}catch(n){return(typeof o>"u"||!(n instanceof o.ErrnoError))&&L(n),-n.errno}}var Ne={};function We(e){for(;e.length;){var r=e.pop(),n=e.pop();n(r)}}function Ce(e){return this.fromWireType(q[e>>2])}var pe={},ce={},He={},ht=48,yt=57;function Wr(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return r>=ht&&r<=yt?"_"+e:e}function fr(e,r){return e=Wr(e),function(){return r.apply(this,arguments)}}function cr(e,r){var n=fr(r,function(t){this.name=r,this.message=t;var i=new Error(t).stack;i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},n}var Hr=void 0;function qe(e){throw new Hr(e)}function de(e,r,n){e.forEach(function(l){He[l]=r});function t(l){var f=n(l);f.length!==e.length&&qe("Mismatched type converter count");for(var c=0;c<e.length;++c)K(e[c],f[c])}var i=new Array(r.length),a=[],s=0;r.forEach(function(l,f){ce.hasOwnProperty(l)?i[f]=ce[l]:(a.push(l),pe.hasOwnProperty(l)||(pe[l]=[]),pe[l].push(function(){i[f]=ce[l],++s,s===a.length&&t(i)}))}),a.length===0&&t(i)}function _t(e){var r=Ne[e];delete Ne[e];var n=r.rawConstructor,t=r.rawDestructor,i=r.fields,a=i.map(function(s){return s.getterReturnType}).concat(i.map(function(s){return s.setterArgumentType}));de([e],a,function(s){var l={};return i.forEach(function(f,c){var m=f.fieldName,v=s[c],p=f.getter,y=f.getterContext,w=s[c+i.length],E=f.setter,R=f.setterContext;l[m]={read:function(T){return v.fromWireType(p(y,T))},write:function(T,h){var _=[];E(R,T,w.toWireType(_,h)),We(_)}}}),[{name:r.name,fromWireType:function(f){var c={};for(var m in l)c[m]=l[m].read(f);return t(f),c},toWireType:function(f,c){for(var m in l)if(!(m in c))throw new TypeError('Missing field:  "'+m+'"');var v=n();for(m in l)l[m].write(v,c[m]);return f!==null&&f.push(t,v),v},argPackAdvance:8,readValueFromPointer:Ce,destructorFunction:t}]})}function Ye(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function wt(){for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);qr=e}var qr=void 0;function x(e){for(var r="",n=e;I[n];)r+=qr[I[n++]];return r}var ge=void 0;function S(e){throw new ge(e)}function K(e,r,n){if(n=n||{},!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var t=r.name;if(e||S('type "'+t+'" must have a positive integer typeid pointer'),ce.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;S("Cannot register type '"+t+"' twice")}if(ce[e]=r,delete He[e],pe.hasOwnProperty(e)){var i=pe[e];delete pe[e],i.forEach(function(a){a()})}}function Et(e,r,n,t,i){var a=Ye(n);r=x(r),K(e,{name:r,fromWireType:function(s){return!!s},toWireType:function(s,l){return l?t:i},argPackAdvance:8,readValueFromPointer:function(s){var l;if(n===1)l=$;else if(n===2)l=ne;else if(n===4)l=g;else throw new TypeError("Unknown boolean type size: "+r);return this.fromWireType(l[s>>a])},destructorFunction:null})}function bt(e){if(!(this instanceof se)||!(e instanceof se))return!1;for(var r=this.$$.ptrType.registeredClass,n=this.$$.ptr,t=e.$$.ptrType.registeredClass,i=e.$$.ptr;r.baseClass;)n=r.upcast(n),r=r.baseClass;for(;t.baseClass;)i=t.upcast(i),t=t.baseClass;return r===t&&n===i}function kt(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function dr(e){function r(n){return n.$$.ptrType.registeredClass.name}S(r(e)+" instance already deleted")}var mr=!1;function Yr(e){}function Dt(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function Vr(e){e.count.value-=1;var r=e.count.value===0;r&&Dt(e)}function Se(e){return typeof FinalizationGroup>"u"?(Se=function(r){return r},e):(mr=new FinalizationGroup(function(r){for(var n=r.next();!n.done;n=r.next()){var t=n.value;t.ptr?Vr(t):console.warn("object already deleted: "+t.ptr)}}),Se=function(r){return mr.register(r,r.$$,r.$$),r},Yr=function(r){mr.unregister(r.$$)},Se(e))}function Ft(){if(this.$$.ptr||dr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Se(Object.create(Object.getPrototypeOf(this),{$$:{value:kt(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function Ct(){this.$$.ptr||dr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&S("Object already scheduled for deletion"),Yr(this),Vr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function St(){return!this.$$.ptr}var Te=void 0,Pe=[];function vr(){for(;Pe.length;){var e=Pe.pop();e.$$.deleteScheduled=!1,e.delete()}}function Tt(){return this.$$.ptr||dr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&S("Object already scheduled for deletion"),Pe.push(this),Pe.length===1&&Te&&Te(vr),this.$$.deleteScheduled=!0,this}function Pt(){se.prototype.isAliasOf=bt,se.prototype.clone=Ft,se.prototype.delete=Ct,se.prototype.isDeleted=St,se.prototype.deleteLater=Tt}function se(){}var Xr={};function Gr(e,r,n){if(e[r].overloadTable===void 0){var t=e[r];e[r]=function(){return e[r].overloadTable.hasOwnProperty(arguments.length)||S("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[r].overloadTable+")!"),e[r].overloadTable[arguments.length].apply(this,arguments)},e[r].overloadTable=[],e[r].overloadTable[t.argCount]=t}}function Kr(e,r,n){u.hasOwnProperty(e)?((n===void 0||u[e].overloadTable!==void 0&&u[e].overloadTable[n]!==void 0)&&S("Cannot register public name '"+e+"' twice"),Gr(u,e,e),u.hasOwnProperty(n)&&S("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),u[e].overloadTable[n]=r):(u[e]=r,n!==void 0&&(u[e].numArguments=n))}function At(e,r,n,t,i,a,s,l){this.name=e,this.constructor=r,this.instancePrototype=n,this.rawDestructor=t,this.baseClass=i,this.getActualType=a,this.upcast=s,this.downcast=l,this.pureVirtualFunctions=[]}function pr(e,r,n){for(;r!==n;)r.upcast||S("Expected null or instance of "+n.name+", got an instance of "+r.name),e=r.upcast(e),r=r.baseClass;return e}function Rt(e,r){if(r===null)return this.isReference&&S("null is not a valid "+this.name),0;r.$$||S('Cannot pass "'+he(r)+'" as a '+this.name),r.$$.ptr||S("Cannot pass deleted object as a pointer of type "+this.name);var n=r.$$.ptrType.registeredClass,t=pr(r.$$.ptr,n,this.registeredClass);return t}function Mt(e,r){var n;if(r===null)return this.isReference&&S("null is not a valid "+this.name),this.isSmartPointer?(n=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,n),n):0;r.$$||S('Cannot pass "'+he(r)+'" as a '+this.name),r.$$.ptr||S("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&r.$$.ptrType.isConst&&S("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);var t=r.$$.ptrType.registeredClass;if(n=pr(r.$$.ptr,t,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&S("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?n=r.$$.smartPtr:S("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:n=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)n=r.$$.smartPtr;else{var i=r.clone();n=this.rawShare(n,N(function(){i.delete()})),e!==null&&e.push(this.rawDestructor,n)}break;default:S("Unsupporting sharing policy")}return n}function Lt(e,r){if(r===null)return this.isReference&&S("null is not a valid "+this.name),0;r.$$||S('Cannot pass "'+he(r)+'" as a '+this.name),r.$$.ptr||S("Cannot pass deleted object as a pointer of type "+this.name),r.$$.ptrType.isConst&&S("Cannot convert argument of type "+r.$$.ptrType.name+" to parameter type "+this.name);var n=r.$$.ptrType.registeredClass,t=pr(r.$$.ptr,n,this.registeredClass);return t}function Ot(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function $t(e){this.rawDestructor&&this.rawDestructor(e)}function Bt(e){e!==null&&e.delete()}function Zr(e,r,n){if(r===n)return e;if(n.baseClass===void 0)return null;var t=Zr(e,r,n.baseClass);return t===null?null:n.downcast(t)}function xt(){return Object.keys(Ae).length}function Ut(){var e=[];for(var r in Ae)Ae.hasOwnProperty(r)&&e.push(Ae[r]);return e}function It(e){Te=e,Pe.length&&Te&&Te(vr)}function zt(){u.getInheritedInstanceCount=xt,u.getLiveInheritedInstances=Ut,u.flushPendingDeletes=vr,u.setDelayFunction=It}var Ae={};function jt(e,r){for(r===void 0&&S("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r}function Nt(e,r){return r=jt(e,r),Ae[r]}function Ve(e,r){(!r.ptrType||!r.ptr)&&qe("makeClassHandle requires ptr and ptrType");var n=!!r.smartPtrType,t=!!r.smartPtr;return n!==t&&qe("Both smartPtrType and smartPtr must be specified"),r.count={value:1},Se(Object.create(e,{$$:{value:r}}))}function Wt(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var n=Nt(this.registeredClass,r);if(n!==void 0){if(n.$$.count.value===0)return n.$$.ptr=r,n.$$.smartPtr=e,n.clone();var t=n.clone();return this.destructor(e),t}function i(){return this.isSmartPointer?Ve(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):Ve(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var a=this.registeredClass.getActualType(r),s=Xr[a];if(!s)return i.call(this);var l;this.isConst?l=s.constPointerType:l=s.pointerType;var f=Zr(r,this.registeredClass,l.registeredClass);return f===null?i.call(this):this.isSmartPointer?Ve(l.registeredClass.instancePrototype,{ptrType:l,ptr:f,smartPtrType:this,smartPtr:e}):Ve(l.registeredClass.instancePrototype,{ptrType:l,ptr:f})}function Ht(){ie.prototype.getPointee=Ot,ie.prototype.destructor=$t,ie.prototype.argPackAdvance=8,ie.prototype.readValueFromPointer=Ce,ie.prototype.deleteObject=Bt,ie.prototype.fromWireType=Wt}function ie(e,r,n,t,i,a,s,l,f,c,m){this.name=e,this.registeredClass=r,this.isReference=n,this.isConst=t,this.isSmartPointer=i,this.pointeeType=a,this.sharingPolicy=s,this.rawGetPointee=l,this.rawConstructor=f,this.rawShare=c,this.rawDestructor=m,!i&&r.baseClass===void 0?t?(this.toWireType=Rt,this.destructorFunction=null):(this.toWireType=Lt,this.destructorFunction=null):this.toWireType=Mt}function qt(e,r,n){u.hasOwnProperty(e)||qe("Replacing nonexistant public symbol"),u[e].overloadTable!==void 0&&n!==void 0?u[e].overloadTable[n]=r:(u[e]=r,u[e].argCount=n)}function Yt(e,r,n){var t=u["dynCall_"+e];return n&&n.length?t.apply(null,[r].concat(n)):t.call(null,r)}function Vt(e,r,n){return Yt(e,r,n)}function Xt(e,r){var n=[];return function(){n.length=arguments.length;for(var t=0;t<arguments.length;t++)n[t]=arguments[t];return Vt(e,r,n)}}function Z(e,r){e=x(e);function n(){return Xt(e,r)}var t=n();return typeof t!="function"&&S("unknown function pointer with signature "+e+": "+r),t}var Jr=void 0;function Qr(e){var r=ln(e),n=x(r);return Y(r),n}function gr(e,r){var n=[],t={};function i(a){if(!t[a]&&!ce[a]){if(He[a]){He[a].forEach(i);return}n.push(a),t[a]=!0}}throw r.forEach(i),new Jr(e+": "+n.map(Qr).join([", "]))}function Gt(e,r,n,t,i,a,s,l,f,c,m,v,p){m=x(m),a=Z(i,a),l&&(l=Z(s,l)),c&&(c=Z(f,c)),p=Z(v,p);var y=Wr(m);Kr(y,function(){gr("Cannot construct "+m+" due to unbound types",[t])}),de([e,r,n],t?[t]:[],function(w){w=w[0];var E,R;t?(E=w.registeredClass,R=E.instancePrototype):R=se.prototype;var T=fr(y,function(){if(Object.getPrototypeOf(this)!==h)throw new ge("Use 'new' to construct "+m);if(_.constructor_body===void 0)throw new ge(m+" has no accessible constructor");var U=_.constructor_body[arguments.length];if(U===void 0)throw new ge("Tried to invoke ctor of "+m+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(_.constructor_body).toString()+") parameters instead!");return U.apply(this,arguments)}),h=Object.create(R,{constructor:{value:T}});T.prototype=h;var _=new At(m,T,h,p,E,a,l,c),C=new ie(m,_,!0,!1,!1),D=new ie(m+"*",_,!1,!1,!1),F=new ie(m+" const*",_,!1,!0,!1);return Xr[e]={pointerType:D,constPointerType:F},qt(y,T),[C,D,F]})}function en(e,r){for(var n=[],t=0;t<e;t++)n.push(g[(r>>2)+t]);return n}function Kt(e,r,n,t,i,a){ae(r>0);var s=en(r,n);i=Z(t,i);var l=[a],f=[];de([],[e],function(c){c=c[0];var m="constructor "+c.name;if(c.registeredClass.constructor_body===void 0&&(c.registeredClass.constructor_body=[]),c.registeredClass.constructor_body[r-1]!==void 0)throw new ge("Cannot register multiple constructors with identical number of parameters ("+(r-1)+") for class '"+c.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return c.registeredClass.constructor_body[r-1]=function(){gr("Cannot construct "+c.name+" due to unbound types",s)},de([],s,function(v){return c.registeredClass.constructor_body[r-1]=function(){arguments.length!==r-1&&S(m+" called with "+arguments.length+" arguments, expected "+(r-1)),f.length=0,l.length=r;for(var y=1;y<r;++y)l[y]=v[y].toWireType(f,arguments[y-1]);var w=i.apply(null,l);return We(f),v[0].fromWireType(w)},[]}),[]})}function Zt(e,r,n,t,i){var a=r.length;a<2&&S("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var s=r[1]!==null&&n!==null,l=!1,f=1;f<r.length;++f)if(r[f]!==null&&r[f].destructorFunction===void 0){l=!0;break}var c=r[0].name!=="void",m=a-2,v=new Array(m),p=[],y=[];return function(){arguments.length!==m&&S("function "+e+" called with "+arguments.length+" arguments, expected "+m+" args!"),y.length=0;var w;p.length=s?2:1,p[0]=i,s&&(w=r[1].toWireType(y,this),p[1]=w);for(var E=0;E<m;++E)v[E]=r[E+2].toWireType(y,arguments[E]),p.push(v[E]);var R=t.apply(null,p);if(l)We(y);else for(var E=s?1:2;E<r.length;E++){var T=E===1?w:v[E-2];r[E].destructorFunction!==null&&r[E].destructorFunction(T)}if(c)return r[0].fromWireType(R)}}function Jt(e,r,n,t,i,a,s,l){var f=en(n,t);r=x(r),a=Z(i,a),de([],[e],function(c){c=c[0];var m=c.name+"."+r;l&&c.registeredClass.pureVirtualFunctions.push(r);function v(){gr("Cannot call "+m+" due to unbound types",f)}var p=c.registeredClass.instancePrototype,y=p[r];return y===void 0||y.overloadTable===void 0&&y.className!==c.name&&y.argCount===n-2?(v.argCount=n-2,v.className=c.name,p[r]=v):(Gr(p,r,m),p[r].overloadTable[n-2]=v),de([],f,function(w){var E=Zt(m,w,c,a,s);return p[r].overloadTable===void 0?(E.argCount=n-2,p[r]=E):p[r].overloadTable[n-2]=E,[]}),[]})}function Qt(e,r,n){e=x(e),de([],[r],function(t){return t=t[0],u[e]=t.fromWireType(n),[]})}var hr=[],W=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function yr(e){e>4&&--W[e].refcount===0&&(W[e]=void 0,hr.push(e))}function ei(){for(var e=0,r=5;r<W.length;++r)W[r]!==void 0&&++e;return e}function ri(){for(var e=5;e<W.length;++e)if(W[e]!==void 0)return W[e];return null}function ni(){u.count_emval_handles=ei,u.get_first_emval=ri}function N(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var r=hr.length?hr.pop():W.length;return W[r]={refcount:1,value:e},r}}}function ti(e,r){r=x(r),K(e,{name:r,fromWireType:function(n){var t=W[n].value;return yr(n),t},toWireType:function(n,t){return N(t)},argPackAdvance:8,readValueFromPointer:Ce,destructorFunction:null})}function ii(e,r,n){switch(r){case 0:return function(t){var i=n?$:I;return this.fromWireType(i[t])};case 1:return function(t){var i=n?ne:ke;return this.fromWireType(i[t>>1])};case 2:return function(t){var i=n?g:q;return this.fromWireType(i[t>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function oi(e,r,n,t){var i=Ye(n);r=x(r);function a(){}a.values={},K(e,{name:r,constructor:a,fromWireType:function(s){return this.constructor.values[s]},toWireType:function(s,l){return l.value},argPackAdvance:8,readValueFromPointer:ii(r,i,t),destructorFunction:null}),Kr(r,a)}function Re(e,r){var n=ce[e];return n===void 0&&S(r+" has unknown type "+Qr(e)),n}function ai(e,r,n){var t=Re(e,"enum");r=x(r);var i=t.constructor,a=Object.create(t.constructor.prototype,{value:{value:n},constructor:{value:fr(t.name+"_"+r,function(){})}});i.values[n]=a,i[r]=a}function he(e){if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e}function ui(e,r){switch(r){case 2:return function(n){return this.fromWireType($r[n>>2])};case 3:return function(n){return this.fromWireType(ur[n>>3])};default:throw new TypeError("Unknown float type: "+e)}}function si(e,r,n){var t=Ye(n);r=x(r),K(e,{name:r,fromWireType:function(i){return i},toWireType:function(i,a){if(typeof a!="number"&&typeof a!="boolean")throw new TypeError('Cannot convert "'+he(a)+'" to '+this.name);return a},argPackAdvance:8,readValueFromPointer:ui(r,t),destructorFunction:null})}function li(e,r,n){switch(r){case 0:return n?function(i){return $[i]}:function(i){return I[i]};case 1:return n?function(i){return ne[i>>1]}:function(i){return ke[i>>1]};case 2:return n?function(i){return g[i>>2]}:function(i){return q[i>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function fi(e,r,n,t,i){r=x(r),i===-1&&(i=4294967295);var a=Ye(n),s=function(c){return c};if(t===0){var l=32-8*n;s=function(c){return c<<l>>>l}}var f=r.indexOf("unsigned")!=-1;K(e,{name:r,fromWireType:s,toWireType:function(c,m){if(typeof m!="number"&&typeof m!="boolean")throw new TypeError('Cannot convert "'+he(m)+'" to '+this.name);if(m<t||m>i)throw new TypeError('Passing a number "'+he(m)+'" from JS side to C/C++ side to an argument of type "'+r+'", which is outside the valid range ['+t+", "+i+"]!");return f?m>>>0:m|0},argPackAdvance:8,readValueFromPointer:li(r,a,t!==0),destructorFunction:null})}function ci(e,r,n){var t=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],i=t[r];function a(s){s=s>>2;var l=q,f=l[s],c=l[s+1];return new i(Ue,c,f)}n=x(n),K(e,{name:n,fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})}function di(e,r){r=x(r);var n=r==="std::string";K(e,{name:r,fromWireType:function(t){var i=q[t>>2],a;if(n)for(var s=t+4,l=0;l<=i;++l){var f=t+4+l;if(l==i||I[f]==0){var c=f-s,m=ue(s,c);a===void 0?a=m:(a+=String.fromCharCode(0),a+=m),s=f+1}}else{for(var v=new Array(i),l=0;l<i;++l)v[l]=String.fromCharCode(I[t+4+l]);a=v.join("")}return Y(t),a},toWireType:function(t,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var a,s=typeof i=="string";s||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array||S("Cannot pass non-string to std::string"),n&&s?a=function(){return be(i)}:a=function(){return i.length};var l=a(),f=me(4+l+1);if(q[f>>2]=l,n&&s)xe(i,f+4,l+1);else if(s)for(var c=0;c<l;++c){var m=i.charCodeAt(c);m>255&&(Y(f),S("String has UTF-16 code units that do not fit in 8 bits")),I[f+4+c]=m}else for(var c=0;c<l;++c)I[f+4+c]=i[c];return t!==null&&t.push(Y,f),f},argPackAdvance:8,readValueFromPointer:Ce,destructorFunction:function(t){Y(t)}})}function mi(e,r,n){n=x(n);var t,i,a,s,l;r===2?(t=An,i=Rn,s=Mn,a=function(){return ke},l=1):r===4&&(t=Ln,i=On,s=$n,a=function(){return q},l=2),K(e,{name:n,fromWireType:function(f){for(var c=q[f>>2],m=a(),v,p=f+4,y=0;y<=c;++y){var w=f+4+y*r;if(y==c||m[w>>l]==0){var E=w-p,R=t(p,E);v===void 0?v=R:(v+=String.fromCharCode(0),v+=R),p=w+r}}return Y(f),v},toWireType:function(f,c){typeof c!="string"&&S("Cannot pass non-string to C++ string type "+n);var m=s(c),v=me(4+m+r);return q[v>>2]=m>>l,i(c,v+4,m+r),f!==null&&f.push(Y,v),v},argPackAdvance:8,readValueFromPointer:Ce,destructorFunction:function(f){Y(f)}})}function vi(e,r,n,t,i,a){Ne[e]={name:x(r),rawConstructor:Z(n,t),rawDestructor:Z(i,a),fields:[]}}function pi(e,r,n,t,i,a,s,l,f,c){Ne[e].fields.push({fieldName:x(r),getterReturnType:n,getter:Z(t,i),getterContext:a,setterArgumentType:s,setter:Z(l,f),setterContext:c})}function gi(e,r){r=x(r),K(e,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:function(){},toWireType:function(n,t){}})}function H(e){return e||S("Cannot use deleted val. handle = "+e),W[e].value}function hi(e,r,n){e=H(e),r=Re(r,"emval::as");var t=[],i=N(t);return g[n>>2]=i,r.toWireType(t,e)}function Xe(e){try{return e()}catch(r){L(r)}}var b={State:{Normal:0,Unwinding:1,Rewinding:2},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,afterUnwind:null,asyncFinalizers:[],sleepCallbacks:[],getCallStackId:function(e){var r=b.callStackNameToId[e];return r===void 0&&(r=b.callStackId++,b.callStackNameToId[e]=r,b.callStackIdToName[r]=e),r},instrumentWasmExports:function(e){var r={};for(var n in e)(function(t){var i=e[t];typeof i=="function"?r[t]=function(){b.exportCallStack.push(t);try{return i.apply(null,arguments)}finally{if(re)return;var a=b.exportCallStack.pop();ae(a===t),b.maybeStopUnwind()}}:r[t]=i})(n);return r},maybeStopUnwind:function(){b.currData&&b.state===b.State.Unwinding&&b.exportCallStack.length===0&&(b.state=b.State.Normal,Xe(u._asyncify_stop_unwind),typeof Fibers<"u"&&Fibers.trampoline())},allocateData:function(){var e=me(12+b.StackSize);return b.setDataHeader(e,e+12,b.StackSize),b.setDataRewindFunc(e),e},setDataHeader:function(e,r,n){g[e>>2]=r,g[e+4>>2]=r+n},setDataRewindFunc:function(e){var r=b.exportCallStack[0],n=b.getCallStackId(r);g[e+8>>2]=n},getDataRewindFunc:function(e){var r=g[e+8>>2],n=b.callStackIdToName[r],t=u.asm[n];return t},handleSleep:function(e){if(!re){if(b.state===b.State.Normal){var r=!1,n=!1;e(function(t){if(!re&&(b.handleSleepReturnValue=t||0,r=!0,!!n)){b.state=b.State.Rewinding,Xe(function(){u._asyncify_start_rewind(b.currData)}),typeof d<"u"&&d.mainLoop.func&&d.mainLoop.resume();var i=b.getDataRewindFunc(b.currData),a=i();if(!b.currData){var s=b.asyncFinalizers;b.asyncFinalizers=[],s.forEach(function(l){l(a)})}}}),n=!0,r||(b.state=b.State.Unwinding,b.currData=b.allocateData(),Xe(function(){u._asyncify_start_unwind(b.currData)}),typeof d<"u"&&d.mainLoop.func&&d.mainLoop.pause())}else b.state===b.State.Rewinding?(b.state=b.State.Normal,Xe(u._asyncify_stop_rewind),Y(b.currData),b.currData=null,b.sleepCallbacks.forEach(function(t){t()})):L("invalid state: "+b.state);return b.handleSleepReturnValue}},handleAsync:function(e){return b.handleSleep(function(r){e().then(r)})}};function yi(e){return b.handleAsync(function(){return e=H(e),e.then(N)})}function rn(e,r){for(var n=new Array(e),t=0;t<e;++t)n[t]=Re(g[(r>>2)+t],"parameter "+t);return n}function _i(e,r,n,t){e=H(e);for(var i=rn(r,n),a=new Array(r),s=0;s<r;++s){var l=i[s];a[s]=l.readValueFromPointer(t),t+=l.argPackAdvance}var f=e.apply(void 0,a);return N(f)}function wi(e){var r=[];return g[e>>2]=N(r),r}var Ei={};function _r(e){var r=Ei[e];return r===void 0?x(e):r}var wr=[];function bi(e,r,n,t,i){return e=wr[e],r=H(r),n=_r(n),e(r,n,wi(t),i)}function ki(e,r){return e=H(e),r=H(r),e==r}function nn(){if(typeof globalThis=="object")return globalThis;function e(r){r.$$$embind_global$$$=r;var n=typeof $$$embind_global$$$=="object"&&r.$$$embind_global$$$===r;return n||delete r.$$$embind_global$$$,n}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&e(global)?$$$embind_global$$$=global:typeof self=="object"&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")}function Di(e){return e===0?N(nn()):(e=_r(e),N(nn()[e]))}function Fi(e){var r=wr.length;return wr.push(e),r}function Ci(e,r){var n=rn(e,r),t=n[0],i=new Array(e-1),a=function(s,l,f,c){for(var m=0,v=0;v<e-1;++v)i[v]=n[v+1].readValueFromPointer(c+m),m+=n[v+1].argPackAdvance;for(var p=s[l].apply(s,i),v=0;v<e-1;++v)n[v+1].deleteObject&&n[v+1].deleteObject(i[v]);if(!t.isVoid)return t.toWireType(f,p)};return Fi(a)}function Si(e,r){return e=H(e),r=H(r),N(e[r])}function Ti(e){e>4&&(W[e].refcount+=1)}function Pi(e){var r=new Array(e+1);return function(n,t,i){r[0]=n;for(var a=0;a<e;++a){var s=Re(g[(t>>2)+a],"parameter "+a);r[a+1]=s.readValueFromPointer(i),i+=s.argPackAdvance}var l=new(n.bind.apply(n,r));return N(l)}}var tn={};function Ai(e,r,n,t){e=H(e);var i=tn[r];return i||(i=Pi(r),tn[r]=i),i(e,n,t)}function Ri(){return N([])}function Mi(e){return N(_r(e))}function Li(){return N({})}function Oi(e){var r=W[e].value;We(r),yr(e)}function $i(e,r,n){e=H(e),r=H(r),n=H(n),e[r]=n}function Bi(e,r){e=Re(e,"_emval_take_value");var n=e.readValueFromPointer(r);return N(n)}function xi(e){return e=H(e),N(typeof e)}function Ui(){L()}var Ge;Ge=function(){return performance.now()};var Ii=!0;function zi(e,r){var n;if(e===0)n=Date.now();else if((e===1||e===4)&&Ii)n=Ge();else return Nr(28),-1;return g[r>>2]=n/1e3|0,g[r+4>>2]=n%1e3*1e3*1e3|0,0}function ji(e,r,n){var t=mo(r,n);return Gn[e].apply(null,t)}function Er(e,r){if(d.mainLoop.timingMode=e,d.mainLoop.timingValue=r,!d.mainLoop.func)return 1;if(e==0)d.mainLoop.scheduler=function(){var s=Math.max(0,d.mainLoop.tickStartTime+r-Ge())|0;setTimeout(d.mainLoop.runner,s)},d.mainLoop.method="timeout";else if(e==1)d.mainLoop.scheduler=function(){d.requestAnimationFrame(d.mainLoop.runner)},d.mainLoop.method="rAF";else if(e==2){if(typeof setImmediate>"u"){var n=[],t="setimmediate",i=function(a){(a.data===t||a.data.target===t)&&(a.stopPropagation(),n.shift()())};addEventListener("message",i,!0),setImmediate=function(s){n.push(s),postMessage(t,"*")}}d.mainLoop.scheduler=function(){setImmediate(d.mainLoop.runner)},d.mainLoop.method="immediate"}return 0}function Ni(e,r,n,t,i){ae(!d.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),d.mainLoop.func=e,d.mainLoop.arg=t;var a=d.mainLoop.currentlyRunningMainloop;if(d.mainLoop.runner=function(){if(!re){if(d.mainLoop.queue.length>0){var l=Date.now(),f=d.mainLoop.queue.shift();if(f.func(f.arg),d.mainLoop.remainingBlockers){var c=d.mainLoop.remainingBlockers,m=c%1==0?c-1:Math.floor(c);f.counted?d.mainLoop.remainingBlockers=m:(m=m+.5,d.mainLoop.remainingBlockers=(8*c+m)/9)}if(console.log('main loop blocker "'+f.name+'" took '+(Date.now()-l)+" ms"),d.mainLoop.updateStatus(),a<d.mainLoop.currentlyRunningMainloop)return;setTimeout(d.mainLoop.runner,0);return}if(!(a<d.mainLoop.currentlyRunningMainloop)){if(d.mainLoop.currentFrameNumber=d.mainLoop.currentFrameNumber+1|0,d.mainLoop.timingMode==1&&d.mainLoop.timingValue>1&&d.mainLoop.currentFrameNumber%d.mainLoop.timingValue!=0){d.mainLoop.scheduler();return}else d.mainLoop.timingMode==0&&(d.mainLoop.tickStartTime=Ge());d.mainLoop.runIter(e),!(a<d.mainLoop.currentlyRunningMainloop)&&(typeof SDL=="object"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),d.mainLoop.scheduler())}}},i||(r&&r>0?Er(0,1e3/r):Er(1,1),d.mainLoop.scheduler()),n)throw"unwind"}var d={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){d.mainLoop.scheduler=null,d.mainLoop.currentlyRunningMainloop++},resume:function(){d.mainLoop.currentlyRunningMainloop++;var e=d.mainLoop.timingMode,r=d.mainLoop.timingValue,n=d.mainLoop.func;d.mainLoop.func=null,Ni(n,0,!1,d.mainLoop.arg,!0),Er(e,r),d.mainLoop.scheduler()},updateStatus:function(){if(u.setStatus){var e=u.statusMessage||"Please wait...",r=d.mainLoop.remainingBlockers,n=d.mainLoop.expectedBlockers;r?r<n?u.setStatus(e+" ("+(n-r)+"/"+n+")"):u.setStatus(e):u.setStatus("")}},runIter:function(e){if(!re){if(u.preMainLoop){var r=u.preMainLoop();if(r===!1)return}try{e()}catch(n){if(n instanceof ko)return;if(n=="unwind")return;throw n&&typeof n=="object"&&n.stack&&B("exception thrown: "+[n,n.stack]),n}u.postMainLoop&&u.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(u.preloadPlugins||(u.preloadPlugins=[]),d.initted)return;d.initted=!0;try{new Blob,d.hasBlobConstructor=!0}catch{d.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}d.BlobBuilder=typeof MozBlobBuilder<"u"?MozBlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:d.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),d.URLObject=typeof window<"u"?window.URL?window.URL:window.webkitURL:void 0,!u.noImageDecoding&&typeof d.URLObject>"u"&&(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),u.noImageDecoding=!0);var e={};e.canHandle=function(a){return!u.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(a)},e.handle=function(a,s,l,f){var c=null;if(d.hasBlobConstructor)try{c=new Blob([a],{type:d.getMimetype(s)}),c.size!==a.length&&(c=new Blob([new Uint8Array(a).buffer],{type:d.getMimetype(s)}))}catch(y){we("Blob constructor present but fails: "+y+"; falling back to blob builder")}if(!c){var m=new d.BlobBuilder;m.append(new Uint8Array(a).buffer),c=m.getBlob()}var v=d.URLObject.createObjectURL(c),p=new Image;p.onload=function(){ae(p.complete,"Image "+s+" could not be decoded");var w=document.createElement("canvas");w.width=p.width,w.height=p.height;var E=w.getContext("2d");E.drawImage(p,0,0),u.preloadedImages[s]=w,d.URLObject.revokeObjectURL(v),l&&l(a)},p.onerror=function(w){console.log("Image "+v+" could not be decoded"),f&&f()},p.src=v},u.preloadPlugins.push(e);var r={};r.canHandle=function(a){return!u.noAudioDecoding&&a.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},r.handle=function(a,s,l,f){var c=!1;function m(E){c||(c=!0,u.preloadedAudios[s]=E,l&&l(a))}function v(){c||(c=!0,u.preloadedAudios[s]=new Audio,f&&f())}if(d.hasBlobConstructor){try{var p=new Blob([a],{type:d.getMimetype(s)})}catch{return v()}var y=d.URLObject.createObjectURL(p),w=new Audio;w.addEventListener("canplaythrough",function(){m(w)},!1),w.onerror=function(R){if(c)return;console.log("warning: browser could not fully decode audio "+s+", trying slower base64 approach");function T(h){for(var _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C="=",D="",F=0,U=0,X=0;X<h.length;X++)for(F=F<<8|h[X],U+=8;U>=6;){var Do=F>>U-6&63;U-=6,D+=_[Do]}return U==2?(D+=_[(F&3)<<4],D+=C+C):U==4&&(D+=_[(F&15)<<2],D+=C),D}w.src="data:audio/x-"+s.substr(-3)+";base64,"+T(a),m(w)},w.src=y,d.safeSetTimeout(function(){m(w)},1e4)}else return v()},u.preloadPlugins.push(r);function n(){d.pointerLock=document.pointerLockElement===u.canvas||document.mozPointerLockElement===u.canvas||document.webkitPointerLockElement===u.canvas||document.msPointerLockElement===u.canvas}var t=u.canvas;t&&(t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock||t.msRequestPointerLock||function(){},t.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},t.exitPointerLock=t.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",n,!1),document.addEventListener("mozpointerlockchange",n,!1),document.addEventListener("webkitpointerlockchange",n,!1),document.addEventListener("mspointerlockchange",n,!1),u.elementPointerLock&&t.addEventListener("click",function(i){!d.pointerLock&&u.canvas.requestPointerLock&&(u.canvas.requestPointerLock(),i.preventDefault())},!1))},createContext:function(e,r,n,t){if(r&&u.ctx&&e==u.canvas)return u.ctx;var i,a;if(r){var s={antialias:!1,alpha:!1,majorVersion:1};if(t)for(var l in t)s[l]=t[l];typeof GL<"u"&&(a=GL.createContext(e,s),a&&(i=GL.getContext(a).GLctx))}else i=e.getContext("2d");return i?(n&&(r||ae(typeof GLctx>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),u.ctx=i,r&&GL.makeContextCurrent(a),u.useWebGL=r,d.moduleContextCreatedCallbacks.forEach(function(f){f()}),d.init()),i):null},destroyContext:function(e,r,n){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(e,r){d.lockPointer=e,d.resizeCanvas=r,typeof d.lockPointer>"u"&&(d.lockPointer=!0),typeof d.resizeCanvas>"u"&&(d.resizeCanvas=!1);var n=u.canvas;function t(){d.isFullscreen=!1;var a=n.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===a?(n.exitFullscreen=d.exitFullscreen,d.lockPointer&&n.requestPointerLock(),d.isFullscreen=!0,d.resizeCanvas?d.setFullscreenCanvasSize():d.updateCanvasDimensions(n)):(a.parentNode.insertBefore(n,a),a.parentNode.removeChild(a),d.resizeCanvas?d.setWindowedCanvasSize():d.updateCanvasDimensions(n)),u.onFullScreen&&u.onFullScreen(d.isFullscreen),u.onFullscreen&&u.onFullscreen(d.isFullscreen)}d.fullscreenHandlersInstalled||(d.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",t,!1),document.addEventListener("mozfullscreenchange",t,!1),document.addEventListener("webkitfullscreenchange",t,!1),document.addEventListener("MSFullscreenChange",t,!1));var i=document.createElement("div");n.parentNode.insertBefore(i,n),i.appendChild(n),i.requestFullscreen=i.requestFullscreen||i.mozRequestFullScreen||i.msRequestFullscreen||(i.webkitRequestFullscreen?function(){i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(i.webkitRequestFullScreen?function(){i.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),i.requestFullscreen()},exitFullscreen:function(){if(!d.isFullscreen)return!1;var e=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){};return e.apply(document,[]),!0},nextRAF:0,fakeRequestAnimationFrame:function(e){var r=Date.now();if(d.nextRAF===0)d.nextRAF=r+1e3/60;else for(;r+2>=d.nextRAF;)d.nextRAF+=1e3/60;var n=Math.max(d.nextRAF-r,0);setTimeout(e,n)},requestAnimationFrame:function(e){if(typeof requestAnimationFrame=="function"){requestAnimationFrame(e);return}var r=d.fakeRequestAnimationFrame;r(e)},safeRequestAnimationFrame:function(e){return d.requestAnimationFrame(function(){re||e()})},safeSetTimeout:function(e,r){return setTimeout(function(){re||e()},r)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var r=0;switch(e.type){case"DOMMouseScroll":r=e.detail/3;break;case"mousewheel":r=e.wheelDelta/120;break;case"wheel":switch(r=e.deltaY,e.deltaMode){case 0:r/=100;break;case 1:r/=3;break;case 2:r*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return r},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(d.pointerLock)e.type!="mousemove"&&"mozMovementX"in e?d.mouseMovementX=d.mouseMovementY=0:(d.mouseMovementX=d.getMovementX(e),d.mouseMovementY=d.getMovementY(e)),typeof SDL<"u"?(d.mouseX=SDL.mouseX+d.mouseMovementX,d.mouseY=SDL.mouseY+d.mouseMovementY):(d.mouseX+=d.mouseMovementX,d.mouseY+=d.mouseMovementY);else{var r=u.canvas.getBoundingClientRect(),n=u.canvas.width,t=u.canvas.height,i=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,a=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset;if(e.type==="touchstart"||e.type==="touchend"||e.type==="touchmove"){var s=e.touch;if(s===void 0)return;var l=s.pageX-(i+r.left),f=s.pageY-(a+r.top);l=l*(n/r.width),f=f*(t/r.height);var c={x:l,y:f};if(e.type==="touchstart")d.lastTouches[s.identifier]=c,d.touches[s.identifier]=c;else if(e.type==="touchend"||e.type==="touchmove"){var m=d.touches[s.identifier];m||(m=c),d.lastTouches[s.identifier]=m,d.touches[s.identifier]=c}return}var v=e.pageX-(i+r.left),p=e.pageY-(a+r.top);v=v*(n/r.width),p=p*(t/r.height),d.mouseMovementX=v-d.mouseX,d.mouseMovementY=p-d.mouseY,d.mouseX=v,d.mouseY=p}},asyncLoad:function(e,r,n,t){var i=t?"":"al "+e;Ar(e,function(a){ae(a,'Loading data file "'+e+'" failed (no arrayBuffer).'),r(new Uint8Array(a)),i&&Ie()},function(a){if(n)n();else throw'Loading data file "'+e+'" failed.'}),i&&sr()},resizeListeners:[],updateResizeListeners:function(){var e=u.canvas;d.resizeListeners.forEach(function(r){r(e.width,e.height)})},setCanvasSize:function(e,r,n){var t=u.canvas;d.updateCanvasDimensions(t,e,r),n||d.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL<"u"){var e=q[SDL.screen>>2];e=e|8388608,g[SDL.screen>>2]=e}d.updateCanvasDimensions(u.canvas),d.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL<"u"){var e=q[SDL.screen>>2];e=e&-8388609,g[SDL.screen>>2]=e}d.updateCanvasDimensions(u.canvas),d.updateResizeListeners()},updateCanvasDimensions:function(e,r,n){r&&n?(e.widthNative=r,e.heightNative=n):(r=e.widthNative,n=e.heightNative);var t=r,i=n;if(u.forcedAspectRatio&&u.forcedAspectRatio>0&&(t/i<u.forcedAspectRatio?t=Math.round(i*u.forcedAspectRatio):i=Math.round(t/u.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&typeof screen<"u"){var a=Math.min(screen.width/t,screen.height/i);t=Math.round(t*a),i=Math.round(i*a)}d.resizeCanvas?(e.width!=t&&(e.width=t),e.height!=i&&(e.height=i),typeof e.style<"u"&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=r&&(e.width=r),e.height!=n&&(e.height=n),typeof e.style<"u"&&(t!=r||i!=n?(e.style.setProperty("width",t+"px","important"),e.style.setProperty("height",i+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var e=d.nextWgetRequestHandle;return d.nextWgetRequestHandle++,e}};function Wi(e,r,n){function t(){(function(i){Fr.apply(null,[e,i])})(r)}n>=0?d.safeSetTimeout(t,n):d.safeRequestAnimationFrame(t)}function Hi(e,r){throw Q(e,r||1),"longjmp"}function qi(e,r){return Hi(e,r)}function Yi(e,r,n){I.copyWithin(e,r,r+n)}function Vi(){return I.length}function Xi(e){try{return Oe.grow(e-Ue.byteLength+65535>>>16),Br(Oe.buffer),1}catch{}}function Gi(e){var r=Vi(),n=2147483648;if(e>n)return!1;for(var t=1;t<=4;t*=2){var i=r*(1+.2/t);i=Math.min(i,e+100663296);var a=Math.min(n,xn(Math.max(e,i),65536)),s=Xi(a);if(s)return!0}return!1}var on={};function Ki(){return Pr||"./this.program"}function Me(){if(!Me.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Ki()};for(var n in on)r[n]=on[n];var t=[];for(var n in r)t.push(n+"="+r[n]);Me.strings=t}return Me.strings}function Zi(e,r){try{var n=0;return Me().forEach(function(t,i){var a=r+n;g[e+i*4>>2]=a,Bn(t,a),n+=t.length+1}),0}catch(t){return(typeof o>"u"||!(t instanceof o.ErrnoError))&&L(t),t.errno}}function Ji(e,r){try{var n=Me();g[e>>2]=n.length;var t=0;return n.forEach(function(i){t+=i.length+1}),g[r>>2]=t,0}catch(i){return(typeof o>"u"||!(i instanceof o.ErrnoError))&&L(i),i.errno}}function Qi(e){try{var r=M.getStreamFromFD(e);return o.close(r),0}catch(n){return(typeof o>"u"||!(n instanceof o.ErrnoError))&&L(n),n.errno}}function eo(e,r){try{var n=M.getStreamFromFD(e),t=n.tty?2:o.isDir(n.mode)?3:o.isLink(n.mode)?7:4;return $[r>>0]=t,0}catch(i){return(typeof o>"u"||!(i instanceof o.ErrnoError))&&L(i),i.errno}}function ro(e,r,n,t){try{var i=M.getStreamFromFD(e),a=M.doReadv(i,r,n);return g[t>>2]=a,0}catch(s){return(typeof o>"u"||!(s instanceof o.ErrnoError))&&L(s),s.errno}}function no(e,r,n,t,i){try{var a=M.getStreamFromFD(e),s=4294967296,l=n*s+(r>>>0),f=9007199254740992;return l<=-f||l>=f?-61:(o.llseek(a,l,t),j=[a.position>>>0,(A=a.position,+Math.abs(A)>=1?A>0?(Math.min(+Math.floor(A/4294967296),4294967295)|0)>>>0:~~+Math.ceil((A-+(~~A>>>0))/4294967296)>>>0:0)],g[i>>2]=j[0],g[i+4>>2]=j[1],a.getdents&&l===0&&t===0&&(a.getdents=null),0)}catch(c){return(typeof o>"u"||!(c instanceof o.ErrnoError))&&L(c),c.errno}}function to(e,r,n,t){try{var i=M.getStreamFromFD(e),a=M.doWritev(i,r,n);return g[t>>2]=a,0}catch(s){return(typeof o>"u"||!(s instanceof o.ErrnoError))&&L(s),s.errno}}function io(){return Tn()|0}function oo(e){var r=Date.now();return g[e>>2]=r/1e3|0,g[e+4>>2]=r%1e3*1e3|0,0}function ao(e){Sn(e|0)}function uo(e,r,n){return 0}function so(e,r){return 0}function Ke(e){return e%4===0&&(e%100!==0||e%400===0)}function br(e,r){for(var n=0,t=0;t<=r;n+=e[t++]);return n}var Ze=[31,29,31,30,31,30,31,31,30,31,30,31],Je=[31,28,31,30,31,30,31,31,30,31,30,31];function Qe(e,r){for(var n=new Date(e.getTime());r>0;){var t=Ke(n.getFullYear()),i=n.getMonth(),a=(t?Ze:Je)[i];if(r>a-n.getDate())r-=a-n.getDate()+1,n.setDate(1),i<11?n.setMonth(i+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1));else return n.setDate(n.getDate()+r),n}return n}function lo(e,r,n,t){var i=g[t+40>>2],a={tm_sec:g[t>>2],tm_min:g[t+4>>2],tm_hour:g[t+8>>2],tm_mday:g[t+12>>2],tm_mon:g[t+16>>2],tm_year:g[t+20>>2],tm_wday:g[t+24>>2],tm_yday:g[t+28>>2],tm_isdst:g[t+32>>2],tm_gmtoff:g[t+36>>2],tm_zone:i?ue(i):""},s=ue(n),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in l)s=s.replace(new RegExp(f,"g"),l[f]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=["January","February","March","April","May","June","July","August","September","October","November","December"];function v(h,_,C){for(var D=typeof h=="number"?h.toString():h||"";D.length<_;)D=C[0]+D;return D}function p(h,_){return v(h,_,"0")}function y(h,_){function C(F){return F<0?-1:F>0?1:0}var D;return(D=C(h.getFullYear()-_.getFullYear()))===0&&(D=C(h.getMonth()-_.getMonth()))===0&&(D=C(h.getDate()-_.getDate())),D}function w(h){switch(h.getDay()){case 0:return new Date(h.getFullYear()-1,11,29);case 1:return h;case 2:return new Date(h.getFullYear(),0,3);case 3:return new Date(h.getFullYear(),0,2);case 4:return new Date(h.getFullYear(),0,1);case 5:return new Date(h.getFullYear()-1,11,31);case 6:return new Date(h.getFullYear()-1,11,30)}}function E(h){var _=Qe(new Date(h.tm_year+1900,0,1),h.tm_yday),C=new Date(_.getFullYear(),0,4),D=new Date(_.getFullYear()+1,0,4),F=w(C),U=w(D);return y(F,_)<=0?y(U,_)<=0?_.getFullYear()+1:_.getFullYear():_.getFullYear()-1}var R={"%a":function(h){return c[h.tm_wday].substring(0,3)},"%A":function(h){return c[h.tm_wday]},"%b":function(h){return m[h.tm_mon].substring(0,3)},"%B":function(h){return m[h.tm_mon]},"%C":function(h){var _=h.tm_year+1900;return p(_/100|0,2)},"%d":function(h){return p(h.tm_mday,2)},"%e":function(h){return v(h.tm_mday,2," ")},"%g":function(h){return E(h).toString().substring(2)},"%G":function(h){return E(h)},"%H":function(h){return p(h.tm_hour,2)},"%I":function(h){var _=h.tm_hour;return _==0?_=12:_>12&&(_-=12),p(_,2)},"%j":function(h){return p(h.tm_mday+br(Ke(h.tm_year+1900)?Ze:Je,h.tm_mon-1),3)},"%m":function(h){return p(h.tm_mon+1,2)},"%M":function(h){return p(h.tm_min,2)},"%n":function(){return`
`},"%p":function(h){return h.tm_hour>=0&&h.tm_hour<12?"AM":"PM"},"%S":function(h){return p(h.tm_sec,2)},"%t":function(){return"	"},"%u":function(h){return h.tm_wday||7},"%U":function(h){var _=new Date(h.tm_year+1900,0,1),C=_.getDay()===0?_:Qe(_,7-_.getDay()),D=new Date(h.tm_year+1900,h.tm_mon,h.tm_mday);if(y(C,D)<0){var F=br(Ke(D.getFullYear())?Ze:Je,D.getMonth()-1)-31,U=31-C.getDate(),X=U+F+D.getDate();return p(Math.ceil(X/7),2)}return y(C,_)===0?"01":"00"},"%V":function(h){var _=new Date(h.tm_year+1900,0,4),C=new Date(h.tm_year+1901,0,4),D=w(_),F=w(C),U=Qe(new Date(h.tm_year+1900,0,1),h.tm_yday);if(y(U,D)<0)return"53";if(y(F,U)<=0)return"01";var X;return D.getFullYear()<h.tm_year+1900?X=h.tm_yday+32-D.getDate():X=h.tm_yday+1-D.getDate(),p(Math.ceil(X/7),2)},"%w":function(h){return h.tm_wday},"%W":function(h){var _=new Date(h.tm_year,0,1),C=_.getDay()===1?_:Qe(_,_.getDay()===0?1:7-_.getDay()+1),D=new Date(h.tm_year+1900,h.tm_mon,h.tm_mday);if(y(C,D)<0){var F=br(Ke(D.getFullYear())?Ze:Je,D.getMonth()-1)-31,U=31-C.getDate(),X=U+F+D.getDate();return p(Math.ceil(X/7),2)}return y(C,_)===0?"01":"00"},"%y":function(h){return(h.tm_year+1900).toString().substring(2)},"%Y":function(h){return h.tm_year+1900},"%z":function(h){var _=h.tm_gmtoff,C=_>=0;return _=Math.abs(_)/60,_=_/60*100+_%60,(C?"+":"-")+("0000"+_).slice(-4)},"%Z":function(h){return h.tm_zone},"%%":function(){return"%"}};for(var f in R)s.indexOf(f)>=0&&(s=s.replace(new RegExp(f,"g"),R[f](a)));var T=nr(s,!1);return T.length>r?0:(Or(T,e),T.length-1)}function fo(e,r,n,t){return lo(e,r,n,t)}function co(e){var r=Date.now()/1e3|0;return e&&(g[e>>2]=r),r}var kr=[];function mo(e,r){kr.length=0;var n;for(r>>=2;n=I[e++];){var t=n<105;t&&r&1&&r++,kr.push(t?ur[r++>>1]:g[r]),++r}return kr}var an=function(e,r,n,t){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=o.nextInode++,this.name=r,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=t},er=365,rr=146;Object.defineProperties(an.prototype,{read:{get:function(){return(this.mode&er)===er},set:function(e){e?this.mode|=er:this.mode&=~er}},write:{get:function(){return(this.mode&rr)===rr},set:function(e){e?this.mode|=rr:this.mode&=~rr}},isFolder:{get:function(){return o.isDir(this.mode)}},isDevice:{get:function(){return o.isChrdev(this.mode)}}}),o.FSNode=an,o.staticInit(),Hr=u.InternalError=cr(Error,"InternalError"),wt(),ge=u.BindingError=cr(Error,"BindingError"),Pt(),Ht(),zt(),Jr=u.UnboundTypeError=cr(Error,"UnboundTypeError"),ni(),u.requestFullscreen=function(r,n){d.requestFullscreen(r,n)},u.requestAnimationFrame=function(r){d.requestAnimationFrame(r)},u.setCanvasSize=function(r,n,t){d.setCanvasSize(r,n,t)},u.pauseMainLoop=function(){d.mainLoop.pause()},u.resumeMainLoop=function(){d.mainLoop.resume()},u.getUserMedia=function(){d.getUserMedia()},u.createContext=function(r,n,t,i){return d.createContext(r,n,t,i)};function nr(e,r,n){var t=n>0?n:be(e)+1,i=new Array(t),a=Be(e,i,0,i.length);return r&&(i.length=a),i}var vo={j:Kn,a:Zn,b:Qn,ba:et,aa:nt,L:ot,ca:at,ja:ut,ea:je,ga:st,ha:lt,B:ft,fa:ct,P:dt,da:vt,M:pt,K:gt,z:_t,la:Et,k:Gt,m:Kt,d:Jt,ia:Qt,ka:ti,r:oi,q:ai,Q:si,p:fi,o:ci,R:di,E:mi,A:vi,s:pi,ma:gi,w:hi,oa:yi,ya:_i,h:bi,H:yr,va:ki,ta:Di,g:Ci,U:Si,J:Ti,sa:Ai,pa:Ri,xa:Mi,ra:Li,ua:Oi,D:$i,i:Bi,qa:xi,u:Ui,F:zi,G:ji,T:Wi,y:qi,W:Yi,X:Gi,_:Zi,$:Ji,C:Qi,Z:eo,O:ro,V:no,N:to,e:io,S:oo,wa:Fe,l:ho,t:go,Aa:_o,Ba:po,v:yo,x:wo,I:bo,za:Eo,f:ao,c:uo,na:so,Y:fo,n:co};Xn();var un=u.___wasm_call_ctors=function(){return(un=u.___wasm_call_ctors=u.asm.Da).apply(null,arguments)},Y=u._free=function(){return(Y=u._free=u.asm.Fa).apply(null,arguments)},me=u._malloc=function(){return(me=u._malloc=u.asm.Ga).apply(null,arguments)},sn=u.___errno_location=function(){return(sn=u.___errno_location=u.asm.Ha).apply(null,arguments)};u._readLicenceInternalError=function(){return(u._readLicenceInternalError=u.asm.Ia).apply(null,arguments)},u._readLicenceInternal=function(){return(u._readLicenceInternal=u.asm.Ja).apply(null,arguments)},u._writeLicenceInternal=function(){return(u._writeLicenceInternal=u.asm.Ka).apply(null,arguments)},u._writeLicenceInternalError=function(){return(u._writeLicenceInternalError=u.asm.La).apply(null,arguments)},u._deleteLicenceInternal=function(){return(u._deleteLicenceInternal=u.asm.Ma).apply(null,arguments)},u._deleteLicenceInternalError=function(){return(u._deleteLicenceInternalError=u.asm.Na).apply(null,arguments)};var ln=u.___getTypeName=function(){return(ln=u.___getTypeName=u.asm.Oa).apply(null,arguments)};u.___embind_register_native_and_builtin_types=function(){return(u.___embind_register_native_and_builtin_types=u.asm.Pa).apply(null,arguments)};var ye=u.__get_tzname=function(){return(ye=u.__get_tzname=u.asm.Qa).apply(null,arguments)},fn=u.__get_daylight=function(){return(fn=u.__get_daylight=u.asm.Ra).apply(null,arguments)},cn=u.__get_timezone=function(){return(cn=u.__get_timezone=u.asm.Sa).apply(null,arguments)},J=u.stackSave=function(){return(J=u.stackSave=u.asm.Ta).apply(null,arguments)},V=u.stackRestore=function(){return(V=u.stackRestore=u.asm.Ua).apply(null,arguments)},Dr=u.stackAlloc=function(){return(Dr=u.stackAlloc=u.asm.Va).apply(null,arguments)},Q=u._setThrew=function(){return(Q=u._setThrew=u.asm.Wa).apply(null,arguments)},dn=u.dynCall_iiiii=function(){return(dn=u.dynCall_iiiii=u.asm.Xa).apply(null,arguments)},mn=u.dynCall_iii=function(){return(mn=u.dynCall_iii=u.asm.Ya).apply(null,arguments)},Fr=u.dynCall_vi=function(){return(Fr=u.dynCall_vi=u.asm.Za).apply(null,arguments)},vn=u.dynCall_iiii=function(){return(vn=u.dynCall_iiii=u.asm._a).apply(null,arguments)},pn=u.dynCall_ii=function(){return(pn=u.dynCall_ii=u.asm.$a).apply(null,arguments)},gn=u.dynCall_vii=function(){return(gn=u.dynCall_vii=u.asm.ab).apply(null,arguments)};u.dynCall_viijii=function(){return(u.dynCall_viijii=u.asm.bb).apply(null,arguments)};var hn=u.dynCall_viiii=function(){return(hn=u.dynCall_viiii=u.asm.cb).apply(null,arguments)};u.dynCall_iifi=function(){return(u.dynCall_iifi=u.asm.db).apply(null,arguments)},u.dynCall_iiff=function(){return(u.dynCall_iiff=u.asm.eb).apply(null,arguments)};var yn=u.dynCall_v=function(){return(yn=u.dynCall_v=u.asm.fb).apply(null,arguments)};u.dynCall_viiiii=function(){return(u.dynCall_viiiii=u.asm.gb).apply(null,arguments)},u.dynCall_iiiff=function(){return(u.dynCall_iiiff=u.asm.hb).apply(null,arguments)};var _n=u.dynCall_viii=function(){return(_n=u.dynCall_viii=u.asm.ib).apply(null,arguments)};u.dynCall_iiifii=function(){return(u.dynCall_iiifii=u.asm.jb).apply(null,arguments)},u.dynCall_iiiiiiiii=function(){return(u.dynCall_iiiiiiiii=u.asm.kb).apply(null,arguments)},u.dynCall_iiiiii=function(){return(u.dynCall_iiiiii=u.asm.lb).apply(null,arguments)},u.dynCall_i=function(){return(u.dynCall_i=u.asm.mb).apply(null,arguments)},u.dynCall_viiiiiiiiiiiii=function(){return(u.dynCall_viiiiiiiiiiiii=u.asm.nb).apply(null,arguments)},u.dynCall_viiiiifiiffi=function(){return(u.dynCall_viiiiifiiffi=u.asm.ob).apply(null,arguments)},u.dynCall_viifffi=function(){return(u.dynCall_viifffi=u.asm.pb).apply(null,arguments)},u.dynCall_fii=function(){return(u.dynCall_fii=u.asm.qb).apply(null,arguments)},u.dynCall_viif=function(){return(u.dynCall_viif=u.asm.rb).apply(null,arguments)},u.dynCall_iiiiiiiiiiiiii=function(){return(u.dynCall_iiiiiiiiiiiiii=u.asm.sb).apply(null,arguments)},u.dynCall_iiiiiifiiffi=function(){return(u.dynCall_iiiiiifiiffi=u.asm.tb).apply(null,arguments)},u.dynCall_viiifffi=function(){return(u.dynCall_viiifffi=u.asm.ub).apply(null,arguments)},u.dynCall_viiiiiii=function(){return(u.dynCall_viiiiiii=u.asm.vb).apply(null,arguments)},u.dynCall_viiiiii=function(){return(u.dynCall_viiiiii=u.asm.wb).apply(null,arguments)},u.dynCall_iiiiiiii=function(){return(u.dynCall_iiiiiiii=u.asm.xb).apply(null,arguments)},u.dynCall_iiiiiii=function(){return(u.dynCall_iiiiiii=u.asm.yb).apply(null,arguments)};var wn=u.dynCall_viiiiiiiii=function(){return(wn=u.dynCall_viiiiiiiii=u.asm.zb).apply(null,arguments)};u.dynCall_fi=function(){return(u.dynCall_fi=u.asm.Ab).apply(null,arguments)},u.dynCall_vif=function(){return(u.dynCall_vif=u.asm.Bb).apply(null,arguments)},u.dynCall_ff=function(){return(u.dynCall_ff=u.asm.Cb).apply(null,arguments)},u.dynCall_iiiiifii=function(){return(u.dynCall_iiiiifii=u.asm.Db).apply(null,arguments)},u.dynCall_iiid=function(){return(u.dynCall_iiid=u.asm.Eb).apply(null,arguments)},u.dynCall_jiji=function(){return(u.dynCall_jiji=u.asm.Fb).apply(null,arguments)},u.dynCall_iidiiii=function(){return(u.dynCall_iidiiii=u.asm.Gb).apply(null,arguments)},u.dynCall_iiiiij=function(){return(u.dynCall_iiiiij=u.asm.Hb).apply(null,arguments)},u.dynCall_iiiiid=function(){return(u.dynCall_iiiiid=u.asm.Ib).apply(null,arguments)},u.dynCall_iiiiijj=function(){return(u.dynCall_iiiiijj=u.asm.Jb).apply(null,arguments)},u.dynCall_iiiiiijj=function(){return(u.dynCall_iiiiiijj=u.asm.Kb).apply(null,arguments)},u._asyncify_start_unwind=function(){return(u._asyncify_start_unwind=u.asm.Lb).apply(null,arguments)},u._asyncify_stop_unwind=function(){return(u._asyncify_stop_unwind=u.asm.Mb).apply(null,arguments)},u._asyncify_start_rewind=function(){return(u._asyncify_start_rewind=u.asm.Nb).apply(null,arguments)},u._asyncify_stop_rewind=function(){return(u._asyncify_stop_rewind=u.asm.Ob).apply(null,arguments)};function po(e,r,n,t,i){var a=J();try{return dn(e,r,n,t,i)}catch(s){if(V(a),s!==s+0&&s!=="longjmp")throw s;Q(1,0)}}function go(e,r,n){var t=J();try{return mn(e,r,n)}catch(i){if(V(t),i!==i+0&&i!=="longjmp")throw i;Q(1,0)}}function ho(e,r){var n=J();try{return pn(e,r)}catch(t){if(V(n),t!==t+0&&t!=="longjmp")throw t;Q(1,0)}}function yo(e,r,n){var t=J();try{gn(e,r,n)}catch(i){if(V(t),i!==i+0&&i!=="longjmp")throw i;Q(1,0)}}function _o(e,r,n,t){var i=J();try{return vn(e,r,n,t)}catch(a){if(V(i),a!==a+0&&a!=="longjmp")throw a;Q(1,0)}}function wo(e,r,n,t){var i=J();try{_n(e,r,n,t)}catch(a){if(V(i),a!==a+0&&a!=="longjmp")throw a;Q(1,0)}}function Eo(e,r,n,t,i,a,s,l,f,c){var m=J();try{wn(e,r,n,t,i,a,s,l,f,c)}catch(v){if(V(m),v!==v+0&&v!=="longjmp")throw v;Q(1,0)}}function bo(e,r,n,t,i){var a=J();try{hn(e,r,n,t,i)}catch(s){if(V(a),s!==s+0&&s!=="longjmp")throw s;Q(1,0)}}var tr;function ko(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}De=function e(){tr||Cr(),tr||(De=e)};function Cr(e){if(le>0||(In(),le>0))return;function r(){tr||(tr=!0,u.calledRun=!0,!re&&(zn(),jn(),Tr(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),Nn()))}u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),r()},1)):r()}if(u.run=Cr,u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();return Cr(),u.ready}}();module.exports=Fo;
